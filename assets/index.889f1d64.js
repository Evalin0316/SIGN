(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))r(c);new MutationObserver(c=>{for(const p of c)if(p.type==="childList")for(const v of p.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&r(v)}).observe(document,{childList:!0,subtree:!0});function n(c){const p={};return c.integrity&&(p.integrity=c.integrity),c.referrerpolicy&&(p.referrerPolicy=c.referrerpolicy),c.crossorigin==="use-credentials"?p.credentials="include":c.crossorigin==="anonymous"?p.credentials="omit":p.credentials="same-origin",p}function r(c){if(c.ep)return;c.ep=!0;const p=n(c);fetch(c.href,p)}})();/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function nd(e){const t=Object.create(null);for(const n of e.split(","))t[n]=1;return n=>n in t}const De={},Ma=[],Mi=()=>{},Pv=()=>!1,uu=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),id=e=>e.startsWith("onUpdate:"),fn=Object.assign,rd=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Ov=Object.prototype.hasOwnProperty,Oe=(e,t)=>Ov.call(e,t),te=Array.isArray,Ra=e=>xl(e)==="[object Map]",Za=e=>xl(e)==="[object Set]",_p=e=>xl(e)==="[object Date]",fe=e=>typeof e=="function",nn=e=>typeof e=="string",Ui=e=>typeof e=="symbol",Me=e=>e!==null&&typeof e=="object",Bm=e=>(Me(e)||fe(e))&&fe(e.then)&&fe(e.catch),Um=Object.prototype.toString,xl=e=>Um.call(e),Lv=e=>xl(e).slice(8,-1),zm=e=>xl(e)==="[object Object]",sd=e=>nn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ko=nd(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),fu=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},kv=/-(\w)/g,_i=fu(e=>e.replace(kv,(t,n)=>n?n.toUpperCase():"")),Ev=/\B([A-Z])/g,$s=fu(e=>e.replace(Ev,"-$1").toLowerCase()),hu=fu(e=>e.charAt(0).toUpperCase()+e.slice(1)),Of=fu(e=>e?`on${hu(e)}`:""),cs=(e,t)=>!Object.is(e,t),Ec=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},qm=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},Yc=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Nv=e=>{const t=nn(e)?Number(e):NaN;return isNaN(t)?e:t};let xp;const Sl=()=>xp||(xp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function ad(e){if(te(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],c=nn(r)?Mv(r):ad(r);if(c)for(const p in c)t[p]=c[p]}return t}else if(nn(e)||Me(e))return e}const Fv=/;(?![^(]*\))/g,Iv=/:([^]+)/,Dv=/\/\*[^]*?\*\//g;function Mv(e){const t={};return e.replace(Dv,"").split(Fv).forEach(n=>{if(n){const r=n.split(Iv);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function cn(e){let t="";if(nn(e))t=e;else if(te(e))for(let n=0;n<e.length;n++){const r=cn(e[n]);r&&(t+=r+" ")}else if(Me(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Rv="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jv=nd(Rv);function Hm(e){return!!e||e===""}function Bv(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=Cl(e[r],t[r]);return n}function Cl(e,t){if(e===t)return!0;let n=_p(e),r=_p(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Ui(e),r=Ui(t),n||r)return e===t;if(n=te(e),r=te(t),n||r)return n&&r?Bv(e,t):!1;if(n=Me(e),r=Me(t),n||r){if(!n||!r)return!1;const c=Object.keys(e).length,p=Object.keys(t).length;if(c!==p)return!1;for(const v in e){const o=e.hasOwnProperty(v),i=t.hasOwnProperty(v);if(o&&!i||!o&&i||!Cl(e[v],t[v]))return!1}}return String(e)===String(t)}function od(e,t){return e.findIndex(n=>Cl(n,t))}const Wm=e=>!!(e&&e.__v_isRef===!0),us=e=>nn(e)?e:e==null?"":te(e)||Me(e)&&(e.toString===Um||!fe(e.toString))?Wm(e)?us(e.value):JSON.stringify(e,Vm,2):String(e),Vm=(e,t)=>Wm(t)?Vm(e,t.value):Ra(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,c],p)=>(n[Lf(r,p)+" =>"]=c,n),{})}:Za(t)?{[`Set(${t.size})`]:[...t.values()].map(n=>Lf(n))}:Ui(t)?Lf(t):Me(t)&&!te(t)&&!zm(t)?String(t):t,Lf=(e,t="")=>{var n;return Ui(e)?`Symbol(${(n=e.description)!=null?n:t})`:e};/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let ai;class Uv{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=ai,!t&&ai&&(this.index=(ai.scopes||(ai.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].pause();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,n;if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].resume();for(t=0,n=this.effects.length;t<n;t++)this.effects[t].resume()}}run(t){if(this._active){const n=ai;try{return ai=this,t()}finally{ai=n}}}on(){ai=this}off(){ai=this.parent}stop(t){if(this._active){this._active=!1;let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(this.effects.length=0,n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.cleanups.length=0,this.scopes){for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){const c=this.parent.scopes.pop();c&&c!==this&&(this.parent.scopes[this.index]=c,c.index=this.index)}this.parent=void 0}}}function zv(){return ai}let Be;const kf=new WeakSet;class Ym{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,ai&&ai.active&&ai.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,kf.has(this)&&(kf.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Gm(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Sp(this),Km(this);const t=Be,n=Ri;Be=this,Ri=!0;try{return this.fn()}finally{$m(this),Be=t,Ri=n,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)ud(t);this.deps=this.depsTail=void 0,Sp(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?kf.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){oh(this)&&this.run()}get dirty(){return oh(this)}}let Xm=0,$o,Jo;function Gm(e,t=!1){if(e.flags|=8,t){e.next=Jo,Jo=e;return}e.next=$o,$o=e}function ld(){Xm++}function cd(){if(--Xm>0)return;if(Jo){let t=Jo;for(Jo=void 0;t;){const n=t.next;t.next=void 0,t.flags&=-9,t=n}}let e;for(;$o;){let t=$o;for($o=void 0;t;){const n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(r){e||(e=r)}t=n}}if(e)throw e}function Km(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function $m(e){let t,n=e.depsTail,r=n;for(;r;){const c=r.prevDep;r.version===-1?(r===n&&(n=c),ud(r),qv(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=c}e.deps=t,e.depsTail=n}function oh(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Jm(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Jm(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===al))return;e.globalVersion=al;const t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!oh(e)){e.flags&=-3;return}const n=Be,r=Ri;Be=e,Ri=!0;try{Km(e);const c=e.fn(e._value);(t.version===0||cs(c,e._value))&&(e._value=c,t.version++)}catch(c){throw t.version++,c}finally{Be=n,Ri=r,$m(e),e.flags&=-3}}function ud(e,t=!1){const{dep:n,prevSub:r,nextSub:c}=e;if(r&&(r.nextSub=c,e.prevSub=void 0),c&&(c.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let p=n.computed.deps;p;p=p.nextDep)ud(p,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function qv(e){const{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}let Ri=!0;const Qm=[];function vs(){Qm.push(Ri),Ri=!1}function ys(){const e=Qm.pop();Ri=e===void 0?!0:e}function Sp(e){const{cleanup:t}=e;if(e.cleanup=void 0,t){const n=Be;Be=void 0;try{t()}finally{Be=n}}}let al=0;class Hv{constructor(t,n){this.sub=t,this.dep=n,this.version=n.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class fd{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!Be||!Ri||Be===this.computed)return;let n=this.activeLink;if(n===void 0||n.sub!==Be)n=this.activeLink=new Hv(Be,this),Be.deps?(n.prevDep=Be.depsTail,Be.depsTail.nextDep=n,Be.depsTail=n):Be.deps=Be.depsTail=n,Zm(n);else if(n.version===-1&&(n.version=this.version,n.nextDep)){const r=n.nextDep;r.prevDep=n.prevDep,n.prevDep&&(n.prevDep.nextDep=r),n.prevDep=Be.depsTail,n.nextDep=void 0,Be.depsTail.nextDep=n,Be.depsTail=n,Be.deps===n&&(Be.deps=r)}return n}trigger(t){this.version++,al++,this.notify(t)}notify(t){ld();try{for(let n=this.subs;n;n=n.prevSub)n.sub.notify()&&n.sub.dep.notify()}finally{cd()}}}function Zm(e){if(e.dep.sc++,e.sub.flags&4){const t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let r=t.deps;r;r=r.nextDep)Zm(r)}const n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}const Xc=new WeakMap,Hs=Symbol(""),lh=Symbol(""),ol=Symbol("");function Fn(e,t,n){if(Ri&&Be){let r=Xc.get(e);r||Xc.set(e,r=new Map);let c=r.get(n);c||(r.set(n,c=new fd),c.map=r,c.key=n),c.track()}}function kr(e,t,n,r,c,p){const v=Xc.get(e);if(!v){al++;return}const o=i=>{i&&i.trigger()};if(ld(),t==="clear")v.forEach(o);else{const i=te(e),u=i&&sd(n);if(i&&n==="length"){const f=Number(r);v.forEach((a,l)=>{(l==="length"||l===ol||!Ui(l)&&l>=f)&&o(a)})}else switch((n!==void 0||v.has(void 0))&&o(v.get(n)),u&&o(v.get(ol)),t){case"add":i?u&&o(v.get("length")):(o(v.get(Hs)),Ra(e)&&o(v.get(lh)));break;case"delete":i||(o(v.get(Hs)),Ra(e)&&o(v.get(lh)));break;case"set":Ra(e)&&o(v.get(Hs));break}}cd()}function Wv(e,t){const n=Xc.get(e);return n&&n.get(t)}function Pa(e){const t=Ce(e);return t===e?t:(Fn(t,"iterate",ol),wi(e)?t:t.map(In))}function du(e){return Fn(e=Ce(e),"iterate",ol),e}const Vv={__proto__:null,[Symbol.iterator](){return Ef(this,Symbol.iterator,In)},concat(...e){return Pa(this).concat(...e.map(t=>te(t)?Pa(t):t))},entries(){return Ef(this,"entries",e=>(e[1]=In(e[1]),e))},every(e,t){return Ar(this,"every",e,t,void 0,arguments)},filter(e,t){return Ar(this,"filter",e,t,n=>n.map(In),arguments)},find(e,t){return Ar(this,"find",e,t,In,arguments)},findIndex(e,t){return Ar(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ar(this,"findLast",e,t,In,arguments)},findLastIndex(e,t){return Ar(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ar(this,"forEach",e,t,void 0,arguments)},includes(...e){return Nf(this,"includes",e)},indexOf(...e){return Nf(this,"indexOf",e)},join(e){return Pa(this).join(e)},lastIndexOf(...e){return Nf(this,"lastIndexOf",e)},map(e,t){return Ar(this,"map",e,t,void 0,arguments)},pop(){return jo(this,"pop")},push(...e){return jo(this,"push",e)},reduce(e,...t){return Cp(this,"reduce",e,t)},reduceRight(e,...t){return Cp(this,"reduceRight",e,t)},shift(){return jo(this,"shift")},some(e,t){return Ar(this,"some",e,t,void 0,arguments)},splice(...e){return jo(this,"splice",e)},toReversed(){return Pa(this).toReversed()},toSorted(e){return Pa(this).toSorted(e)},toSpliced(...e){return Pa(this).toSpliced(...e)},unshift(...e){return jo(this,"unshift",e)},values(){return Ef(this,"values",In)}};function Ef(e,t,n){const r=du(e),c=r[t]();return r!==e&&!wi(e)&&(c._next=c.next,c.next=()=>{const p=c._next();return p.value&&(p.value=n(p.value)),p}),c}const Yv=Array.prototype;function Ar(e,t,n,r,c,p){const v=du(e),o=v!==e&&!wi(e),i=v[t];if(i!==Yv[t]){const a=i.apply(e,p);return o?In(a):a}let u=n;v!==e&&(o?u=function(a,l){return n.call(this,In(a),l,e)}:n.length>2&&(u=function(a,l){return n.call(this,a,l,e)}));const f=i.call(v,u,r);return o&&c?c(f):f}function Cp(e,t,n,r){const c=du(e);let p=n;return c!==e&&(wi(e)?n.length>3&&(p=function(v,o,i){return n.call(this,v,o,i,e)}):p=function(v,o,i){return n.call(this,v,In(o),i,e)}),c[t](p,...r)}function Nf(e,t,n){const r=Ce(e);Fn(r,"iterate",ol);const c=r[t](...n);return(c===-1||c===!1)&&pd(n[0])?(n[0]=Ce(n[0]),r[t](...n)):c}function jo(e,t,n=[]){vs(),ld();const r=Ce(e)[t].apply(e,n);return cd(),ys(),r}const Xv=nd("__proto__,__v_isRef,__isVue"),t1=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Ui));function Gv(e){Ui(e)||(e=String(e));const t=Ce(this);return Fn(t,"has",e),t.hasOwnProperty(e)}class e1{constructor(t=!1,n=!1){this._isReadonly=t,this._isShallow=n}get(t,n,r){if(n==="__v_skip")return t.__v_skip;const c=this._isReadonly,p=this._isShallow;if(n==="__v_isReactive")return!c;if(n==="__v_isReadonly")return c;if(n==="__v_isShallow")return p;if(n==="__v_raw")return r===(c?p?r5:s1:p?r1:i1).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(r)?t:void 0;const v=te(t);if(!c){let i;if(v&&(i=Vv[n]))return i;if(n==="hasOwnProperty")return Gv}const o=Reflect.get(t,n,Tn(t)?t:r);return(Ui(n)?t1.has(n):Xv(n))||(c||Fn(t,"get",n),p)?o:Tn(o)?v&&sd(n)?o:o.value:Me(o)?c?o1(o):pu(o):o}}class n1 extends e1{constructor(t=!1){super(!1,t)}set(t,n,r,c){let p=t[n];if(!this._isShallow){const i=Ys(p);if(!wi(r)&&!Ys(r)&&(p=Ce(p),r=Ce(r)),!te(t)&&Tn(p)&&!Tn(r))return i?!1:(p.value=r,!0)}const v=te(t)&&sd(n)?Number(n)<t.length:Oe(t,n),o=Reflect.set(t,n,r,Tn(t)?t:c);return t===Ce(c)&&(v?cs(r,p)&&kr(t,"set",n,r):kr(t,"add",n,r)),o}deleteProperty(t,n){const r=Oe(t,n);t[n];const c=Reflect.deleteProperty(t,n);return c&&r&&kr(t,"delete",n,void 0),c}has(t,n){const r=Reflect.has(t,n);return(!Ui(n)||!t1.has(n))&&Fn(t,"has",n),r}ownKeys(t){return Fn(t,"iterate",te(t)?"length":Hs),Reflect.ownKeys(t)}}class Kv extends e1{constructor(t=!1){super(!0,t)}set(t,n){return!0}deleteProperty(t,n){return!0}}const $v=new n1,Jv=new Kv,Qv=new n1(!0);const ch=e=>e,wc=e=>Reflect.getPrototypeOf(e);function Zv(e,t,n){return function(...r){const c=this.__v_raw,p=Ce(c),v=Ra(p),o=e==="entries"||e===Symbol.iterator&&v,i=e==="keys"&&v,u=c[e](...r),f=n?ch:t?uh:In;return!t&&Fn(p,"iterate",i?lh:Hs),{next(){const{value:a,done:l}=u.next();return l?{value:a,done:l}:{value:o?[f(a[0]),f(a[1])]:f(a),done:l}},[Symbol.iterator](){return this}}}}function _c(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function t5(e,t){const n={get(c){const p=this.__v_raw,v=Ce(p),o=Ce(c);e||(cs(c,o)&&Fn(v,"get",c),Fn(v,"get",o));const{has:i}=wc(v),u=t?ch:e?uh:In;if(i.call(v,c))return u(p.get(c));if(i.call(v,o))return u(p.get(o));p!==v&&p.get(c)},get size(){const c=this.__v_raw;return!e&&Fn(Ce(c),"iterate",Hs),Reflect.get(c,"size",c)},has(c){const p=this.__v_raw,v=Ce(p),o=Ce(c);return e||(cs(c,o)&&Fn(v,"has",c),Fn(v,"has",o)),c===o?p.has(c):p.has(c)||p.has(o)},forEach(c,p){const v=this,o=v.__v_raw,i=Ce(o),u=t?ch:e?uh:In;return!e&&Fn(i,"iterate",Hs),o.forEach((f,a)=>c.call(p,u(f),u(a),v))}};return fn(n,e?{add:_c("add"),set:_c("set"),delete:_c("delete"),clear:_c("clear")}:{add(c){!t&&!wi(c)&&!Ys(c)&&(c=Ce(c));const p=Ce(this);return wc(p).has.call(p,c)||(p.add(c),kr(p,"add",c,c)),this},set(c,p){!t&&!wi(p)&&!Ys(p)&&(p=Ce(p));const v=Ce(this),{has:o,get:i}=wc(v);let u=o.call(v,c);u||(c=Ce(c),u=o.call(v,c));const f=i.call(v,c);return v.set(c,p),u?cs(p,f)&&kr(v,"set",c,p):kr(v,"add",c,p),this},delete(c){const p=Ce(this),{has:v,get:o}=wc(p);let i=v.call(p,c);i||(c=Ce(c),i=v.call(p,c)),o&&o.call(p,c);const u=p.delete(c);return i&&kr(p,"delete",c,void 0),u},clear(){const c=Ce(this),p=c.size!==0,v=c.clear();return p&&kr(c,"clear",void 0,void 0),v}}),["keys","values","entries",Symbol.iterator].forEach(c=>{n[c]=Zv(c,e,t)}),n}function hd(e,t){const n=t5(e,t);return(r,c,p)=>c==="__v_isReactive"?!e:c==="__v_isReadonly"?e:c==="__v_raw"?r:Reflect.get(Oe(n,c)&&c in r?n:r,c,p)}const e5={get:hd(!1,!1)},n5={get:hd(!1,!0)},i5={get:hd(!0,!1)};const i1=new WeakMap,r1=new WeakMap,s1=new WeakMap,r5=new WeakMap;function s5(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function a5(e){return e.__v_skip||!Object.isExtensible(e)?0:s5(Lv(e))}function pu(e){return Ys(e)?e:dd(e,!1,$v,e5,i1)}function a1(e){return dd(e,!1,Qv,n5,r1)}function o1(e){return dd(e,!0,Jv,i5,s1)}function dd(e,t,n,r,c){if(!Me(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const p=c.get(e);if(p)return p;const v=a5(e);if(v===0)return e;const o=new Proxy(e,v===2?r:n);return c.set(e,o),o}function ja(e){return Ys(e)?ja(e.__v_raw):!!(e&&e.__v_isReactive)}function Ys(e){return!!(e&&e.__v_isReadonly)}function wi(e){return!!(e&&e.__v_isShallow)}function pd(e){return e?!!e.__v_raw:!1}function Ce(e){const t=e&&e.__v_raw;return t?Ce(t):e}function o5(e){return!Oe(e,"__v_skip")&&Object.isExtensible(e)&&qm(e,"__v_skip",!0),e}const In=e=>Me(e)?pu(e):e,uh=e=>Me(e)?o1(e):e;function Tn(e){return e?e.__v_isRef===!0:!1}function Qt(e){return l1(e,!1)}function l5(e){return l1(e,!0)}function l1(e,t){return Tn(e)?e:new c5(e,t)}class c5{constructor(t,n){this.dep=new fd,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=n?t:Ce(t),this._value=n?t:In(t),this.__v_isShallow=n}get value(){return this.dep.track(),this._value}set value(t){const n=this._rawValue,r=this.__v_isShallow||wi(t)||Ys(t);t=r?t:Ce(t),cs(t,n)&&(this._rawValue=t,this._value=r?t:In(t),this.dep.trigger())}}function Ba(e){return Tn(e)?e.value:e}const u5={get:(e,t,n)=>t==="__v_raw"?e:Ba(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const c=e[t];return Tn(c)&&!Tn(n)?(c.value=n,!0):Reflect.set(e,t,n,r)}};function c1(e){return ja(e)?e:new Proxy(e,u5)}function f5(e){const t=te(e)?new Array(e.length):{};for(const n in e)t[n]=d5(e,n);return t}class h5{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0,this._value=void 0}get value(){const t=this._object[this._key];return this._value=t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Wv(Ce(this._object),this._key)}}function d5(e,t,n){const r=e[t];return Tn(r)?r:new h5(e,t,n)}class p5{constructor(t,n,r){this.fn=t,this.setter=n,this._value=void 0,this.dep=new fd(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=al-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!n,this.isSSR=r}notify(){if(this.flags|=16,!(this.flags&8)&&Be!==this)return Gm(this,!0),!0}get value(){const t=this.dep.track();return Jm(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function g5(e,t,n=!1){let r,c;return fe(e)?r=e:(r=e.get,c=e.set),new p5(r,c,n)}const xc={},Gc=new WeakMap;let Ms;function m5(e,t=!1,n=Ms){if(n){let r=Gc.get(n);r||Gc.set(n,r=[]),r.push(e)}}function v5(e,t,n=De){const{immediate:r,deep:c,once:p,scheduler:v,augmentJob:o,call:i}=n,u=x=>c?x:wi(x)||c===!1||c===0?Er(x,1):Er(x);let f,a,l,s,h=!1,g=!1;if(Tn(e)?(a=()=>e.value,h=wi(e)):ja(e)?(a=()=>u(e),h=!0):te(e)?(g=!0,h=e.some(x=>ja(x)||wi(x)),a=()=>e.map(x=>{if(Tn(x))return x.value;if(ja(x))return u(x);if(fe(x))return i?i(x,2):x()})):fe(e)?t?a=i?()=>i(e,2):e:a=()=>{if(l){vs();try{l()}finally{ys()}}const x=Ms;Ms=f;try{return i?i(e,3,[s]):e(s)}finally{Ms=x}}:a=Mi,t&&c){const x=a,A=c===!0?1/0:c;a=()=>Er(x(),A)}const d=zv(),m=()=>{f.stop(),d&&d.active&&rd(d.effects,f)};if(p&&t){const x=t;t=(...A)=>{x(...A),m()}}let b=g?new Array(e.length).fill(xc):xc;const _=x=>{if(!(!(f.flags&1)||!f.dirty&&!x))if(t){const A=f.run();if(c||h||(g?A.some((L,E)=>cs(L,b[E])):cs(A,b))){l&&l();const L=Ms;Ms=f;try{const E=[A,b===xc?void 0:g&&b[0]===xc?[]:b,s];i?i(t,3,E):t(...E),b=A}finally{Ms=L}}}else f.run()};return o&&o(_),f=new Ym(a),f.scheduler=v?()=>v(_,!1):_,s=x=>m5(x,!1,f),l=f.onStop=()=>{const x=Gc.get(f);if(x){if(i)i(x,4);else for(const A of x)A();Gc.delete(f)}},t?r?_(!0):b=f.run():v?v(_.bind(null,!0),!0):f.run(),m.pause=f.pause.bind(f),m.resume=f.resume.bind(f),m.stop=m,m}function Er(e,t=1/0,n){if(t<=0||!Me(e)||e.__v_skip||(n=n||new Set,n.has(e)))return e;if(n.add(e),t--,Tn(e))Er(e.value,t,n);else if(te(e))for(let r=0;r<e.length;r++)Er(e[r],t,n);else if(Za(e)||Ra(e))e.forEach(r=>{Er(r,t,n)});else if(zm(e)){for(const r in e)Er(e[r],t,n);for(const r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&Er(e[r],t,n)}return e}/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function Al(e,t,n,r){try{return r?e(...r):e()}catch(c){gu(c,t,n)}}function zi(e,t,n,r){if(fe(e)){const c=Al(e,t,n,r);return c&&Bm(c)&&c.catch(p=>{gu(p,t,n)}),c}if(te(e)){const c=[];for(let p=0;p<e.length;p++)c.push(zi(e[p],t,n,r));return c}}function gu(e,t,n,r=!0){const c=t?t.vnode:null,{errorHandler:p,throwUnhandledErrorInProduction:v}=t&&t.appContext.config||De;if(t){let o=t.parent;const i=t.proxy,u=`https://vuejs.org/error-reference/#runtime-${n}`;for(;o;){const f=o.ec;if(f){for(let a=0;a<f.length;a++)if(f[a](e,i,u)===!1)return}o=o.parent}if(p){vs(),Al(p,null,10,[e,i,u]),ys();return}}y5(e,n,c,r,v)}function y5(e,t,n,r=!0,c=!1){if(c)throw e;console.error(e)}const qn=[];let rr=-1;const Ua=[];let ns=null,ka=0;const u1=Promise.resolve();let Kc=null;function gd(e){const t=Kc||u1;return e?t.then(this?e.bind(this):e):t}function b5(e){let t=rr+1,n=qn.length;for(;t<n;){const r=t+n>>>1,c=qn[r],p=ll(c);p<e||p===e&&c.flags&2?t=r+1:n=r}return t}function md(e){if(!(e.flags&1)){const t=ll(e),n=qn[qn.length-1];!n||!(e.flags&2)&&t>=ll(n)?qn.push(e):qn.splice(b5(t),0,e),e.flags|=1,f1()}}function f1(){Kc||(Kc=u1.then(d1))}function w5(e){te(e)?Ua.push(...e):ns&&e.id===-1?ns.splice(ka+1,0,e):e.flags&1||(Ua.push(e),e.flags|=1),f1()}function Ap(e,t,n=rr+1){for(;n<qn.length;n++){const r=qn[n];if(r&&r.flags&2){if(e&&r.id!==e.uid)continue;qn.splice(n,1),n--,r.flags&4&&(r.flags&=-2),r(),r.flags&4||(r.flags&=-2)}}}function h1(e){if(Ua.length){const t=[...new Set(Ua)].sort((n,r)=>ll(n)-ll(r));if(Ua.length=0,ns){ns.push(...t);return}for(ns=t,ka=0;ka<ns.length;ka++){const n=ns[ka];n.flags&4&&(n.flags&=-2),n.flags&8||n(),n.flags&=-2}ns=null,ka=0}}const ll=e=>e.id==null?e.flags&2?-1:1/0:e.id;function d1(e){const t=Mi;try{for(rr=0;rr<qn.length;rr++){const n=qn[rr];n&&!(n.flags&8)&&(n.flags&4&&(n.flags&=-2),Al(n,n.i,n.i?15:14),n.flags&4||(n.flags&=-2))}}finally{for(;rr<qn.length;rr++){const n=qn[rr];n&&(n.flags&=-2)}rr=-1,qn.length=0,h1(),Kc=null,(qn.length||Ua.length)&&d1()}}let _n=null,p1=null;function $c(e){const t=_n;return _n=e,p1=e&&e.type.__scopeId||null,t}function is(e,t=_n,n){if(!t||e._n)return e;const r=(...c)=>{r._d&&Dp(-1);const p=$c(t);let v;try{v=e(...c)}finally{$c(p),r._d&&Dp(1)}return v};return r._n=!0,r._c=!0,r._d=!0,r}function ar(e,t){if(_n===null)return e;const n=_u(_n),r=e.dirs||(e.dirs=[]);for(let c=0;c<t.length;c++){let[p,v,o,i=De]=t[c];p&&(fe(p)&&(p={mounted:p,updated:p}),p.deep&&Er(v),r.push({dir:p,instance:n,value:v,oldValue:void 0,arg:o,modifiers:i}))}return e}function Ns(e,t,n,r){const c=e.dirs,p=t&&t.dirs;for(let v=0;v<c.length;v++){const o=c[v];p&&(o.oldValue=p[v].value);let i=o.dir[r];i&&(vs(),zi(i,n,8,[e.el,o,e,t]),ys())}}const _5=Symbol("_vte"),g1=e=>e.__isTeleport,rs=Symbol("_leaveCb"),Sc=Symbol("_enterCb");function x5(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return eo(()=>{e.isMounted=!0}),S1(()=>{e.isUnmounting=!0}),e}const bi=[Function,Array],m1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:bi,onEnter:bi,onAfterEnter:bi,onEnterCancelled:bi,onBeforeLeave:bi,onLeave:bi,onAfterLeave:bi,onLeaveCancelled:bi,onBeforeAppear:bi,onAppear:bi,onAfterAppear:bi,onAppearCancelled:bi},v1=e=>{const t=e.subTree;return t.component?v1(t.component):t},S5={name:"BaseTransition",props:m1,setup(e,{slots:t}){const n=wy(),r=x5();return()=>{const c=t.default&&w1(t.default(),!0);if(!c||!c.length)return;const p=y1(c),v=Ce(e),{mode:o}=v;if(r.isLeaving)return Ff(p);const i=Tp(p);if(!i)return Ff(p);let u=fh(i,v,r,n,a=>u=a);i.type!==Hn&&cl(i,u);let f=n.subTree&&Tp(n.subTree);if(f&&f.type!==Hn&&!Bs(i,f)&&v1(n).type!==Hn){let a=fh(f,v,r,n);if(cl(f,a),o==="out-in"&&i.type!==Hn)return r.isLeaving=!0,a.afterLeave=()=>{r.isLeaving=!1,n.job.flags&8||n.update(),delete a.afterLeave,f=void 0},Ff(p);o==="in-out"&&i.type!==Hn?a.delayLeave=(l,s,h)=>{const g=b1(r,f);g[String(f.key)]=f,l[rs]=()=>{s(),l[rs]=void 0,delete u.delayedLeave,f=void 0},u.delayedLeave=()=>{h(),delete u.delayedLeave,f=void 0}}:f=void 0}else f&&(f=void 0);return p}}};function y1(e){let t=e[0];if(e.length>1){for(const n of e)if(n.type!==Hn){t=n;break}}return t}const C5=S5;function b1(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function fh(e,t,n,r,c){const{appear:p,mode:v,persisted:o=!1,onBeforeEnter:i,onEnter:u,onAfterEnter:f,onEnterCancelled:a,onBeforeLeave:l,onLeave:s,onAfterLeave:h,onLeaveCancelled:g,onBeforeAppear:d,onAppear:m,onAfterAppear:b,onAppearCancelled:_}=t,x=String(e.key),A=b1(n,e),L=(Y,et)=>{Y&&zi(Y,r,9,et)},E=(Y,et)=>{const j=et[1];L(Y,et),te(Y)?Y.every(M=>M.length<=1)&&j():Y.length<=1&&j()},F={mode:v,persisted:o,beforeEnter(Y){let et=i;if(!n.isMounted)if(p)et=d||i;else return;Y[rs]&&Y[rs](!0);const j=A[x];j&&Bs(e,j)&&j.el[rs]&&j.el[rs](),L(et,[Y])},enter(Y){let et=u,j=f,M=a;if(!n.isMounted)if(p)et=m||u,j=b||f,M=_||a;else return;let tt=!1;const Z=Y[Sc]=ft=>{tt||(tt=!0,ft?L(M,[Y]):L(j,[Y]),F.delayedLeave&&F.delayedLeave(),Y[Sc]=void 0)};et?E(et,[Y,Z]):Z()},leave(Y,et){const j=String(e.key);if(Y[Sc]&&Y[Sc](!0),n.isUnmounting)return et();L(l,[Y]);let M=!1;const tt=Y[rs]=Z=>{M||(M=!0,et(),Z?L(g,[Y]):L(h,[Y]),Y[rs]=void 0,A[j]===e&&delete A[j])};A[j]=e,s?E(s,[Y,tt]):tt()},clone(Y){const et=fh(Y,t,n,r,c);return c&&c(et),et}};return F}function Ff(e){if(mu(e))return e=fs(e),e.children=null,e}function Tp(e){if(!mu(e))return g1(e.type)&&e.children?y1(e.children):e;const{shapeFlag:t,children:n}=e;if(n){if(t&16)return n[0];if(t&32&&fe(n.default))return n.default()}}function cl(e,t){e.shapeFlag&6&&e.component?(e.transition=t,cl(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function w1(e,t=!1,n){let r=[],c=0;for(let p=0;p<e.length;p++){let v=e[p];const o=n==null?v.key:String(n)+String(v.key!=null?v.key:p);v.type===wn?(v.patchFlag&128&&c++,r=r.concat(w1(v.children,t,o))):(t||v.type!==Hn)&&r.push(o!=null?fs(v,{key:o}):v)}if(c>1)for(let p=0;p<r.length;p++)r[p].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function to(e,t){return fe(e)?(()=>fn({name:e.name},t,{setup:e}))():e}function _1(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function Jc(e,t,n,r,c=!1){if(te(e)){e.forEach((h,g)=>Jc(h,t&&(te(t)?t[g]:t),n,r,c));return}if(za(r)&&!c){r.shapeFlag&512&&r.type.__asyncResolved&&r.component.subTree.component&&Jc(e,t,n,r.component.subTree);return}const p=r.shapeFlag&4?_u(r.component):r.el,v=c?null:p,{i:o,r:i}=e,u=t&&t.r,f=o.refs===De?o.refs={}:o.refs,a=o.setupState,l=Ce(a),s=a===De?()=>!1:h=>Oe(l,h);if(u!=null&&u!==i&&(nn(u)?(f[u]=null,s(u)&&(a[u]=null)):Tn(u)&&(u.value=null)),fe(i))Al(i,o,12,[v,f]);else{const h=nn(i),g=Tn(i);if(h||g){const d=()=>{if(e.f){const m=h?s(i)?a[i]:f[i]:i.value;c?te(m)&&rd(m,p):te(m)?m.includes(p)||m.push(p):h?(f[i]=[p],s(i)&&(a[i]=f[i])):(i.value=[p],e.k&&(f[e.k]=i.value))}else h?(f[i]=v,s(i)&&(a[i]=v)):g&&(i.value=v,e.k&&(f[e.k]=v))};v?(d.id=-1,si(d,n)):d()}}}Sl().requestIdleCallback;Sl().cancelIdleCallback;const za=e=>!!e.type.__asyncLoader,mu=e=>e.type.__isKeepAlive;function A5(e,t){x1(e,"a",t)}function T5(e,t){x1(e,"da",t)}function x1(e,t,n=An){const r=e.__wdc||(e.__wdc=()=>{let c=n;for(;c;){if(c.isDeactivated)return;c=c.parent}return e()});if(vu(t,r,n),n){let c=n.parent;for(;c&&c.parent;)mu(c.parent.vnode)&&P5(r,t,n,c),c=c.parent}}function P5(e,t,n,r){const c=vu(t,e,r,!0);vd(()=>{rd(r[t],c)},n)}function vu(e,t,n=An,r=!1){if(n){const c=n[e]||(n[e]=[]),p=t.__weh||(t.__weh=(...v)=>{vs();const o=Tl(n),i=zi(t,n,e,v);return o(),ys(),i});return r?c.unshift(p):c.push(p),p}}const Dr=e=>(t,n=An)=>{(!dl||e==="sp")&&vu(e,(...r)=>t(...r),n)},O5=Dr("bm"),eo=Dr("m"),L5=Dr("bu"),k5=Dr("u"),S1=Dr("bum"),vd=Dr("um"),E5=Dr("sp"),N5=Dr("rtg"),F5=Dr("rtc");function I5(e,t=An){vu("ec",e,t)}const C1="components";function un(e,t){return M5(C1,e,!0,t)||e}const D5=Symbol.for("v-ndc");function M5(e,t,n=!0,r=!1){const c=_n||An;if(c){const p=c.type;if(e===C1){const o=Ay(p,!1);if(o&&(o===t||o===_i(t)||o===hu(_i(t))))return p}const v=Pp(c[e]||p[e],t)||Pp(c.appContext[e],t);return!v&&r?p:v}}function Pp(e,t){return e&&(e[t]||e[_i(t)]||e[hu(_i(t))])}function yu(e,t,n,r){let c;const p=n&&n[r],v=te(e);if(v||nn(e)){const o=v&&ja(e);let i=!1;o&&(i=!wi(e),e=du(e)),c=new Array(e.length);for(let u=0,f=e.length;u<f;u++)c[u]=t(i?In(e[u]):e[u],u,void 0,p&&p[u])}else if(typeof e=="number"){c=new Array(e);for(let o=0;o<e;o++)c[o]=t(o+1,o,void 0,p&&p[o])}else if(Me(e))if(e[Symbol.iterator])c=Array.from(e,(o,i)=>t(o,i,void 0,p&&p[i]));else{const o=Object.keys(e);c=new Array(o.length);for(let i=0,u=o.length;i<u;i++){const f=o[i];c[i]=t(e[f],f,i,p&&p[i])}}else c=[];return n&&(n[r]=c),c}function A1(e,t,n={},r,c){if(_n.ce||_n.parent&&za(_n.parent)&&_n.parent.ce)return t!=="default"&&(n.name=t),ae(),fl(wn,null,[ye("slot",n,r&&r())],64);let p=e[t];p&&p._c&&(p._d=!1),ae();const v=p&&T1(p(n)),o=n.key||v&&v.key,i=fl(wn,{key:(o&&!Ui(o)?o:`_${t}`)+(!v&&r?"_fb":"")},v||(r?r():[]),v&&e._===1?64:-2);return!c&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),p&&p._c&&(p._d=!0),i}function T1(e){return e.some(t=>hl(t)?!(t.type===Hn||t.type===wn&&!T1(t.children)):!0)?e:null}const hh=e=>e?Y1(e)?_u(e):hh(e.parent):null,Qo=fn(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>hh(e.parent),$root:e=>hh(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>yd(e),$forceUpdate:e=>e.f||(e.f=()=>{md(e.update)}),$nextTick:e=>e.n||(e.n=gd.bind(e.proxy)),$watch:e=>ry.bind(e)}),If=(e,t)=>e!==De&&!e.__isScriptSetup&&Oe(e,t),R5={get({_:e},t){if(t==="__v_skip")return!0;const{ctx:n,setupState:r,data:c,props:p,accessCache:v,type:o,appContext:i}=e;let u;if(t[0]!=="$"){const s=v[t];if(s!==void 0)switch(s){case 1:return r[t];case 2:return c[t];case 4:return n[t];case 3:return p[t]}else{if(If(r,t))return v[t]=1,r[t];if(c!==De&&Oe(c,t))return v[t]=2,c[t];if((u=e.propsOptions[0])&&Oe(u,t))return v[t]=3,p[t];if(n!==De&&Oe(n,t))return v[t]=4,n[t];dh&&(v[t]=0)}}const f=Qo[t];let a,l;if(f)return t==="$attrs"&&Fn(e.attrs,"get",""),f(e);if((a=o.__cssModules)&&(a=a[t]))return a;if(n!==De&&Oe(n,t))return v[t]=4,n[t];if(l=i.config.globalProperties,Oe(l,t))return l[t]},set({_:e},t,n){const{data:r,setupState:c,ctx:p}=e;return If(c,t)?(c[t]=n,!0):r!==De&&Oe(r,t)?(r[t]=n,!0):Oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(p[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:c,propsOptions:p}},v){let o;return!!n[v]||e!==De&&Oe(e,v)||If(t,v)||(o=p[0])&&Oe(o,v)||Oe(r,v)||Oe(Qo,v)||Oe(c.config.globalProperties,v)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Oe(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Op(e){return te(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}let dh=!0;function j5(e){const t=yd(e),n=e.proxy,r=e.ctx;dh=!1,t.beforeCreate&&Lp(t.beforeCreate,e,"bc");const{data:c,computed:p,methods:v,watch:o,provide:i,inject:u,created:f,beforeMount:a,mounted:l,beforeUpdate:s,updated:h,activated:g,deactivated:d,beforeDestroy:m,beforeUnmount:b,destroyed:_,unmounted:x,render:A,renderTracked:L,renderTriggered:E,errorCaptured:F,serverPrefetch:Y,expose:et,inheritAttrs:j,components:M,directives:tt,filters:Z}=t;if(u&&B5(u,r,null),v)for(const pt in v){const ct=v[pt];fe(ct)&&(r[pt]=ct.bind(n))}if(c){const pt=c.call(n,n);Me(pt)&&(e.data=pu(pt))}if(dh=!0,p)for(const pt in p){const ct=p[pt],D=fe(ct)?ct.bind(n,n):fe(ct.get)?ct.get.bind(n,n):Mi,$=!fe(ct)&&fe(ct.set)?ct.set.bind(n):Mi,nt=qe({get:D,set:$});Object.defineProperty(r,pt,{enumerable:!0,configurable:!0,get:()=>nt.value,set:T=>nt.value=T})}if(o)for(const pt in o)P1(o[pt],r,n,pt);if(i){const pt=fe(i)?i.call(n):i;Reflect.ownKeys(pt).forEach(ct=>{Nc(ct,pt[ct])})}f&&Lp(f,e,"c");function ht(pt,ct){te(ct)?ct.forEach(D=>pt(D.bind(n))):ct&&pt(ct.bind(n))}if(ht(O5,a),ht(eo,l),ht(L5,s),ht(k5,h),ht(A5,g),ht(T5,d),ht(I5,F),ht(F5,L),ht(N5,E),ht(S1,b),ht(vd,x),ht(E5,Y),te(et))if(et.length){const pt=e.exposed||(e.exposed={});et.forEach(ct=>{Object.defineProperty(pt,ct,{get:()=>n[ct],set:D=>n[ct]=D})})}else e.exposed||(e.exposed={});A&&e.render===Mi&&(e.render=A),j!=null&&(e.inheritAttrs=j),M&&(e.components=M),tt&&(e.directives=tt),Y&&_1(e)}function B5(e,t,n=Mi){te(e)&&(e=ph(e));for(const r in e){const c=e[r];let p;Me(c)?"default"in c?p=ji(c.from||r,c.default,!0):p=ji(c.from||r):p=ji(c),Tn(p)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>p.value,set:v=>p.value=v}):t[r]=p}}function Lp(e,t,n){zi(te(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function P1(e,t,n,r){let c=r.includes(".")?z1(n,r):()=>n[r];if(nn(e)){const p=t[e];fe(p)&&ur(c,p)}else if(fe(e))ur(c,e.bind(n));else if(Me(e))if(te(e))e.forEach(p=>P1(p,t,n,r));else{const p=fe(e.handler)?e.handler.bind(n):t[e.handler];fe(p)&&ur(c,p,e)}}function yd(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:c,optionsCache:p,config:{optionMergeStrategies:v}}=e.appContext,o=p.get(t);let i;return o?i=o:!c.length&&!n&&!r?i=t:(i={},c.length&&c.forEach(u=>Qc(i,u,v,!0)),Qc(i,t,v)),Me(t)&&p.set(t,i),i}function Qc(e,t,n,r=!1){const{mixins:c,extends:p}=t;p&&Qc(e,p,n,!0),c&&c.forEach(v=>Qc(e,v,n,!0));for(const v in t)if(!(r&&v==="expose")){const o=U5[v]||n&&n[v];e[v]=o?o(e[v],t[v]):t[v]}return e}const U5={data:kp,props:Ep,emits:Ep,methods:Vo,computed:Vo,beforeCreate:zn,created:zn,beforeMount:zn,mounted:zn,beforeUpdate:zn,updated:zn,beforeDestroy:zn,beforeUnmount:zn,destroyed:zn,unmounted:zn,activated:zn,deactivated:zn,errorCaptured:zn,serverPrefetch:zn,components:Vo,directives:Vo,watch:q5,provide:kp,inject:z5};function kp(e,t){return t?e?function(){return fn(fe(e)?e.call(this,this):e,fe(t)?t.call(this,this):t)}:t:e}function z5(e,t){return Vo(ph(e),ph(t))}function ph(e){if(te(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function zn(e,t){return e?[...new Set([].concat(e,t))]:t}function Vo(e,t){return e?fn(Object.create(null),e,t):t}function Ep(e,t){return e?te(e)&&te(t)?[...new Set([...e,...t])]:fn(Object.create(null),Op(e),Op(t!=null?t:{})):t}function q5(e,t){if(!e)return t;if(!t)return e;const n=fn(Object.create(null),e);for(const r in t)n[r]=zn(e[r],t[r]);return n}function O1(){return{app:null,config:{isNativeTag:Pv,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let H5=0;function W5(e,t){return function(r,c=null){fe(r)||(r=fn({},r)),c!=null&&!Me(c)&&(c=null);const p=O1(),v=new WeakSet,o=[];let i=!1;const u=p.app={_uid:H5++,_component:r,_props:c,_container:null,_context:p,_instance:null,version:Py,get config(){return p.config},set config(f){},use(f,...a){return v.has(f)||(f&&fe(f.install)?(v.add(f),f.install(u,...a)):fe(f)&&(v.add(f),f(u,...a))),u},mixin(f){return p.mixins.includes(f)||p.mixins.push(f),u},component(f,a){return a?(p.components[f]=a,u):p.components[f]},directive(f,a){return a?(p.directives[f]=a,u):p.directives[f]},mount(f,a,l){if(!i){const s=u._ceVNode||ye(r,c);return s.appContext=p,l===!0?l="svg":l===!1&&(l=void 0),a&&t?t(s,f):e(s,f,l),i=!0,u._container=f,f.__vue_app__=u,_u(s.component)}},onUnmount(f){o.push(f)},unmount(){i&&(zi(o,u._instance,16),e(null,u._container),delete u._container.__vue_app__)},provide(f,a){return p.provides[f]=a,u},runWithContext(f){const a=qa;qa=u;try{return f()}finally{qa=a}}};return u}}let qa=null;function Nc(e,t){if(An){let n=An.provides;const r=An.parent&&An.parent.provides;r===n&&(n=An.provides=Object.create(r)),n[e]=t}}function ji(e,t,n=!1){const r=An||_n;if(r||qa){const c=qa?qa._context.provides:r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(c&&e in c)return c[e];if(arguments.length>1)return n&&fe(t)?t.call(r&&r.proxy):t}}const L1={},k1=()=>Object.create(L1),E1=e=>Object.getPrototypeOf(e)===L1;function V5(e,t,n,r=!1){const c={},p=k1();e.propsDefaults=Object.create(null),N1(e,t,c,p);for(const v in e.propsOptions[0])v in c||(c[v]=void 0);n?e.props=r?c:a1(c):e.type.props?e.props=c:e.props=p,e.attrs=p}function Y5(e,t,n,r){const{props:c,attrs:p,vnode:{patchFlag:v}}=e,o=Ce(c),[i]=e.propsOptions;let u=!1;if((r||v>0)&&!(v&16)){if(v&8){const f=e.vnode.dynamicProps;for(let a=0;a<f.length;a++){let l=f[a];if(bu(e.emitsOptions,l))continue;const s=t[l];if(i)if(Oe(p,l))s!==p[l]&&(p[l]=s,u=!0);else{const h=_i(l);c[h]=gh(i,o,h,s,e,!1)}else s!==p[l]&&(p[l]=s,u=!0)}}}else{N1(e,t,c,p)&&(u=!0);let f;for(const a in o)(!t||!Oe(t,a)&&((f=$s(a))===a||!Oe(t,f)))&&(i?n&&(n[a]!==void 0||n[f]!==void 0)&&(c[a]=gh(i,o,a,void 0,e,!0)):delete c[a]);if(p!==o)for(const a in p)(!t||!Oe(t,a)&&!0)&&(delete p[a],u=!0)}u&&kr(e.attrs,"set","")}function N1(e,t,n,r){const[c,p]=e.propsOptions;let v=!1,o;if(t)for(let i in t){if(Ko(i))continue;const u=t[i];let f;c&&Oe(c,f=_i(i))?!p||!p.includes(f)?n[f]=u:(o||(o={}))[f]=u:bu(e.emitsOptions,i)||(!(i in r)||u!==r[i])&&(r[i]=u,v=!0)}if(p){const i=Ce(n),u=o||De;for(let f=0;f<p.length;f++){const a=p[f];n[a]=gh(c,i,a,u[a],e,!Oe(u,a))}}return v}function gh(e,t,n,r,c,p){const v=e[n];if(v!=null){const o=Oe(v,"default");if(o&&r===void 0){const i=v.default;if(v.type!==Function&&!v.skipFactory&&fe(i)){const{propsDefaults:u}=c;if(n in u)r=u[n];else{const f=Tl(c);r=u[n]=i.call(null,t),f()}}else r=i;c.ce&&c.ce._setProp(n,r)}v[0]&&(p&&!o?r=!1:v[1]&&(r===""||r===$s(n))&&(r=!0))}return r}const X5=new WeakMap;function F1(e,t,n=!1){const r=n?X5:t.propsCache,c=r.get(e);if(c)return c;const p=e.props,v={},o=[];let i=!1;if(!fe(e)){const f=a=>{i=!0;const[l,s]=F1(a,t,!0);fn(v,l),s&&o.push(...s)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!p&&!i)return Me(e)&&r.set(e,Ma),Ma;if(te(p))for(let f=0;f<p.length;f++){const a=_i(p[f]);Np(a)&&(v[a]=De)}else if(p)for(const f in p){const a=_i(f);if(Np(a)){const l=p[f],s=v[a]=te(l)||fe(l)?{type:l}:fn({},l),h=s.type;let g=!1,d=!0;if(te(h))for(let m=0;m<h.length;++m){const b=h[m],_=fe(b)&&b.name;if(_==="Boolean"){g=!0;break}else _==="String"&&(d=!1)}else g=fe(h)&&h.name==="Boolean";s[0]=g,s[1]=d,(g||Oe(s,"default"))&&o.push(a)}}const u=[v,o];return Me(e)&&r.set(e,u),u}function Np(e){return e[0]!=="$"&&!Ko(e)}const I1=e=>e[0]==="_"||e==="$stable",bd=e=>te(e)?e.map(sr):[sr(e)],G5=(e,t,n)=>{if(t._n)return t;const r=is((...c)=>bd(t(...c)),n);return r._c=!1,r},D1=(e,t,n)=>{const r=e._ctx;for(const c in e){if(I1(c))continue;const p=e[c];if(fe(p))t[c]=G5(c,p,r);else if(p!=null){const v=bd(p);t[c]=()=>v}}},M1=(e,t)=>{const n=bd(t);e.slots.default=()=>n},R1=(e,t,n)=>{for(const r in t)(n||r!=="_")&&(e[r]=t[r])},K5=(e,t,n)=>{const r=e.slots=k1();if(e.vnode.shapeFlag&32){const c=t._;c?(R1(r,t,n),n&&qm(r,"_",c,!0)):D1(t,r)}else t&&M1(e,t)},$5=(e,t,n)=>{const{vnode:r,slots:c}=e;let p=!0,v=De;if(r.shapeFlag&32){const o=t._;o?n&&o===1?p=!1:R1(c,t,n):(p=!t.$stable,D1(t,c)),v=t}else t&&(M1(e,t),v={default:1});if(p)for(const o in c)!I1(o)&&v[o]==null&&delete c[o]};function J5(){typeof __VUE_PROD_HYDRATION_MISMATCH_DETAILS__!="boolean"&&(Sl().__VUE_PROD_HYDRATION_MISMATCH_DETAILS__=!1)}const si=fy;function Q5(e){return Z5(e)}function Z5(e,t){J5();const n=Sl();n.__VUE__=!0;const{insert:r,remove:c,patchProp:p,createElement:v,createText:o,createComment:i,setText:u,setElementText:f,parentNode:a,nextSibling:l,setScopeId:s=Mi,insertStaticContent:h}=e,g=(N,R,H,I=null,it=null,at=null,ut=void 0,vt=null,gt=!!R.dynamicChildren)=>{if(N===R)return;N&&!Bs(N,R)&&(I=B(N),T(N,it,at,!0),N=null),R.patchFlag===-2&&(gt=!1,R.dynamicChildren=null);const{type:rt,ref:Ct,shapeFlag:Ot}=R;switch(rt){case wu:d(N,R,H,I);break;case Hn:m(N,R,H,I);break;case Fc:N==null&&b(R,H,I,ut);break;case wn:M(N,R,H,I,it,at,ut,vt,gt);break;default:Ot&1?A(N,R,H,I,it,at,ut,vt,gt):Ot&6?tt(N,R,H,I,it,at,ut,vt,gt):(Ot&64||Ot&128)&&rt.process(N,R,H,I,it,at,ut,vt,gt,lt)}Ct!=null&&it&&Jc(Ct,N&&N.ref,at,R||N,!R)},d=(N,R,H,I)=>{if(N==null)r(R.el=o(R.children),H,I);else{const it=R.el=N.el;R.children!==N.children&&u(it,R.children)}},m=(N,R,H,I)=>{N==null?r(R.el=i(R.children||""),H,I):R.el=N.el},b=(N,R,H,I)=>{[N.el,N.anchor]=h(N.children,R,H,I,N.el,N.anchor)},_=({el:N,anchor:R},H,I)=>{let it;for(;N&&N!==R;)it=l(N),r(N,H,I),N=it;r(R,H,I)},x=({el:N,anchor:R})=>{let H;for(;N&&N!==R;)H=l(N),c(N),N=H;c(R)},A=(N,R,H,I,it,at,ut,vt,gt)=>{R.type==="svg"?ut="svg":R.type==="math"&&(ut="mathml"),N==null?L(R,H,I,it,at,ut,vt,gt):Y(N,R,it,at,ut,vt,gt)},L=(N,R,H,I,it,at,ut,vt)=>{let gt,rt;const{props:Ct,shapeFlag:Ot,transition:Et,dirs:Mt}=N;if(gt=N.el=v(N.type,at,Ct&&Ct.is,Ct),Ot&8?f(gt,N.children):Ot&16&&F(N.children,gt,null,I,it,Df(N,at),ut,vt),Mt&&Ns(N,null,I,"created"),E(gt,N,N.scopeId,ut,I),Ct){for(const Vt in Ct)Vt!=="value"&&!Ko(Vt)&&p(gt,Vt,null,Ct[Vt],at,I);"value"in Ct&&p(gt,"value",null,Ct.value,at),(rt=Ct.onVnodeBeforeMount)&&er(rt,I,N)}Mt&&Ns(N,null,I,"beforeMount");const Bt=ty(it,Et);Bt&&Et.beforeEnter(gt),r(gt,R,H),((rt=Ct&&Ct.onVnodeMounted)||Bt||Mt)&&si(()=>{rt&&er(rt,I,N),Bt&&Et.enter(gt),Mt&&Ns(N,null,I,"mounted")},it)},E=(N,R,H,I,it)=>{if(H&&s(N,H),I)for(let at=0;at<I.length;at++)s(N,I[at]);if(it){let at=it.subTree;if(R===at||H1(at.type)&&(at.ssContent===R||at.ssFallback===R)){const ut=it.vnode;E(N,ut,ut.scopeId,ut.slotScopeIds,it.parent)}}},F=(N,R,H,I,it,at,ut,vt,gt=0)=>{for(let rt=gt;rt<N.length;rt++){const Ct=N[rt]=vt?ss(N[rt]):sr(N[rt]);g(null,Ct,R,H,I,it,at,ut,vt)}},Y=(N,R,H,I,it,at,ut)=>{const vt=R.el=N.el;let{patchFlag:gt,dynamicChildren:rt,dirs:Ct}=R;gt|=N.patchFlag&16;const Ot=N.props||De,Et=R.props||De;let Mt;if(H&&Fs(H,!1),(Mt=Et.onVnodeBeforeUpdate)&&er(Mt,H,R,N),Ct&&Ns(R,N,H,"beforeUpdate"),H&&Fs(H,!0),(Ot.innerHTML&&Et.innerHTML==null||Ot.textContent&&Et.textContent==null)&&f(vt,""),rt?et(N.dynamicChildren,rt,vt,H,I,Df(R,it),at):ut||ct(N,R,vt,null,H,I,Df(R,it),at,!1),gt>0){if(gt&16)j(vt,Ot,Et,H,it);else if(gt&2&&Ot.class!==Et.class&&p(vt,"class",null,Et.class,it),gt&4&&p(vt,"style",Ot.style,Et.style,it),gt&8){const Bt=R.dynamicProps;for(let Vt=0;Vt<Bt.length;Vt++){const Ut=Bt[Vt],Kt=Ot[Ut],zt=Et[Ut];(zt!==Kt||Ut==="value")&&p(vt,Ut,Kt,zt,it,H)}}gt&1&&N.children!==R.children&&f(vt,R.children)}else!ut&&rt==null&&j(vt,Ot,Et,H,it);((Mt=Et.onVnodeUpdated)||Ct)&&si(()=>{Mt&&er(Mt,H,R,N),Ct&&Ns(R,N,H,"updated")},I)},et=(N,R,H,I,it,at,ut)=>{for(let vt=0;vt<R.length;vt++){const gt=N[vt],rt=R[vt],Ct=gt.el&&(gt.type===wn||!Bs(gt,rt)||gt.shapeFlag&70)?a(gt.el):H;g(gt,rt,Ct,null,I,it,at,ut,!0)}},j=(N,R,H,I,it)=>{if(R!==H){if(R!==De)for(const at in R)!Ko(at)&&!(at in H)&&p(N,at,R[at],null,it,I);for(const at in H){if(Ko(at))continue;const ut=H[at],vt=R[at];ut!==vt&&at!=="value"&&p(N,at,vt,ut,it,I)}"value"in H&&p(N,"value",R.value,H.value,it)}},M=(N,R,H,I,it,at,ut,vt,gt)=>{const rt=R.el=N?N.el:o(""),Ct=R.anchor=N?N.anchor:o("");let{patchFlag:Ot,dynamicChildren:Et,slotScopeIds:Mt}=R;Mt&&(vt=vt?vt.concat(Mt):Mt),N==null?(r(rt,H,I),r(Ct,H,I),F(R.children||[],H,Ct,it,at,ut,vt,gt)):Ot>0&&Ot&64&&Et&&N.dynamicChildren?(et(N.dynamicChildren,Et,H,it,at,ut,vt),(R.key!=null||it&&R===it.subTree)&&j1(N,R,!0)):ct(N,R,H,Ct,it,at,ut,vt,gt)},tt=(N,R,H,I,it,at,ut,vt,gt)=>{R.slotScopeIds=vt,N==null?R.shapeFlag&512?it.ctx.activate(R,H,I,ut,gt):Z(R,H,I,it,at,ut,gt):ft(N,R,gt)},Z=(N,R,H,I,it,at,ut)=>{const vt=N.component=by(N,I,it);if(mu(N)&&(vt.ctx.renderer=lt),_y(vt,!1,ut),vt.asyncDep){if(it&&it.registerDep(vt,ht,ut),!N.el){const gt=vt.subTree=ye(Hn);m(null,gt,R,H)}}else ht(vt,N,R,H,it,at,ut)},ft=(N,R,H)=>{const I=R.component=N.component;if(cy(N,R,H))if(I.asyncDep&&!I.asyncResolved){pt(I,R,H);return}else I.next=R,I.update();else R.el=N.el,I.vnode=R},ht=(N,R,H,I,it,at,ut)=>{const vt=()=>{if(N.isMounted){let{next:Ot,bu:Et,u:Mt,parent:Bt,vnode:Vt}=N;{const se=B1(N);if(se){Ot&&(Ot.el=Vt.el,pt(N,Ot,ut)),se.asyncDep.then(()=>{N.isUnmounted||vt()});return}}let Ut=Ot,Kt;Fs(N,!1),Ot?(Ot.el=Vt.el,pt(N,Ot,ut)):Ot=Vt,Et&&Ec(Et),(Kt=Ot.props&&Ot.props.onVnodeBeforeUpdate)&&er(Kt,Bt,Ot,Vt),Fs(N,!0);const zt=Mf(N),ve=N.subTree;N.subTree=zt,g(ve,zt,a(ve.el),B(ve),N,it,at),Ot.el=zt.el,Ut===null&&uy(N,zt.el),Mt&&si(Mt,it),(Kt=Ot.props&&Ot.props.onVnodeUpdated)&&si(()=>er(Kt,Bt,Ot,Vt),it)}else{let Ot;const{el:Et,props:Mt}=R,{bm:Bt,m:Vt,parent:Ut,root:Kt,type:zt}=N,ve=za(R);if(Fs(N,!1),Bt&&Ec(Bt),!ve&&(Ot=Mt&&Mt.onVnodeBeforeMount)&&er(Ot,Ut,R),Fs(N,!0),Et&&xt){const se=()=>{N.subTree=Mf(N),xt(Et,N.subTree,N,it,null)};ve&&zt.__asyncHydrate?zt.__asyncHydrate(Et,N,se):se()}else{Kt.ce&&Kt.ce._injectChildStyle(zt);const se=N.subTree=Mf(N);g(null,se,H,I,N,it,at),R.el=se.el}if(Vt&&si(Vt,it),!ve&&(Ot=Mt&&Mt.onVnodeMounted)){const se=R;si(()=>er(Ot,Ut,se),it)}(R.shapeFlag&256||Ut&&za(Ut.vnode)&&Ut.vnode.shapeFlag&256)&&N.a&&si(N.a,it),N.isMounted=!0,R=H=I=null}};N.scope.on();const gt=N.effect=new Ym(vt);N.scope.off();const rt=N.update=gt.run.bind(gt),Ct=N.job=gt.runIfDirty.bind(gt);Ct.i=N,Ct.id=N.uid,gt.scheduler=()=>md(Ct),Fs(N,!0),rt()},pt=(N,R,H)=>{R.component=N;const I=N.vnode.props;N.vnode=R,N.next=null,Y5(N,R.props,I,H),$5(N,R.children,H),vs(),Ap(N),ys()},ct=(N,R,H,I,it,at,ut,vt,gt=!1)=>{const rt=N&&N.children,Ct=N?N.shapeFlag:0,Ot=R.children,{patchFlag:Et,shapeFlag:Mt}=R;if(Et>0){if(Et&128){$(rt,Ot,H,I,it,at,ut,vt,gt);return}else if(Et&256){D(rt,Ot,H,I,it,at,ut,vt,gt);return}}Mt&8?(Ct&16&&W(rt,it,at),Ot!==rt&&f(H,Ot)):Ct&16?Mt&16?$(rt,Ot,H,I,it,at,ut,vt,gt):W(rt,it,at,!0):(Ct&8&&f(H,""),Mt&16&&F(Ot,H,I,it,at,ut,vt,gt))},D=(N,R,H,I,it,at,ut,vt,gt)=>{N=N||Ma,R=R||Ma;const rt=N.length,Ct=R.length,Ot=Math.min(rt,Ct);let Et;for(Et=0;Et<Ot;Et++){const Mt=R[Et]=gt?ss(R[Et]):sr(R[Et]);g(N[Et],Mt,H,null,it,at,ut,vt,gt)}rt>Ct?W(N,it,at,!0,!1,Ot):F(R,H,I,it,at,ut,vt,gt,Ot)},$=(N,R,H,I,it,at,ut,vt,gt)=>{let rt=0;const Ct=R.length;let Ot=N.length-1,Et=Ct-1;for(;rt<=Ot&&rt<=Et;){const Mt=N[rt],Bt=R[rt]=gt?ss(R[rt]):sr(R[rt]);if(Bs(Mt,Bt))g(Mt,Bt,H,null,it,at,ut,vt,gt);else break;rt++}for(;rt<=Ot&&rt<=Et;){const Mt=N[Ot],Bt=R[Et]=gt?ss(R[Et]):sr(R[Et]);if(Bs(Mt,Bt))g(Mt,Bt,H,null,it,at,ut,vt,gt);else break;Ot--,Et--}if(rt>Ot){if(rt<=Et){const Mt=Et+1,Bt=Mt<Ct?R[Mt].el:I;for(;rt<=Et;)g(null,R[rt]=gt?ss(R[rt]):sr(R[rt]),H,Bt,it,at,ut,vt,gt),rt++}}else if(rt>Et)for(;rt<=Ot;)T(N[rt],it,at,!0),rt++;else{const Mt=rt,Bt=rt,Vt=new Map;for(rt=Bt;rt<=Et;rt++){const me=R[rt]=gt?ss(R[rt]):sr(R[rt]);me.key!=null&&Vt.set(me.key,rt)}let Ut,Kt=0;const zt=Et-Bt+1;let ve=!1,se=0;const rn=new Array(zt);for(rt=0;rt<zt;rt++)rn[rt]=0;for(rt=Mt;rt<=Ot;rt++){const me=N[rt];if(Kt>=zt){T(me,it,at,!0);continue}let Ke;if(me.key!=null)Ke=Vt.get(me.key);else for(Ut=Bt;Ut<=Et;Ut++)if(rn[Ut-Bt]===0&&Bs(me,R[Ut])){Ke=Ut;break}Ke===void 0?T(me,it,at,!0):(rn[Ke-Bt]=rt+1,Ke>=se?se=Ke:ve=!0,g(me,R[Ke],H,null,it,at,ut,vt,gt),Kt++)}const Se=ve?ey(rn):Ma;for(Ut=Se.length-1,rt=zt-1;rt>=0;rt--){const me=Bt+rt,Ke=R[me],_e=me+1<Ct?R[me+1].el:I;rn[rt]===0?g(null,Ke,H,_e,it,at,ut,vt,gt):ve&&(Ut<0||rt!==Se[Ut]?nt(Ke,H,_e,2):Ut--)}}},nt=(N,R,H,I,it=null)=>{const{el:at,type:ut,transition:vt,children:gt,shapeFlag:rt}=N;if(rt&6){nt(N.component.subTree,R,H,I);return}if(rt&128){N.suspense.move(R,H,I);return}if(rt&64){ut.move(N,R,H,lt);return}if(ut===wn){r(at,R,H);for(let Ot=0;Ot<gt.length;Ot++)nt(gt[Ot],R,H,I);r(N.anchor,R,H);return}if(ut===Fc){_(N,R,H);return}if(I!==2&&rt&1&&vt)if(I===0)vt.beforeEnter(at),r(at,R,H),si(()=>vt.enter(at),it);else{const{leave:Ot,delayLeave:Et,afterLeave:Mt}=vt,Bt=()=>r(at,R,H),Vt=()=>{Ot(at,()=>{Bt(),Mt&&Mt()})};Et?Et(at,Bt,Vt):Vt()}else r(at,R,H)},T=(N,R,H,I=!1,it=!1)=>{const{type:at,props:ut,ref:vt,children:gt,dynamicChildren:rt,shapeFlag:Ct,patchFlag:Ot,dirs:Et,cacheIndex:Mt}=N;if(Ot===-2&&(it=!1),vt!=null&&Jc(vt,null,H,N,!0),Mt!=null&&(R.renderCache[Mt]=void 0),Ct&256){R.ctx.deactivate(N);return}const Bt=Ct&1&&Et,Vt=!za(N);let Ut;if(Vt&&(Ut=ut&&ut.onVnodeBeforeUnmount)&&er(Ut,R,N),Ct&6)O(N.component,H,I);else{if(Ct&128){N.suspense.unmount(H,I);return}Bt&&Ns(N,null,R,"beforeUnmount"),Ct&64?N.type.remove(N,R,H,lt,I):rt&&!rt.hasOnce&&(at!==wn||Ot>0&&Ot&64)?W(rt,R,H,!1,!0):(at===wn&&Ot&384||!it&&Ct&16)&&W(gt,R,H),I&&q(N)}(Vt&&(Ut=ut&&ut.onVnodeUnmounted)||Bt)&&si(()=>{Ut&&er(Ut,R,N),Bt&&Ns(N,null,R,"unmounted")},H)},q=N=>{const{type:R,el:H,anchor:I,transition:it}=N;if(R===wn){k(H,I);return}if(R===Fc){x(N);return}const at=()=>{c(H),it&&!it.persisted&&it.afterLeave&&it.afterLeave()};if(N.shapeFlag&1&&it&&!it.persisted){const{leave:ut,delayLeave:vt}=it,gt=()=>ut(H,at);vt?vt(N.el,at,gt):gt()}else at()},k=(N,R)=>{let H;for(;N!==R;)H=l(N),c(N),N=H;c(R)},O=(N,R,H)=>{const{bum:I,scope:it,job:at,subTree:ut,um:vt,m:gt,a:rt}=N;Fp(gt),Fp(rt),I&&Ec(I),it.stop(),at&&(at.flags|=8,T(ut,N,R,H)),vt&&si(vt,R),si(()=>{N.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&N.asyncDep&&!N.asyncResolved&&N.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},W=(N,R,H,I=!1,it=!1,at=0)=>{for(let ut=at;ut<N.length;ut++)T(N[ut],R,H,I,it)},B=N=>{if(N.shapeFlag&6)return B(N.component.subTree);if(N.shapeFlag&128)return N.suspense.next();const R=l(N.anchor||N.el),H=R&&R[_5];return H?l(H):R};let J=!1;const G=(N,R,H)=>{N==null?R._vnode&&T(R._vnode,null,null,!0):g(R._vnode||null,N,R,null,null,null,H),R._vnode=N,J||(J=!0,Ap(),h1(),J=!1)},lt={p:g,um:T,m:nt,r:q,mt:Z,mc:F,pc:ct,pbc:et,n:B,o:e};let dt,xt;return t&&([dt,xt]=t(lt)),{render:G,hydrate:dt,createApp:W5(G,dt)}}function Df({type:e,props:t},n){return n==="svg"&&e==="foreignObject"||n==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Fs({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function ty(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function j1(e,t,n=!1){const r=e.children,c=t.children;if(te(r)&&te(c))for(let p=0;p<r.length;p++){const v=r[p];let o=c[p];o.shapeFlag&1&&!o.dynamicChildren&&((o.patchFlag<=0||o.patchFlag===32)&&(o=c[p]=ss(c[p]),o.el=v.el),!n&&o.patchFlag!==-2&&j1(v,o)),o.type===wu&&(o.el=v.el)}}function ey(e){const t=e.slice(),n=[0];let r,c,p,v,o;const i=e.length;for(r=0;r<i;r++){const u=e[r];if(u!==0){if(c=n[n.length-1],e[c]<u){t[r]=c,n.push(r);continue}for(p=0,v=n.length-1;p<v;)o=p+v>>1,e[n[o]]<u?p=o+1:v=o;u<e[n[p]]&&(p>0&&(t[r]=n[p-1]),n[p]=r)}}for(p=n.length,v=n[p-1];p-- >0;)n[p]=v,v=t[v];return n}function B1(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:B1(t)}function Fp(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}const ny=Symbol.for("v-scx"),iy=()=>ji(ny);function ur(e,t,n){return U1(e,t,n)}function U1(e,t,n=De){const{immediate:r,deep:c,flush:p,once:v}=n,o=fn({},n),i=t&&r||!t&&p!=="post";let u;if(dl){if(p==="sync"){const s=iy();u=s.__watcherHandles||(s.__watcherHandles=[])}else if(!i){const s=()=>{};return s.stop=Mi,s.resume=Mi,s.pause=Mi,s}}const f=An;o.call=(s,h,g)=>zi(s,f,h,g);let a=!1;p==="post"?o.scheduler=s=>{si(s,f&&f.suspense)}:p!=="sync"&&(a=!0,o.scheduler=(s,h)=>{h?s():md(s)}),o.augmentJob=s=>{t&&(s.flags|=4),a&&(s.flags|=2,f&&(s.id=f.uid,s.i=f))};const l=v5(e,t,o);return dl&&(u?u.push(l):i&&l()),l}function ry(e,t,n){const r=this.proxy,c=nn(e)?e.includes(".")?z1(r,e):()=>r[e]:e.bind(r,r);let p;fe(t)?p=t:(p=t.handler,n=t);const v=Tl(this),o=U1(c,p.bind(r),n);return v(),o}function z1(e,t){const n=t.split(".");return()=>{let r=e;for(let c=0;c<n.length&&r;c++)r=r[n[c]];return r}}const sy=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${_i(t)}Modifiers`]||e[`${$s(t)}Modifiers`];function ay(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||De;let c=n;const p=t.startsWith("update:"),v=p&&sy(r,t.slice(7));v&&(v.trim&&(c=n.map(f=>nn(f)?f.trim():f)),v.number&&(c=n.map(Yc)));let o,i=r[o=Of(t)]||r[o=Of(_i(t))];!i&&p&&(i=r[o=Of($s(t))]),i&&zi(i,e,6,c);const u=r[o+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[o])return;e.emitted[o]=!0,zi(u,e,6,c)}}function q1(e,t,n=!1){const r=t.emitsCache,c=r.get(e);if(c!==void 0)return c;const p=e.emits;let v={},o=!1;if(!fe(e)){const i=u=>{const f=q1(u,t,!0);f&&(o=!0,fn(v,f))};!n&&t.mixins.length&&t.mixins.forEach(i),e.extends&&i(e.extends),e.mixins&&e.mixins.forEach(i)}return!p&&!o?(Me(e)&&r.set(e,null),null):(te(p)?p.forEach(i=>v[i]=null):fn(v,p),Me(e)&&r.set(e,v),v)}function bu(e,t){return!e||!uu(t)?!1:(t=t.slice(2).replace(/Once$/,""),Oe(e,t[0].toLowerCase()+t.slice(1))||Oe(e,$s(t))||Oe(e,t))}function Mf(e){const{type:t,vnode:n,proxy:r,withProxy:c,propsOptions:[p],slots:v,attrs:o,emit:i,render:u,renderCache:f,props:a,data:l,setupState:s,ctx:h,inheritAttrs:g}=e,d=$c(e);let m,b;try{if(n.shapeFlag&4){const x=c||r,A=x;m=sr(u.call(A,x,f,a,s,l,h)),b=o}else{const x=t;m=sr(x.length>1?x(a,{attrs:o,slots:v,emit:i}):x(a,null)),b=t.props?o:oy(o)}}catch(x){Zo.length=0,gu(x,e,1),m=ye(Hn)}let _=m;if(b&&g!==!1){const x=Object.keys(b),{shapeFlag:A}=_;x.length&&A&7&&(p&&x.some(id)&&(b=ly(b,p)),_=fs(_,b,!1,!0))}return n.dirs&&(_=fs(_,null,!1,!0),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&cl(_,n.transition),m=_,$c(d),m}const oy=e=>{let t;for(const n in e)(n==="class"||n==="style"||uu(n))&&((t||(t={}))[n]=e[n]);return t},ly=(e,t)=>{const n={};for(const r in e)(!id(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function cy(e,t,n){const{props:r,children:c,component:p}=e,{props:v,children:o,patchFlag:i}=t,u=p.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&i>=0){if(i&1024)return!0;if(i&16)return r?Ip(r,v,u):!!v;if(i&8){const f=t.dynamicProps;for(let a=0;a<f.length;a++){const l=f[a];if(v[l]!==r[l]&&!bu(u,l))return!0}}}else return(c||o)&&(!o||!o.$stable)?!0:r===v?!1:r?v?Ip(r,v,u):!0:!!v;return!1}function Ip(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let c=0;c<r.length;c++){const p=r[c];if(t[p]!==e[p]&&!bu(n,p))return!0}return!1}function uy({vnode:e,parent:t},n){for(;t;){const r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}const H1=e=>e.__isSuspense;function fy(e,t){t&&t.pendingBranch?te(e)?t.effects.push(...e):t.effects.push(e):w5(e)}const wn=Symbol.for("v-fgt"),wu=Symbol.for("v-txt"),Hn=Symbol.for("v-cmt"),Fc=Symbol.for("v-stc"),Zo=[];let oi=null;function ae(e=!1){Zo.push(oi=e?null:[])}function hy(){Zo.pop(),oi=Zo[Zo.length-1]||null}let ul=1;function Dp(e,t=!1){ul+=e,e<0&&oi&&t&&(oi.hasOnce=!0)}function W1(e){return e.dynamicChildren=ul>0?oi||Ma:null,hy(),ul>0&&oi&&oi.push(e),e}function ge(e,t,n,r,c,p){return W1(Pt(e,t,n,r,c,p,!0))}function fl(e,t,n,r,c){return W1(ye(e,t,n,r,c,!0))}function hl(e){return e?e.__v_isVNode===!0:!1}function Bs(e,t){return e.type===t.type&&e.key===t.key}const V1=({key:e})=>e!=null?e:null,Ic=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?nn(e)||Tn(e)||fe(e)?{i:_n,r:e,k:t,f:!!n}:e:null);function Pt(e,t=null,n=null,r=0,c=null,p=e===wn?0:1,v=!1,o=!1){const i={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&V1(t),ref:t&&Ic(t),scopeId:p1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:p,patchFlag:r,dynamicProps:c,dynamicChildren:null,appContext:null,ctx:_n};return o?(wd(i,n),p&128&&e.normalize(i)):n&&(i.shapeFlag|=nn(n)?8:16),ul>0&&!v&&oi&&(i.patchFlag>0||p&6)&&i.patchFlag!==32&&oi.push(i),i}const ye=dy;function dy(e,t=null,n=null,r=0,c=null,p=!1){if((!e||e===D5)&&(e=Hn),hl(e)){const o=fs(e,t,!0);return n&&wd(o,n),ul>0&&!p&&oi&&(o.shapeFlag&6?oi[oi.indexOf(e)]=o:oi.push(o)),o.patchFlag=-2,o}if(Ty(e)&&(e=e.__vccOpts),t){t=py(t);let{class:o,style:i}=t;o&&!nn(o)&&(t.class=cn(o)),Me(i)&&(pd(i)&&!te(i)&&(i=fn({},i)),t.style=ad(i))}const v=nn(e)?1:H1(e)?128:g1(e)?64:Me(e)?4:fe(e)?2:0;return Pt(e,t,n,r,c,v,p,!0)}function py(e){return e?pd(e)||E1(e)?fn({},e):e:null}function fs(e,t,n=!1,r=!1){const{props:c,ref:p,patchFlag:v,children:o,transition:i}=e,u=t?my(c||{},t):c,f={__v_isVNode:!0,__v_skip:!0,type:e.type,props:u,key:u&&V1(u),ref:t&&t.ref?n&&p?te(p)?p.concat(Ic(t)):[p,Ic(t)]:Ic(t):p,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wn?v===-1?16:v|16:v,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:i,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&fs(e.ssContent),ssFallback:e.ssFallback&&fs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return i&&r&&cl(f,i.clone(f)),f}function Yo(e=" ",t=0){return ye(wu,null,e,t)}function gy(e,t){const n=ye(Fc,null,e);return n.staticCount=t,n}function gn(e="",t=!1){return t?(ae(),fl(Hn,null,e)):ye(Hn,null,e)}function sr(e){return e==null||typeof e=="boolean"?ye(Hn):te(e)?ye(wn,null,e.slice()):hl(e)?ss(e):ye(wu,null,String(e))}function ss(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:fs(e)}function wd(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(te(t))n=16;else if(typeof t=="object")if(r&65){const c=t.default;c&&(c._c&&(c._d=!1),wd(e,c()),c._c&&(c._d=!0));return}else{n=32;const c=t._;!c&&!E1(t)?t._ctx=_n:c===3&&_n&&(_n.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else fe(t)?(t={default:t,_ctx:_n},n=32):(t=String(t),r&64?(n=16,t=[Yo(t)]):n=8);e.children=t,e.shapeFlag|=n}function my(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const c in r)if(c==="class")t.class!==r.class&&(t.class=cn([t.class,r.class]));else if(c==="style")t.style=ad([t.style,r.style]);else if(uu(c)){const p=t[c],v=r[c];v&&p!==v&&!(te(p)&&p.includes(v))&&(t[c]=p?[].concat(p,v):v)}else c!==""&&(t[c]=r[c])}return t}function er(e,t,n,r=null){zi(e,t,7,[n,r])}const vy=O1();let yy=0;function by(e,t,n){const r=e.type,c=(t?t.appContext:e.appContext)||vy,p={uid:yy++,vnode:e,type:r,parent:t,appContext:c,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Uv(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(c.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:F1(r,c),emitsOptions:q1(r,c),emit:null,emitted:null,propsDefaults:De,inheritAttrs:r.inheritAttrs,ctx:De,data:De,props:De,attrs:De,slots:De,refs:De,setupState:De,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return p.ctx={_:p},p.root=t?t.root:p,p.emit=ay.bind(null,p),e.ce&&e.ce(p),p}let An=null;const wy=()=>An||_n;let Zc,mh;{const e=Sl(),t=(n,r)=>{let c;return(c=e[n])||(c=e[n]=[]),c.push(r),p=>{c.length>1?c.forEach(v=>v(p)):c[0](p)}};Zc=t("__VUE_INSTANCE_SETTERS__",n=>An=n),mh=t("__VUE_SSR_SETTERS__",n=>dl=n)}const Tl=e=>{const t=An;return Zc(e),e.scope.on(),()=>{e.scope.off(),Zc(t)}},Mp=()=>{An&&An.scope.off(),Zc(null)};function Y1(e){return e.vnode.shapeFlag&4}let dl=!1;function _y(e,t=!1,n=!1){t&&mh(t);const{props:r,children:c}=e.vnode,p=Y1(e);V5(e,r,p,t),K5(e,c,n);const v=p?xy(e,t):void 0;return t&&mh(!1),v}function xy(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,R5);const{setup:r}=n;if(r){vs();const c=e.setupContext=r.length>1?Cy(e):null,p=Tl(e),v=Al(r,e,0,[e.props,c]),o=Bm(v);if(ys(),p(),(o||e.sp)&&!za(e)&&_1(e),o){if(v.then(Mp,Mp),t)return v.then(i=>{Rp(e,i,t)}).catch(i=>{gu(i,e,0)});e.asyncDep=v}else Rp(e,v,t)}else X1(e,t)}function Rp(e,t,n){fe(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:Me(t)&&(e.setupState=c1(t)),X1(e,n)}let jp;function X1(e,t,n){const r=e.type;if(!e.render){if(!t&&jp&&!r.render){const c=r.template||yd(e).template;if(c){const{isCustomElement:p,compilerOptions:v}=e.appContext.config,{delimiters:o,compilerOptions:i}=r,u=fn(fn({isCustomElement:p,delimiters:o},v),i);r.render=jp(c,u)}}e.render=r.render||Mi}{const c=Tl(e);vs();try{j5(e)}finally{ys(),c()}}}const Sy={get(e,t){return Fn(e,"get",""),e[t]}};function Cy(e){const t=n=>{e.exposed=n||{}};return{attrs:new Proxy(e.attrs,Sy),slots:e.slots,emit:e.emit,expose:t}}function _u(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(c1(o5(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in Qo)return Qo[n](e)},has(t,n){return n in t||n in Qo}})):e.proxy}function Ay(e,t=!0){return fe(e)?e.displayName||e.name:e.name||t&&e.__name}function Ty(e){return fe(e)&&"__vccOpts"in e}const qe=(e,t)=>g5(e,t,dl);function no(e,t,n){const r=arguments.length;return r===2?Me(t)&&!te(t)?hl(t)?ye(e,null,[t]):ye(e,t):ye(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&hl(n)&&(n=[n]),ye(e,t,n))}const Py="3.5.13";/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let vh;const Bp=typeof window<"u"&&window.trustedTypes;if(Bp)try{vh=Bp.createPolicy("vue",{createHTML:e=>e})}catch{}const G1=vh?e=>vh.createHTML(e):e=>e,Oy="http://www.w3.org/2000/svg",Ly="http://www.w3.org/1998/Math/MathML",Lr=typeof document<"u"?document:null,Up=Lr&&Lr.createElement("template"),ky={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const c=t==="svg"?Lr.createElementNS(Oy,e):t==="mathml"?Lr.createElementNS(Ly,e):n?Lr.createElement(e,{is:n}):Lr.createElement(e);return e==="select"&&r&&r.multiple!=null&&c.setAttribute("multiple",r.multiple),c},createText:e=>Lr.createTextNode(e),createComment:e=>Lr.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Lr.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,c,p){const v=n?n.previousSibling:t.lastChild;if(c&&(c===p||c.nextSibling))for(;t.insertBefore(c.cloneNode(!0),n),!(c===p||!(c=c.nextSibling)););else{Up.innerHTML=G1(r==="svg"?`<svg>${e}</svg>`:r==="mathml"?`<math>${e}</math>`:e);const o=Up.content;if(r==="svg"||r==="mathml"){const i=o.firstChild;for(;i.firstChild;)o.appendChild(i.firstChild);o.removeChild(i)}t.insertBefore(o,n)}return[v?v.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Jr="transition",Bo="animation",pl=Symbol("_vtc"),K1={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Ey=fn({},m1,K1),Ny=e=>(e.displayName="Transition",e.props=Ey,e),Fy=Ny((e,{slots:t})=>no(C5,Iy(e),t)),Is=(e,t=[])=>{te(e)?e.forEach(n=>n(...t)):e&&e(...t)},zp=e=>e?te(e)?e.some(t=>t.length>1):e.length>1:!1;function Iy(e){const t={};for(const M in e)M in K1||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:c,enterFromClass:p=`${n}-enter-from`,enterActiveClass:v=`${n}-enter-active`,enterToClass:o=`${n}-enter-to`,appearFromClass:i=p,appearActiveClass:u=v,appearToClass:f=o,leaveFromClass:a=`${n}-leave-from`,leaveActiveClass:l=`${n}-leave-active`,leaveToClass:s=`${n}-leave-to`}=e,h=Dy(c),g=h&&h[0],d=h&&h[1],{onBeforeEnter:m,onEnter:b,onEnterCancelled:_,onLeave:x,onLeaveCancelled:A,onBeforeAppear:L=m,onAppear:E=b,onAppearCancelled:F=_}=t,Y=(M,tt,Z,ft)=>{M._enterCancelled=ft,Ds(M,tt?f:o),Ds(M,tt?u:v),Z&&Z()},et=(M,tt)=>{M._isLeaving=!1,Ds(M,a),Ds(M,s),Ds(M,l),tt&&tt()},j=M=>(tt,Z)=>{const ft=M?E:b,ht=()=>Y(tt,M,Z);Is(ft,[tt,ht]),qp(()=>{Ds(tt,M?i:p),Tr(tt,M?f:o),zp(ft)||Hp(tt,r,g,ht)})};return fn(t,{onBeforeEnter(M){Is(m,[M]),Tr(M,p),Tr(M,v)},onBeforeAppear(M){Is(L,[M]),Tr(M,i),Tr(M,u)},onEnter:j(!1),onAppear:j(!0),onLeave(M,tt){M._isLeaving=!0;const Z=()=>et(M,tt);Tr(M,a),M._enterCancelled?(Tr(M,l),Yp()):(Yp(),Tr(M,l)),qp(()=>{!M._isLeaving||(Ds(M,a),Tr(M,s),zp(x)||Hp(M,r,d,Z))}),Is(x,[M,Z])},onEnterCancelled(M){Y(M,!1,void 0,!0),Is(_,[M])},onAppearCancelled(M){Y(M,!0,void 0,!0),Is(F,[M])},onLeaveCancelled(M){et(M),Is(A,[M])}})}function Dy(e){if(e==null)return null;if(Me(e))return[Rf(e.enter),Rf(e.leave)];{const t=Rf(e);return[t,t]}}function Rf(e){return Nv(e)}function Tr(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e[pl]||(e[pl]=new Set)).add(t)}function Ds(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const n=e[pl];n&&(n.delete(t),n.size||(e[pl]=void 0))}function qp(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let My=0;function Hp(e,t,n,r){const c=e._endId=++My,p=()=>{c===e._endId&&r()};if(n!=null)return setTimeout(p,n);const{type:v,timeout:o,propCount:i}=Ry(e,t);if(!v)return r();const u=v+"end";let f=0;const a=()=>{e.removeEventListener(u,l),p()},l=s=>{s.target===e&&++f>=i&&a()};setTimeout(()=>{f<i&&a()},o+1),e.addEventListener(u,l)}function Ry(e,t){const n=window.getComputedStyle(e),r=h=>(n[h]||"").split(", "),c=r(`${Jr}Delay`),p=r(`${Jr}Duration`),v=Wp(c,p),o=r(`${Bo}Delay`),i=r(`${Bo}Duration`),u=Wp(o,i);let f=null,a=0,l=0;t===Jr?v>0&&(f=Jr,a=v,l=p.length):t===Bo?u>0&&(f=Bo,a=u,l=i.length):(a=Math.max(v,u),f=a>0?v>u?Jr:Bo:null,l=f?f===Jr?p.length:i.length:0);const s=f===Jr&&/\b(transform|all)(,|$)/.test(r(`${Jr}Property`).toString());return{type:f,timeout:a,propCount:l,hasTransform:s}}function Wp(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Vp(n)+Vp(e[r])))}function Vp(e){return e==="auto"?0:Number(e.slice(0,-1).replace(",","."))*1e3}function Yp(){return document.body.offsetHeight}function jy(e,t,n){const r=e[pl];r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}const tu=Symbol("_vod"),$1=Symbol("_vsh"),Xp={beforeMount(e,{value:t},{transition:n}){e[tu]=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):Uo(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),Uo(e,!0),r.enter(e)):r.leave(e,()=>{Uo(e,!1)}):Uo(e,t))},beforeUnmount(e,{value:t}){Uo(e,t)}};function Uo(e,t){e.style.display=t?e[tu]:"none",e[$1]=!t}const By=Symbol(""),Uy=/(^|;)\s*display\s*:/;function zy(e,t,n){const r=e.style,c=nn(n);let p=!1;if(n&&!c){if(t)if(nn(t))for(const v of t.split(";")){const o=v.slice(0,v.indexOf(":")).trim();n[o]==null&&Dc(r,o,"")}else for(const v in t)n[v]==null&&Dc(r,v,"");for(const v in n)v==="display"&&(p=!0),Dc(r,v,n[v])}else if(c){if(t!==n){const v=r[By];v&&(n+=";"+v),r.cssText=n,p=Uy.test(n)}}else t&&e.removeAttribute("style");tu in e&&(e[tu]=p?r.display:"",e[$1]&&(r.display="none"))}const Gp=/\s*!important$/;function Dc(e,t,n){if(te(n))n.forEach(r=>Dc(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=qy(e,t);Gp.test(n)?e.setProperty($s(r),n.replace(Gp,""),"important"):e[r]=n}}const Kp=["Webkit","Moz","ms"],jf={};function qy(e,t){const n=jf[t];if(n)return n;let r=_i(t);if(r!=="filter"&&r in e)return jf[t]=r;r=hu(r);for(let c=0;c<Kp.length;c++){const p=Kp[c]+r;if(p in e)return jf[t]=p}return t}const $p="http://www.w3.org/1999/xlink";function Jp(e,t,n,r,c,p=jv(t)){r&&t.startsWith("xlink:")?n==null?e.removeAttributeNS($p,t.slice(6,t.length)):e.setAttributeNS($p,t,n):n==null||p&&!Hm(n)?e.removeAttribute(t):e.setAttribute(t,p?"":Ui(n)?String(n):n)}function Qp(e,t,n,r,c){if(t==="innerHTML"||t==="textContent"){n!=null&&(e[t]=t==="innerHTML"?G1(n):n);return}const p=e.tagName;if(t==="value"&&p!=="PROGRESS"&&!p.includes("-")){const o=p==="OPTION"?e.getAttribute("value")||"":e.value,i=n==null?e.type==="checkbox"?"on":"":String(n);(o!==i||!("_value"in e))&&(e.value=i),n==null&&e.removeAttribute(t),e._value=n;return}let v=!1;if(n===""||n==null){const o=typeof e[t];o==="boolean"?n=Hm(n):n==null&&o==="string"?(n="",v=!0):o==="number"&&(n=0,v=!0)}try{e[t]=n}catch{}v&&e.removeAttribute(c||t)}function os(e,t,n,r){e.addEventListener(t,n,r)}function Hy(e,t,n,r){e.removeEventListener(t,n,r)}const Zp=Symbol("_vei");function Wy(e,t,n,r,c=null){const p=e[Zp]||(e[Zp]={}),v=p[t];if(r&&v)v.value=r;else{const[o,i]=Vy(t);if(r){const u=p[t]=Gy(r,c);os(e,o,u,i)}else v&&(Hy(e,o,v,i),p[t]=void 0)}}const tg=/(?:Once|Passive|Capture)$/;function Vy(e){let t;if(tg.test(e)){t={};let r;for(;r=e.match(tg);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):$s(e.slice(2)),t]}let Bf=0;const Yy=Promise.resolve(),Xy=()=>Bf||(Yy.then(()=>Bf=0),Bf=Date.now());function Gy(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;zi(Ky(r,n.value),t,5,[r])};return n.value=e,n.attached=Xy(),n}function Ky(e,t){if(te(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>c=>!c._stopped&&r&&r(c))}else return t}const eg=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,$y=(e,t,n,r,c,p)=>{const v=c==="svg";t==="class"?jy(e,r,v):t==="style"?zy(e,n,r):uu(t)?id(t)||Wy(e,t,n,r,p):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Jy(e,t,r,v))?(Qp(e,t,r),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Jp(e,t,r,v,p,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!nn(r))?Qp(e,_i(t),r,p,t):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Jp(e,t,r,v))};function Jy(e,t,n,r){if(r)return!!(t==="innerHTML"||t==="textContent"||t in e&&eg(t)&&fe(n));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const c=e.tagName;if(c==="IMG"||c==="VIDEO"||c==="CANVAS"||c==="SOURCE")return!1}return eg(t)&&nn(n)?!1:t in e}const Ka=e=>{const t=e.props["onUpdate:modelValue"]||!1;return te(t)?n=>Ec(t,n):t};function Qy(e){e.target.composing=!0}function ng(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Nr=Symbol("_assign"),_d={created(e,{modifiers:{lazy:t,trim:n,number:r}},c){e[Nr]=Ka(c);const p=r||c.props&&c.props.type==="number";os(e,t?"change":"input",v=>{if(v.target.composing)return;let o=e.value;n&&(o=o.trim()),p&&(o=Yc(o)),e[Nr](o)}),n&&os(e,"change",()=>{e.value=e.value.trim()}),t||(os(e,"compositionstart",Qy),os(e,"compositionend",ng),os(e,"change",ng))},mounted(e,{value:t}){e.value=t==null?"":t},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:c,number:p}},v){if(e[Nr]=Ka(v),e.composing)return;const o=(p||e.type==="number")&&!/^0\d/.test(e.value)?Yc(e.value):e.value,i=t==null?"":t;o!==i&&(document.activeElement===e&&e.type!=="range"&&(r&&t===n||c&&e.value.trim()===i)||(e.value=i))}},Cc={deep:!0,created(e,t,n){e[Nr]=Ka(n),os(e,"change",()=>{const r=e._modelValue,c=gl(e),p=e.checked,v=e[Nr];if(te(r)){const o=od(r,c),i=o!==-1;if(p&&!i)v(r.concat(c));else if(!p&&i){const u=[...r];u.splice(o,1),v(u)}}else if(Za(r)){const o=new Set(r);p?o.add(c):o.delete(c),v(o)}else v(J1(e,p))})},mounted:ig,beforeUpdate(e,t,n){e[Nr]=Ka(n),ig(e,t,n)}};function ig(e,{value:t,oldValue:n},r){e._modelValue=t;let c;if(te(t))c=od(t,r.props.value)>-1;else if(Za(t))c=t.has(r.props.value);else{if(t===n)return;c=Cl(t,J1(e,!0))}e.checked!==c&&(e.checked=c)}const Zy={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const c=Za(t);os(e,"change",()=>{const p=Array.prototype.filter.call(e.options,v=>v.selected).map(v=>n?Yc(gl(v)):gl(v));e[Nr](e.multiple?c?new Set(p):p:p[0]),e._assigning=!0,gd(()=>{e._assigning=!1})}),e[Nr]=Ka(r)},mounted(e,{value:t}){rg(e,t)},beforeUpdate(e,t,n){e[Nr]=Ka(n)},updated(e,{value:t}){e._assigning||rg(e,t)}};function rg(e,t){const n=e.multiple,r=te(t);if(!(n&&!r&&!Za(t))){for(let c=0,p=e.options.length;c<p;c++){const v=e.options[c],o=gl(v);if(n)if(r){const i=typeof o;i==="string"||i==="number"?v.selected=t.some(u=>String(u)===String(o)):v.selected=od(t,o)>-1}else v.selected=t.has(o);else if(Cl(gl(v),t)){e.selectedIndex!==c&&(e.selectedIndex=c);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function gl(e){return"_value"in e?e._value:e.value}function J1(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const tb=["ctrl","shift","alt","meta"],eb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>tb.some(n=>e[`${n}Key`]&&!t.includes(n))},Ws=(e,t)=>{const n=e._withMods||(e._withMods={}),r=t.join(".");return n[r]||(n[r]=(c,...p)=>{for(let v=0;v<t.length;v++){const o=eb[t[v]];if(o&&o(c,t))return}return e(c,...p)})},nb=fn({patchProp:$y},ky);let sg;function ib(){return sg||(sg=Q5(nb))}const rb=(...e)=>{const t=ib().createApp(...e),{mount:n}=t;return t.mount=r=>{const c=ab(r);if(!c)return;const p=t._component;!fe(p)&&!p.render&&!p.template&&(p.template=c.innerHTML),c.nodeType===1&&(c.textContent="");const v=n(c,!1,sb(c));return c instanceof Element&&(c.removeAttribute("v-cloak"),c.setAttribute("data-v-app","")),v},t};function sb(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function ab(e){return nn(e)?document.querySelector(e):e}function Q1(e){return{all:e=e||new Map,on:function(t,n){var r=e.get(t);r?r.push(n):e.set(t,[n])},off:function(t,n){var r=e.get(t);r&&(n?r.splice(r.indexOf(n)>>>0,1):e.set(t,[]))},emit:function(t,n){var r=e.get(t);r&&r.slice().map(function(c){c(n)}),(r=e.get("*"))&&r.slice().map(function(c){c(t,n)})}}}const Zt=Q1();var c6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ob(e){var t=e.default;if(typeof t=="function"){var n=function(){return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var c=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,c.get?c:{enumerable:!0,get:function(){return e[r]}})}),n}var Rs={};const lb={},cb=Object.freeze(Object.defineProperty({__proto__:null,default:lb},Symbol.toStringTag,{value:"Module"})),Uf=ob(cb);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.5.2"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Uf,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=Uf.implForWrapper,t.nodeCanvas=Uf.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function o(s,h){if(!!this.__eventListeners[s]){var g=this.__eventListeners[s];h?g[g.indexOf(h)]=!1:t.util.array.fill(g,!1)}}function i(s,h){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in s)this.on(g,s[g]);else this.__eventListeners[s]||(this.__eventListeners[s]=[]),this.__eventListeners[s].push(h);return this}function u(s,h){var g=function(){h.apply(this,arguments),this.off(s,g)}.bind(this);this.on(s,g)}function f(s,h){if(arguments.length===1)for(var g in s)u.call(this,g,s[g]);else u.call(this,s,h);return this}function a(s,h){if(!this.__eventListeners)return this;if(arguments.length===0)for(s in this.__eventListeners)o.call(this,s);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in s)o.call(this,g,s[g]);else o.call(this,s,h);return this}function l(s,h){if(!this.__eventListeners)return this;var g=this.__eventListeners[s];if(!g)return this;for(var d=0,m=g.length;d<m;d++)g[d]&&g[d].call(this,h||{});return this.__eventListeners[s]=g.filter(function(b){return b!==!1}),this}t.Observable={fire:l,on:i,once:f,off:a}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var o=0,i=arguments.length;o<i;o++)this._onObjectAdded(arguments[o]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(o,i,u){var f=this._objects;return u?f[i]=o:f.splice(i,0,o),this._onObjectAdded&&this._onObjectAdded(o),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var o=this._objects,i,u=!1,f=0,a=arguments.length;f<a;f++)i=o.indexOf(arguments[f]),i!==-1&&(u=!0,o.splice(i,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(o,i){for(var u=this.getObjects(),f=0,a=u.length;f<a;f++)o.call(i,u[f],f,u);return this},getObjects:function(o){return typeof o>"u"?this._objects.concat():this._objects.filter(function(i){return i.type===o})},item:function(o){return this._objects[o]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(o,i){return this._objects.indexOf(o)>-1?!0:i?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(o,!0)}):!1},complexity:function(){return this._objects.reduce(function(o,i){return o+=i.complexity?i.complexity():0,o},0)}},t.CommonMethods={_setOptions:function(o){for(var i in o)this.set(i,o[i])},_initGradient:function(o,i){o&&o.colorStops&&!(o instanceof t.Gradient)&&this.set(i,new t.Gradient(o))},_initPattern:function(o,i,u){o&&o.source&&!(o instanceof t.Pattern)?this.set(i,new t.Pattern(o,u)):u&&u()},_setObject:function(o){for(var i in o)this._set(i,o[i])},set:function(o,i){return typeof o=="object"?this._setObject(o):this._set(o,i),this},_set:function(o,i){this[o]=i},toggle:function(o){var i=this.get(o);return typeof i=="boolean"&&this.set(o,!i),this},get:function(o){return this[o]}},function(o){var i=Math.sqrt,u=Math.atan2,f=Math.pow,a=Math.PI/180,l=Math.PI/2;t.util={cos:function(s){if(s===0)return 1;s<0&&(s=-s);var h=s/l;switch(h){case 1:case 3:return 0;case 2:return-1}return Math.cos(s)},sin:function(s){if(s===0)return 0;var h=s/l,g=1;switch(s<0&&(g=-1),h){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(s)},removeFromArray:function(s,h){var g=s.indexOf(h);return g!==-1&&s.splice(g,1),s},getRandomInt:function(s,h){return Math.floor(Math.random()*(h-s+1))+s},degreesToRadians:function(s){return s*a},radiansToDegrees:function(s){return s/a},rotatePoint:function(s,h,g){var d=new t.Point(s.x-h.x,s.y-h.y),m=t.util.rotateVector(d,g);return new t.Point(m.x,m.y).addEquals(h)},rotateVector:function(s,h){var g=t.util.sin(h),d=t.util.cos(h),m=s.x*d-s.y*g,b=s.x*g+s.y*d;return{x:m,y:b}},createVector:function(s,h){return new t.Point(h.x-s.x,h.y-s.y)},calcAngleBetweenVectors:function(s,h){return Math.acos((s.x*h.x+s.y*h.y)/(Math.hypot(s.x,s.y)*Math.hypot(h.x,h.y)))},getHatVector:function(s){return new t.Point(s.x,s.y).multiply(1/Math.hypot(s.x,s.y))},getBisector:function(s,h,g){var d=t.util.createVector(s,h),m=t.util.createVector(s,g),b=t.util.calcAngleBetweenVectors(d,m),_=t.util.calcAngleBetweenVectors(t.util.rotateVector(d,b),m),x=b*(_===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(d,x)),angle:b}},projectStrokeOnPoints:function(s,h,g){var d=[],m=h.strokeWidth/2,b=h.strokeUniform?new t.Point(1/h.scaleX,1/h.scaleY):new t.Point(1,1),_=function(x){var A=m/Math.hypot(x.x,x.y);return new t.Point(x.x*A*b.x,x.y*A*b.y)};return s.length<=1||s.forEach(function(x,A){var L=new t.Point(x.x,x.y),E,F;A===0?(F=s[A+1],E=g?_(t.util.createVector(F,L)).addEquals(L):s[s.length-1]):A===s.length-1?(E=s[A-1],F=g?_(t.util.createVector(E,L)).addEquals(L):s[0]):(E=s[A-1],F=s[A+1]);var Y=t.util.getBisector(L,E,F),et=Y.vector,j=Y.angle,M,tt;if(h.strokeLineJoin==="miter"&&(M=-m/Math.sin(j/2),tt=new t.Point(et.x*M*b.x,et.y*M*b.y),Math.hypot(tt.x,tt.y)/m<=h.strokeMiterLimit)){d.push(L.add(tt)),d.push(L.subtract(tt));return}M=-m*Math.SQRT2,tt=new t.Point(et.x*M*b.x,et.y*M*b.y),d.push(L.add(tt)),d.push(L.subtract(tt))}),d},transformPoint:function(s,h,g){return g?new t.Point(h[0]*s.x+h[2]*s.y,h[1]*s.x+h[3]*s.y):new t.Point(h[0]*s.x+h[2]*s.y+h[4],h[1]*s.x+h[3]*s.y+h[5])},makeBoundingBoxFromPoints:function(s,h){if(h)for(var g=0;g<s.length;g++)s[g]=t.util.transformPoint(s[g],h);var d=[s[0].x,s[1].x,s[2].x,s[3].x],m=t.util.array.min(d),b=t.util.array.max(d),_=b-m,x=[s[0].y,s[1].y,s[2].y,s[3].y],A=t.util.array.min(x),L=t.util.array.max(x),E=L-A;return{left:m,top:A,width:_,height:E}},invertTransform:function(s){var h=1/(s[0]*s[3]-s[1]*s[2]),g=[h*s[3],-h*s[1],-h*s[2],h*s[0]],d=t.util.transformPoint({x:s[4],y:s[5]},g,!0);return g[4]=-d.x,g[5]=-d.y,g},toFixed:function(s,h){return parseFloat(Number(s).toFixed(h))},parseUnit:function(s,h){var g=/\D{0,2}$/.exec(s),d=parseFloat(s);switch(h||(h=t.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return d*t.DPI/25.4;case"cm":return d*t.DPI/2.54;case"in":return d*t.DPI;case"pt":return d*t.DPI/72;case"pc":return d*t.DPI/72*12;case"em":return d*h;default:return d}},falseFunction:function(){return!1},getKlass:function(s,h){return s=t.util.string.camelize(s.charAt(0).toUpperCase()+s.slice(1)),t.util.resolveNamespace(h)[s]},getSvgAttributes:function(s){var h=["instantiated_by_use","style","id","class"];switch(s){case"linearGradient":h=h.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":h=h.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":h=h.concat(["offset","stop-color","stop-opacity"]);break}return h},resolveNamespace:function(s){if(!s)return t;var h=s.split("."),g=h.length,d,m=o||t.window;for(d=0;d<g;++d)m=m[h[d]];return m},loadImage:function(s,h,g,d){if(!s){h&&h.call(g,s);return}var m=t.util.createImage(),b=function(){h&&h.call(g,m,!1),m=m.onload=m.onerror=null};m.onload=b,m.onerror=function(){t.log("Error loading "+m.src),h&&h.call(g,null,!0),m=m.onload=m.onerror=null},s.indexOf("data")!==0&&d!==void 0&&d!==null&&(m.crossOrigin=d),s.substring(0,14)==="data:image/svg"&&(m.onload=null,t.util.loadImageInDom(m,b)),m.src=s},loadImageInDom:function(s,h){var g=t.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(s),t.document.querySelector("body").appendChild(g),s.onload=function(){h(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(s,h,g,d){s=s||[];var m=[],b=0,_=s.length;function x(){++b===_&&h&&h(m.filter(function(A){return A}))}if(!_){h&&h(m);return}s.forEach(function(A,L){if(!A||!A.type){x();return}var E=t.util.getKlass(A.type,g);E.fromObject(A,function(F,Y){Y||(m[L]=F),d&&d(A,F,Y),x()})})},enlivenObjectEnlivables:function(s,h,g){var d=t.Object.ENLIVEN_PROPS.filter(function(m){return!!s[m]});t.util.enlivenObjects(d.map(function(m){return s[m]}),function(m){var b={};d.forEach(function(_,x){b[_]=m[x],h&&(h[_]=m[x])}),g&&g(b)})},enlivenPatterns:function(s,h){s=s||[];function g(){++m===b&&h&&h(d)}var d=[],m=0,b=s.length;if(!b){h&&h(d);return}s.forEach(function(_,x){_&&_.source?new t.Pattern(_,function(A){d[x]=A,g()}):(d[x]=_,g())})},groupSVGElements:function(s,h,g){var d;return s&&s.length===1?(typeof g<"u"&&(s[0].sourcePath=g),s[0]):(h&&(h.width&&h.height?h.centerPoint={x:h.width/2,y:h.height/2}:(delete h.width,delete h.height)),d=new t.Group(s,h),typeof g<"u"&&(d.sourcePath=g),d)},populateWithProperties:function(s,h,g){if(g&&Array.isArray(g))for(var d=0,m=g.length;d<m;d++)g[d]in s&&(h[g[d]]=s[g[d]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(s){var h=t.util.createCanvasElement();return h.width=s.width,h.height=s.height,h.getContext("2d").drawImage(s,0,0),h},toDataURL:function(s,h,g){return s.toDataURL("image/"+h,g)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(s,h,g){return[s[0]*h[0]+s[2]*h[1],s[1]*h[0]+s[3]*h[1],s[0]*h[2]+s[2]*h[3],s[1]*h[2]+s[3]*h[3],g?0:s[0]*h[4]+s[2]*h[5]+s[4],g?0:s[1]*h[4]+s[3]*h[5]+s[5]]},qrDecompose:function(s){var h=u(s[1],s[0]),g=f(s[0],2)+f(s[1],2),d=i(g),m=(s[0]*s[3]-s[2]*s[1])/d,b=u(s[0]*s[2]+s[1]*s[3],g);return{angle:h/a,scaleX:d,scaleY:m,skewX:b/a,skewY:0,translateX:s[4],translateY:s[5]}},calcRotateMatrix:function(s){if(!s.angle)return t.iMatrix.concat();var h=t.util.degreesToRadians(s.angle),g=t.util.cos(h),d=t.util.sin(h);return[g,d,-d,g,0,0]},calcDimensionsMatrix:function(s){var h=typeof s.scaleX>"u"?1:s.scaleX,g=typeof s.scaleY>"u"?1:s.scaleY,d=[s.flipX?-h:h,0,0,s.flipY?-g:g,0,0],m=t.util.multiplyTransformMatrices,b=t.util.degreesToRadians;return s.skewX&&(d=m(d,[1,0,Math.tan(b(s.skewX)),1],!0)),s.skewY&&(d=m(d,[1,Math.tan(b(s.skewY)),0,1],!0)),d},composeMatrix:function(s){var h=[1,0,0,1,s.translateX||0,s.translateY||0],g=t.util.multiplyTransformMatrices;return s.angle&&(h=g(h,t.util.calcRotateMatrix(s))),(s.scaleX!==1||s.scaleY!==1||s.skewX||s.skewY||s.flipX||s.flipY)&&(h=g(h,t.util.calcDimensionsMatrix(s))),h},resetObjectTransform:function(s){s.scaleX=1,s.scaleY=1,s.skewX=0,s.skewY=0,s.flipX=!1,s.flipY=!1,s.rotate(0)},saveObjectTransform:function(s){return{scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,angle:s.angle,left:s.left,flipX:s.flipX,flipY:s.flipY,top:s.top}},isTransparent:function(s,h,g,d){d>0&&(h>d?h-=d:h=0,g>d?g-=d:g=0);var m=!0,b,_,x=s.getImageData(h,g,d*2||1,d*2||1),A=x.data.length;for(b=3;b<A&&(_=x.data[b],m=_<=0,m!==!1);b+=4);return x=null,m},parsePreserveAspectRatioAttribute:function(s){var h="meet",g="Mid",d="Mid",m=s.split(" "),b;return m&&m.length&&(h=m.pop(),h!=="meet"&&h!=="slice"?(b=h,h="meet"):m.length&&(b=m.pop())),g=b!=="none"?b.slice(1,4):"none",d=b!=="none"?b.slice(5,8):"none",{meetOrSlice:h,alignX:g,alignY:d}},clearFabricFontCache:function(s){s=(s||"").toLowerCase(),s?t.charWidthsCache[s]&&delete t.charWidthsCache[s]:t.charWidthsCache={}},limitDimsByArea:function(s,h){var g=Math.sqrt(h*s),d=Math.floor(h/g);return{x:Math.floor(g),y:d}},capValue:function(s,h,g){return Math.max(s,Math.min(h,g))},findScaleToFit:function(s,h){return Math.min(h.width/s.width,h.height/s.height)},findScaleToCover:function(s,h){return Math.max(h.width/s.width,h.height/s.height)},matrixToSVG:function(s){return"matrix("+s.map(function(h){return t.util.toFixed(h,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(s,h){var g=t.util.invertTransform(h),d=t.util.multiplyTransformMatrices(g,s.calcOwnMatrix());t.util.applyTransformToObject(s,d)},addTransformToObject:function(s,h){t.util.applyTransformToObject(s,t.util.multiplyTransformMatrices(h,s.calcOwnMatrix()))},applyTransformToObject:function(s,h){var g=t.util.qrDecompose(h),d=new t.Point(g.translateX,g.translateY);s.flipX=!1,s.flipY=!1,s.set("scaleX",g.scaleX),s.set("scaleY",g.scaleY),s.skewX=g.skewX,s.skewY=g.skewY,s.angle=g.angle,s.setPositionByOrigin(d,"center","center")},sizeAfterTransform:function(s,h,g){var d=s/2,m=h/2,b=[{x:-d,y:-m},{x:d,y:-m},{x:-d,y:m},{x:d,y:m}],_=t.util.calcDimensionsMatrix(g),x=t.util.makeBoundingBoxFromPoints(b,_);return{x:x.width,y:x.height}},mergeClipPaths:function(s,h){var g=s,d=h;g.inverted&&!d.inverted&&(g=h,d=s),t.util.applyTransformToObject(d,t.util.multiplyTransformMatrices(t.util.invertTransform(g.calcTransformMatrix()),d.calcTransformMatrix()));var m=g.inverted&&d.inverted;return m&&(g.inverted=d.inverted=!1),new t.Group([g],{clipPath:d,inverted:m})},hasStyleChanged:function(s,h,g){return g=g||!1,s.fill!==h.fill||s.stroke!==h.stroke||s.strokeWidth!==h.strokeWidth||s.fontSize!==h.fontSize||s.fontFamily!==h.fontFamily||s.fontWeight!==h.fontWeight||s.fontStyle!==h.fontStyle||s.textBackgroundColor!==h.textBackgroundColor||s.deltaY!==h.deltaY||g&&(s.overline!==h.overline||s.underline!==h.underline||s.linethrough!==h.linethrough)},stylesToArray:function(g,h){for(var g=t.util.object.clone(g,!0),d=h.split(`
`),m=-1,b={},_=[],x=0;x<d.length;x++){if(!g[x]){m+=d[x].length;continue}for(var A=0;A<d[x].length;A++){m++;var L=g[x][A];if(L&&Object.keys(L).length>0){var E=t.util.hasStyleChanged(b,L,!0);E?_.push({start:m,end:m+1,style:L}):_[_.length-1].end++}b=L||{}}}return _},stylesFromArray:function(s,h){if(!Array.isArray(s))return s;for(var g=h.split(`
`),d=-1,m=0,b={},_=0;_<g.length;_++)for(var x=0;x<g[_].length;x++)d++,s[m]&&s[m].start<=d&&d<s[m].end&&(b[_]=b[_]||{},b[_][x]=Object.assign({},s[m].style),d===s[m].end-1&&m++);return b}}}(e),function(){var o=Array.prototype.join,i={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function f(D,$,nt,T,q,k,O,W,B,J,G){var lt=t.util.cos(D),dt=t.util.sin(D),xt=t.util.cos($),N=t.util.sin($),R=nt*q*xt-T*k*N+O,H=T*q*xt+nt*k*N+W,I=J+B*(-nt*q*dt-T*k*lt),it=G+B*(-T*q*dt+nt*k*lt),at=R+B*(nt*q*N+T*k*xt),ut=H+B*(T*q*N-nt*k*xt);return["C",I,it,at,ut,R,H]}function a(D,$,nt,T,q,k,O){var W=Math.PI,B=O*W/180,J=t.util.sin(B),G=t.util.cos(B),lt=0,dt=0;nt=Math.abs(nt),T=Math.abs(T);var xt=-G*D*.5-J*$*.5,N=-G*$*.5+J*D*.5,R=nt*nt,H=T*T,I=N*N,it=xt*xt,at=R*H-R*I-H*it,ut=0;if(at<0){var vt=Math.sqrt(1-at/(R*H));nt*=vt,T*=vt}else ut=(q===k?-1:1)*Math.sqrt(at/(R*I+H*it));var gt=ut*nt*N/T,rt=-ut*T*xt/nt,Ct=G*gt-J*rt+D*.5,Ot=J*gt+G*rt+$*.5,Et=l(1,0,(xt-gt)/nt,(N-rt)/T),Mt=l((xt-gt)/nt,(N-rt)/T,(-xt-gt)/nt,(-N-rt)/T);k===0&&Mt>0?Mt-=2*W:k===1&&Mt<0&&(Mt+=2*W);for(var Bt=Math.ceil(Math.abs(Mt/W*2)),Vt=[],Ut=Mt/Bt,Kt=8/3*Math.sin(Ut/4)*Math.sin(Ut/4)/Math.sin(Ut/2),zt=Et+Ut,ve=0;ve<Bt;ve++)Vt[ve]=f(Et,zt,G,J,nt,T,Ct,Ot,Kt,lt,dt),lt=Vt[ve][5],dt=Vt[ve][6],Et=zt,zt+=Ut;return Vt}function l(D,$,nt,T){var q=Math.atan2($,D),k=Math.atan2(T,nt);return k>=q?k-q:2*Math.PI-(q-k)}function s(D,$,nt,T,q,k,O,W){var B;if(t.cachesBoundsOfCurve&&(B=o.call(arguments),t.boundsOfCurveCache[B]))return t.boundsOfCurveCache[B];var J=Math.sqrt,G=Math.min,lt=Math.max,dt=Math.abs,xt=[],N=[[],[]],R,H,I,it,at,ut,vt,gt;H=6*D-12*nt+6*q,R=-3*D+9*nt-9*q+3*O,I=3*nt-3*D;for(var rt=0;rt<2;++rt){if(rt>0&&(H=6*$-12*T+6*k,R=-3*$+9*T-9*k+3*W,I=3*T-3*$),dt(R)<1e-12){if(dt(H)<1e-12)continue;it=-I/H,0<it&&it<1&&xt.push(it);continue}vt=H*H-4*I*R,!(vt<0)&&(gt=J(vt),at=(-H+gt)/(2*R),0<at&&at<1&&xt.push(at),ut=(-H-gt)/(2*R),0<ut&&ut<1&&xt.push(ut))}for(var Ct,Ot,Et=xt.length,Mt=Et,Bt;Et--;)it=xt[Et],Bt=1-it,Ct=Bt*Bt*Bt*D+3*Bt*Bt*it*nt+3*Bt*it*it*q+it*it*it*O,N[0][Et]=Ct,Ot=Bt*Bt*Bt*$+3*Bt*Bt*it*T+3*Bt*it*it*k+it*it*it*W,N[1][Et]=Ot;N[0][Mt]=D,N[1][Mt]=$,N[0][Mt+1]=O,N[1][Mt+1]=W;var Vt=[{x:G.apply(null,N[0]),y:G.apply(null,N[1])},{x:lt.apply(null,N[0]),y:lt.apply(null,N[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[B]=Vt),Vt}function h(D,$,nt){for(var T=nt[1],q=nt[2],k=nt[3],O=nt[4],W=nt[5],B=nt[6],J=nt[7],G=a(B-D,J-$,T,q,O,W,k),lt=0,dt=G.length;lt<dt;lt++)G[lt][1]+=D,G[lt][2]+=$,G[lt][3]+=D,G[lt][4]+=$,G[lt][5]+=D,G[lt][6]+=$;return G}function g(D){var $=0,nt=0,T=D.length,q=0,k=0,O,W,B,J=[],G,lt,dt;for(W=0;W<T;++W){switch(B=!1,O=D[W].slice(0),O[0]){case"l":O[0]="L",O[1]+=$,O[2]+=nt;case"L":$=O[1],nt=O[2];break;case"h":O[1]+=$;case"H":O[0]="L",O[2]=nt,$=O[1];break;case"v":O[1]+=nt;case"V":O[0]="L",nt=O[1],O[1]=$,O[2]=nt;break;case"m":O[0]="M",O[1]+=$,O[2]+=nt;case"M":$=O[1],nt=O[2],q=O[1],k=O[2];break;case"c":O[0]="C",O[1]+=$,O[2]+=nt,O[3]+=$,O[4]+=nt,O[5]+=$,O[6]+=nt;case"C":lt=O[3],dt=O[4],$=O[5],nt=O[6];break;case"s":O[0]="S",O[1]+=$,O[2]+=nt,O[3]+=$,O[4]+=nt;case"S":G==="C"?(lt=2*$-lt,dt=2*nt-dt):(lt=$,dt=nt),$=O[3],nt=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=lt,O[2]=dt,lt=O[3],dt=O[4];break;case"q":O[0]="Q",O[1]+=$,O[2]+=nt,O[3]+=$,O[4]+=nt;case"Q":lt=O[1],dt=O[2],$=O[3],nt=O[4];break;case"t":O[0]="T",O[1]+=$,O[2]+=nt;case"T":G==="Q"?(lt=2*$-lt,dt=2*nt-dt):(lt=$,dt=nt),O[0]="Q",$=O[1],nt=O[2],O[1]=lt,O[2]=dt,O[3]=$,O[4]=nt;break;case"a":O[0]="A",O[6]+=$,O[7]+=nt;case"A":B=!0,J=J.concat(h($,nt,O)),$=O[6],nt=O[7];break;case"z":case"Z":$=q,nt=k;break}B||J.push(O),G=O[0]}return J}function d(D,$,nt,T){return Math.sqrt((nt-D)*(nt-D)+(T-$)*(T-$))}function m(D){return D*D*D}function b(D){return 3*D*D*(1-D)}function _(D){return 3*D*(1-D)*(1-D)}function x(D){return(1-D)*(1-D)*(1-D)}function A(D,$,nt,T,q,k,O,W){return function(B){var J=m(B),G=b(B),lt=_(B),dt=x(B);return{x:O*J+q*G+nt*lt+D*dt,y:W*J+k*G+T*lt+$*dt}}}function L(D,$,nt,T,q,k,O,W){return function(B){var J=1-B,G=3*J*J*(nt-D)+6*J*B*(q-nt)+3*B*B*(O-q),lt=3*J*J*(T-$)+6*J*B*(k-T)+3*B*B*(W-k);return Math.atan2(lt,G)}}function E(D){return D*D}function F(D){return 2*D*(1-D)}function Y(D){return(1-D)*(1-D)}function et(D,$,nt,T,q,k){return function(O){var W=E(O),B=F(O),J=Y(O);return{x:q*W+nt*B+D*J,y:k*W+T*B+$*J}}}function j(D,$,nt,T,q,k){return function(O){var W=1-O,B=2*W*(nt-D)+2*O*(q-nt),J=2*W*(T-$)+2*O*(k-T);return Math.atan2(J,B)}}function M(D,$,nt){var T={x:$,y:nt},q,k=0,O;for(O=1;O<=100;O+=1)q=D(O/100),k+=d(T.x,T.y,q.x,q.y),T=q;return k}function tt(D,$){for(var nt=0,T=0,q=D.iterator,k={x:D.x,y:D.y},O,W,B=.01,J=D.angleFinder,G;T<$&&B>1e-4;)O=q(nt),G=nt,W=d(k.x,k.y,O.x,O.y),W+T>$?(nt-=B,B/=2):(k=O,nt+=B,T+=W);return O.angle=J(G),O}function Z(D){for(var $=0,nt=D.length,T,q=0,k=0,O=0,W=0,B=[],J,G,lt,dt=0;dt<nt;dt++){switch(T=D[dt],G={x:q,y:k,command:T[0]},T[0]){case"M":G.length=0,O=q=T[1],W=k=T[2];break;case"L":G.length=d(q,k,T[1],T[2]),q=T[1],k=T[2];break;case"C":J=A(q,k,T[1],T[2],T[3],T[4],T[5],T[6]),lt=L(q,k,T[1],T[2],T[3],T[4],T[5],T[6]),G.iterator=J,G.angleFinder=lt,G.length=M(J,q,k),q=T[5],k=T[6];break;case"Q":J=et(q,k,T[1],T[2],T[3],T[4]),lt=j(q,k,T[1],T[2],T[3],T[4]),G.iterator=J,G.angleFinder=lt,G.length=M(J,q,k),q=T[3],k=T[4];break;case"Z":case"z":G.destX=O,G.destY=W,G.length=d(q,k,O,W),q=O,k=W;break}$+=G.length,B.push(G)}return B.push({length:$,x:q,y:k}),B}function ft(D,$,nt){nt||(nt=Z(D));for(var T=0;$-nt[T].length>0&&T<nt.length-2;)$-=nt[T].length,T++;var q=nt[T],k=$/q.length,O=q.command,W=D[T],B;switch(O){case"M":return{x:q.x,y:q.y,angle:0};case"Z":case"z":return B=new t.Point(q.x,q.y).lerp(new t.Point(q.destX,q.destY),k),B.angle=Math.atan2(q.destY-q.y,q.destX-q.x),B;case"L":return B=new t.Point(q.x,q.y).lerp(new t.Point(W[1],W[2]),k),B.angle=Math.atan2(W[2]-q.y,W[1]-q.x),B;case"C":return tt(q,$);case"Q":return tt(q,$)}}function ht(D){var $=[],nt=[],T,q,k=t.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",W="("+O+")"+t.commaWsp,B="([01])"+t.commaWsp+"?",J=W+"?"+W+"?"+W+B+B+W+"?("+O+")",G=new RegExp(J,"g"),lt,dt,xt;if(!D||!D.match)return $;xt=D.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var N=0,R,H=xt.length;N<H;N++){T=xt[N],dt=T.slice(1).trim(),nt.length=0;var I=T.charAt(0);if(R=[I],I.toLowerCase()==="a")for(var it;it=G.exec(dt);)for(var at=1;at<it.length;at++)nt.push(it[at]);else for(;lt=k.exec(dt);)nt.push(lt[0]);for(var at=0,ut=nt.length;at<ut;at++)q=parseFloat(nt[at]),isNaN(q)||R.push(q);var vt=i[I.toLowerCase()],gt=u[I]||I;if(R.length-1>vt)for(var rt=1,Ct=R.length;rt<Ct;rt+=vt)$.push([I].concat(R.slice(rt,rt+vt))),I=gt;else $.push(R)}return $}function pt(D,$){var nt=[],T,q=new t.Point(D[0].x,D[0].y),k=new t.Point(D[1].x,D[1].y),O=D.length,W=1,B=0,J=O>2;for($=$||0,J&&(W=D[2].x<k.x?-1:D[2].x===k.x?0:1,B=D[2].y<k.y?-1:D[2].y===k.y?0:1),nt.push(["M",q.x-W*$,q.y-B*$]),T=1;T<O;T++){if(!q.eq(k)){var G=q.midPointFrom(k);nt.push(["Q",q.x,q.y,G.x,G.y])}q=D[T],T+1<D.length&&(k=D[T+1])}return J&&(W=q.x>D[T-2].x?1:q.x===D[T-2].x?0:-1,B=q.y>D[T-2].y?1:q.y===D[T-2].y?0:-1),nt.push(["L",q.x+W*$,q.y+B*$]),nt}function ct(D,$,nt){return nt&&($=t.util.multiplyTransformMatrices($,[1,0,0,1,-nt.x,-nt.y])),D.map(function(T){for(var q=T.slice(0),k={},O=1;O<T.length-1;O+=2)k.x=T[O],k.y=T[O+1],k=t.util.transformPoint(k,$),q[O]=k.x,q[O+1]=k.y;return q})}t.util.joinPath=function(D){return D.map(function($){return $.join(" ")}).join(" ")},t.util.parsePath=ht,t.util.makePathSimpler=g,t.util.getSmoothPathFromPoints=pt,t.util.getPathSegmentsInfo=Z,t.util.getBoundsOfCurve=s,t.util.getPointOnPath=ft,t.util.transformPath=ct}(),function(){var o=Array.prototype.slice;function i(s,h){for(var g=o.call(arguments,2),d=[],m=0,b=s.length;m<b;m++)d[m]=g.length?s[m][h].apply(s[m],g):s[m][h].call(s[m]);return d}function u(s,h){return l(s,h,function(g,d){return g>=d})}function f(s,h){return l(s,h,function(g,d){return g<d})}function a(s,h){for(var g=s.length;g--;)s[g]=h;return s}function l(s,h,g){if(!(!s||s.length===0)){var d=s.length-1,m=h?s[d][h]:s[d];if(h)for(;d--;)g(s[d][h],m)&&(m=s[d][h]);else for(;d--;)g(s[d],m)&&(m=s[d]);return m}}t.util.array={fill:a,invoke:i,min:f,max:u}}(),function(){function o(u,f,a){if(a)if(!t.isLikelyNode&&f instanceof Element)u=f;else if(f instanceof Array){u=[];for(var l=0,s=f.length;l<s;l++)u[l]=o({},f[l],a)}else if(f&&typeof f=="object")for(var h in f)h==="canvas"||h==="group"?u[h]=null:f.hasOwnProperty(h)&&(u[h]=o({},f[h],a));else u=f;else for(var h in f)u[h]=f[h];return u}function i(u,f){return o({},u,f)}t.util.object={extend:o,clone:i},t.util.object.extend(t.util,t.Observable)}(),function(){function o(l){return l.replace(/-+(.)?/g,function(s,h){return h?h.toUpperCase():""})}function i(l,s){return l.charAt(0).toUpperCase()+(s?l.slice(1):l.slice(1).toLowerCase())}function u(l){return l.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(l){var s=0,h,g=[];for(s=0,h;s<l.length;s++)(h=a(l,s))!==!1&&g.push(h);return g}function a(l,s){var h=l.charCodeAt(s);if(isNaN(h))return"";if(h<55296||h>57343)return l.charAt(s);if(55296<=h&&h<=56319){if(l.length<=s+1)throw"High surrogate without following low surrogate";var g=l.charCodeAt(s+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return l.charAt(s)+l.charAt(s+1)}if(s===0)throw"Low surrogate without preceding high surrogate";var d=l.charCodeAt(s-1);if(55296>d||d>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:o,capitalize:i,escapeXml:u,graphemeSplit:f}}(),function(){var o=Array.prototype.slice,i=function(){},u=function(){for(var h in{toString:1})if(h==="toString")return!1;return!0}(),f=function(h,g,d){for(var m in g)m in h.prototype&&typeof h.prototype[m]=="function"&&(g[m]+"").indexOf("callSuper")>-1?h.prototype[m]=function(b){return function(){var _=this.constructor.superclass;this.constructor.superclass=d;var x=g[b].apply(this,arguments);if(this.constructor.superclass=_,b!=="initialize")return x}}(m):h.prototype[m]=g[m],u&&(g.toString!==Object.prototype.toString&&(h.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(h.prototype.valueOf=g.valueOf))};function a(){}function l(h){for(var g=null,d=this;d.constructor.superclass;){var m=d.constructor.superclass.prototype[h];if(d[h]!==m){g=m;break}d=d.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,o.call(arguments,1)):g.call(this):console.log("tried to callSuper "+h+", method not found in prototype chain",this)}function s(){var h=null,g=o.call(arguments,0);typeof g[0]=="function"&&(h=g.shift());function d(){this.initialize.apply(this,arguments)}d.superclass=h,d.subclasses=[],h&&(a.prototype=h.prototype,d.prototype=new a,h.subclasses.push(d));for(var m=0,b=g.length;m<b;m++)f(d,g[m],h);return d.prototype.initialize||(d.prototype.initialize=i),d.prototype.constructor=d,d.prototype.callSuper=l,d}t.util.createClass=s}(),function(){var o=!!t.document.createElement("div").attachEvent,i=["touchstart","touchmove","touchend"];t.util.addListener=function(f,a,l,s){f&&f.addEventListener(a,l,o?!1:s)},t.util.removeListener=function(f,a,l,s){f&&f.removeEventListener(a,l,o?!1:s)};function u(f){var a=f.changedTouches;return a&&a[0]?a[0]:f}t.util.getPointer=function(f){var a=f.target,l=t.util.getScrollLeftTop(a),s=u(f);return{x:s.clientX+l.left,y:s.clientY+l.top}},t.util.isTouchEvent=function(f){return i.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function o(s,h){var g=s.style;if(!g)return s;if(typeof h=="string")return s.style.cssText+=";"+h,h.indexOf("opacity")>-1?l(s,h.match(/opacity:\s*(\d?\.?\d*)/)[1]):s;for(var d in h)if(d==="opacity")l(s,h[d]);else{var m=d==="float"||d==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":d;g.setProperty(m,h[d])}return s}var i=t.document.createElement("div"),u=typeof i.style.opacity=="string",f=typeof i.style.filter=="string",a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,l=function(s){return s};u?l=function(s,h){return s.style.opacity=h,s}:f&&(l=function(s,h){var g=s.style;return s.currentStyle&&!s.currentStyle.hasLayout&&(g.zoom=1),a.test(g.filter)?(h=h>=.9999?"":"alpha(opacity="+h*100+")",g.filter=g.filter.replace(a,h)):g.filter+=" alpha(opacity="+h*100+")",s}),t.util.setStyle=o}(),function(){var o=Array.prototype.slice;function i(x){return typeof x=="string"?t.document.getElementById(x):x}var u,f=function(x){return o.call(x,0)};try{u=f(t.document.childNodes)instanceof Array}catch{}u||(f=function(x){for(var A=new Array(x.length),L=x.length;L--;)A[L]=x[L];return A});function a(x,A){var L=t.document.createElement(x);for(var E in A)E==="class"?L.className=A[E]:E==="for"?L.htmlFor=A[E]:L.setAttribute(E,A[E]);return L}function l(x,A){x&&(" "+x.className+" ").indexOf(" "+A+" ")===-1&&(x.className+=(x.className?" ":"")+A)}function s(x,A,L){return typeof A=="string"&&(A=a(A,L)),x.parentNode&&x.parentNode.replaceChild(A,x),A.appendChild(x),A}function h(x){for(var A=0,L=0,E=t.document.documentElement,F=t.document.body||{scrollLeft:0,scrollTop:0};x&&(x.parentNode||x.host)&&(x=x.parentNode||x.host,x===t.document?(A=F.scrollLeft||E.scrollLeft||0,L=F.scrollTop||E.scrollTop||0):(A+=x.scrollLeft||0,L+=x.scrollTop||0),!(x.nodeType===1&&x.style.position==="fixed")););return{left:A,top:L}}function g(x){var A,L=x&&x.ownerDocument,E={left:0,top:0},F={left:0,top:0},Y,et={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!L)return F;for(var j in et)F[et[j]]+=parseInt(d(x,j),10)||0;return A=L.documentElement,typeof x.getBoundingClientRect<"u"&&(E=x.getBoundingClientRect()),Y=h(x),{left:E.left+Y.left-(A.clientLeft||0)+F.left,top:E.top+Y.top-(A.clientTop||0)+F.top}}var d;t.document.defaultView&&t.document.defaultView.getComputedStyle?d=function(x,A){var L=t.document.defaultView.getComputedStyle(x,null);return L?L[A]:void 0}:d=function(x,A){var L=x.style[A];return!L&&x.currentStyle&&(L=x.currentStyle[A]),L},function(){var x=t.document.documentElement.style,A="userSelect"in x?"userSelect":"MozUserSelect"in x?"MozUserSelect":"WebkitUserSelect"in x?"WebkitUserSelect":"KhtmlUserSelect"in x?"KhtmlUserSelect":"";function L(F){return typeof F.onselectstart<"u"&&(F.onselectstart=t.util.falseFunction),A?F.style[A]="none":typeof F.unselectable=="string"&&(F.unselectable="on"),F}function E(F){return typeof F.onselectstart<"u"&&(F.onselectstart=null),A?F.style[A]="":typeof F.unselectable=="string"&&(F.unselectable=""),F}t.util.makeElementUnselectable=L,t.util.makeElementSelectable=E}();function m(x){var A=t.jsdomImplForWrapper(x);return A._canvas||A._image}function b(x){if(!!t.isLikelyNode){var A=t.jsdomImplForWrapper(x);A&&(A._image=null,A._canvas=null,A._currentSrc=null,A._attributes=null,A._classList=null)}}function _(x,A){x.imageSmoothingEnabled=x.imageSmoothingEnabled||x.webkitImageSmoothingEnabled||x.mozImageSmoothingEnabled||x.msImageSmoothingEnabled||x.oImageSmoothingEnabled,x.imageSmoothingEnabled=A}t.util.setImageSmoothing=_,t.util.getById=i,t.util.toArray=f,t.util.addClass=l,t.util.makeElement=a,t.util.wrapElement=s,t.util.getScrollLeftTop=h,t.util.getElementOffset=g,t.util.getNodeCanvas=m,t.util.cleanUpJsdomNode=b}(),function(){function o(f,a){return f+(/\?/.test(f)?"&":"?")+a}function i(){}function u(f,a){a||(a={});var l=a.method?a.method.toUpperCase():"GET",s=a.onComplete||function(){},h=new t.window.XMLHttpRequest,g=a.body||a.parameters;return h.onreadystatechange=function(){h.readyState===4&&(s(h),h.onreadystatechange=i)},l==="GET"&&(g=null,typeof a.parameters=="string"&&(f=o(f,a.parameters))),h.open(l,f,!0),(l==="POST"||l==="PUT")&&h.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),h.send(g),h}t.util.request=u}(),t.log=console.log,t.warn=console.warn,function(){var o=t.util.object.extend,i=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var m=this.splice(0);return m.forEach(function(b){b.cancel()}),m},cancelByCanvas:function(m){if(!m)return[];var b=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===m});return b.forEach(function(_){_.cancel()}),b},cancelByTarget:function(m){var b=this.findAnimationsByTarget(m);return b.forEach(function(_){_.cancel()}),b},findAnimationIndex:function(m){return this.indexOf(this.findAnimation(m))},findAnimation:function(m){return this.find(function(b){return b.cancel===m})},findAnimationsByTarget:function(m){return m?this.filter(function(b){return b.target===m}):[]}});function f(){return!1}function a(m,b,_,x){return-_*Math.cos(m/x*(Math.PI/2))+_+b}function l(m){m||(m={});var b=!1,_,x=function(){var A=t.runningAnimations.indexOf(_);return A>-1&&t.runningAnimations.splice(A,1)[0]};return _=o(i(m),{cancel:function(){return b=!0,x()},currentValue:"startValue"in m?m.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(_),g(function(A){var L=A||+new Date,E=m.duration||500,F=L+E,Y,et=m.onChange||f,j=m.abort||f,M=m.onComplete||f,tt=m.easing||a,Z="startValue"in m?m.startValue.length>0:!1,ft="startValue"in m?m.startValue:0,ht="endValue"in m?m.endValue:100,pt=m.byValue||(Z?ft.map(function(ct,D){return ht[D]-ft[D]}):ht-ft);m.onStart&&m.onStart(),function ct(D){Y=D||+new Date;var $=Y>F?E:Y-L,nt=$/E,T=Z?ft.map(function(k,O){return tt($,ft[O],pt[O],E)}):tt($,ft,pt,E),q=Math.abs(Z?(T[0]-ft[0])/pt[0]:(T-ft)/pt);if(_.currentValue=Z?T.slice():T,_.completionRate=q,_.durationRate=nt,!b){if(j(T,q,nt)){x();return}if(Y>F){_.currentValue=Z?ht.slice():ht,_.completionRate=1,_.durationRate=1,et(Z?ht.slice():ht,1,1),M(ht,1,1),x();return}else et(T,q,nt),g(ct)}}(L)}),_.cancel}var s=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(m){return t.window.setTimeout(m,1e3/60)},h=t.window.cancelAnimationFrame||t.window.clearTimeout;function g(){return s.apply(t.window,arguments)}function d(){return h.apply(t.window,arguments)}t.util.animate=l,t.util.requestAnimFrame=g,t.util.cancelAnimFrame=d,t.runningAnimations=u}(),function(){function o(u,f,a){var l="rgba("+parseInt(u[0]+a*(f[0]-u[0]),10)+","+parseInt(u[1]+a*(f[1]-u[1]),10)+","+parseInt(u[2]+a*(f[2]-u[2]),10);return l+=","+(u&&f?parseFloat(u[3]+a*(f[3]-u[3])):1),l+=")",l}function i(u,f,a,l){var s=new t.Color(u).getSource(),h=new t.Color(f).getSource(),g=l.onComplete,d=l.onChange;return l=l||{},t.util.animate(t.util.object.extend(l,{duration:a||500,startValue:s,endValue:h,byValue:h,easing:function(m,b,_,x){var A=l.colorEasing?l.colorEasing(m,x):1-Math.cos(m/x*(Math.PI/2));return o(b,_,A)},onComplete:function(m,b,_){if(g)return g(o(h,h,0),b,_)},onChange:function(m,b,_){if(d){if(Array.isArray(m))return d(o(m,m,0),b,_);d(m,b,_)}}}))}t.util.animateColor=i}(),function(){function o(D,$,nt,T){return D<Math.abs($)?(D=$,T=nt/4):$===0&&D===0?T=nt/(2*Math.PI)*Math.asin(1):T=nt/(2*Math.PI)*Math.asin($/D),{a:D,c:$,p:nt,s:T}}function i(D,$,nt){return D.a*Math.pow(2,10*($-=1))*Math.sin(($*nt-D.s)*(2*Math.PI)/D.p)}function u(D,$,nt,T){return nt*((D=D/T-1)*D*D+1)+$}function f(D,$,nt,T){return D/=T/2,D<1?nt/2*D*D*D+$:nt/2*((D-=2)*D*D+2)+$}function a(D,$,nt,T){return nt*(D/=T)*D*D*D+$}function l(D,$,nt,T){return-nt*((D=D/T-1)*D*D*D-1)+$}function s(D,$,nt,T){return D/=T/2,D<1?nt/2*D*D*D*D+$:-nt/2*((D-=2)*D*D*D-2)+$}function h(D,$,nt,T){return nt*(D/=T)*D*D*D*D+$}function g(D,$,nt,T){return nt*((D=D/T-1)*D*D*D*D+1)+$}function d(D,$,nt,T){return D/=T/2,D<1?nt/2*D*D*D*D*D+$:nt/2*((D-=2)*D*D*D*D+2)+$}function m(D,$,nt,T){return-nt*Math.cos(D/T*(Math.PI/2))+nt+$}function b(D,$,nt,T){return nt*Math.sin(D/T*(Math.PI/2))+$}function _(D,$,nt,T){return-nt/2*(Math.cos(Math.PI*D/T)-1)+$}function x(D,$,nt,T){return D===0?$:nt*Math.pow(2,10*(D/T-1))+$}function A(D,$,nt,T){return D===T?$+nt:nt*(-Math.pow(2,-10*D/T)+1)+$}function L(D,$,nt,T){return D===0?$:D===T?$+nt:(D/=T/2,D<1?nt/2*Math.pow(2,10*(D-1))+$:nt/2*(-Math.pow(2,-10*--D)+2)+$)}function E(D,$,nt,T){return-nt*(Math.sqrt(1-(D/=T)*D)-1)+$}function F(D,$,nt,T){return nt*Math.sqrt(1-(D=D/T-1)*D)+$}function Y(D,$,nt,T){return D/=T/2,D<1?-nt/2*(Math.sqrt(1-D*D)-1)+$:nt/2*(Math.sqrt(1-(D-=2)*D)+1)+$}function et(D,$,nt,T){var q=1.70158,k=0,O=nt;if(D===0)return $;if(D/=T,D===1)return $+nt;k||(k=T*.3);var W=o(O,nt,k,q);return-i(W,D,T)+$}function j(D,$,nt,T){var q=1.70158,k=0,O=nt;if(D===0)return $;if(D/=T,D===1)return $+nt;k||(k=T*.3);var W=o(O,nt,k,q);return W.a*Math.pow(2,-10*D)*Math.sin((D*T-W.s)*(2*Math.PI)/W.p)+W.c+$}function M(D,$,nt,T){var q=1.70158,k=0,O=nt;if(D===0)return $;if(D/=T/2,D===2)return $+nt;k||(k=T*(.3*1.5));var W=o(O,nt,k,q);return D<1?-.5*i(W,D,T)+$:W.a*Math.pow(2,-10*(D-=1))*Math.sin((D*T-W.s)*(2*Math.PI)/W.p)*.5+W.c+$}function tt(D,$,nt,T,q){return q===void 0&&(q=1.70158),nt*(D/=T)*D*((q+1)*D-q)+$}function Z(D,$,nt,T,q){return q===void 0&&(q=1.70158),nt*((D=D/T-1)*D*((q+1)*D+q)+1)+$}function ft(D,$,nt,T,q){return q===void 0&&(q=1.70158),D/=T/2,D<1?nt/2*(D*D*(((q*=1.525)+1)*D-q))+$:nt/2*((D-=2)*D*(((q*=1.525)+1)*D+q)+2)+$}function ht(D,$,nt,T){return nt-pt(T-D,0,nt,T)+$}function pt(D,$,nt,T){return(D/=T)<1/2.75?nt*(7.5625*D*D)+$:D<2/2.75?nt*(7.5625*(D-=1.5/2.75)*D+.75)+$:D<2.5/2.75?nt*(7.5625*(D-=2.25/2.75)*D+.9375)+$:nt*(7.5625*(D-=2.625/2.75)*D+.984375)+$}function ct(D,$,nt,T){return D<T/2?ht(D*2,0,nt,T)*.5+$:pt(D*2-T,0,nt,T)*.5+nt*.5+$}t.util.ease={easeInQuad:function(D,$,nt,T){return nt*(D/=T)*D+$},easeOutQuad:function(D,$,nt,T){return-nt*(D/=T)*(D-2)+$},easeInOutQuad:function(D,$,nt,T){return D/=T/2,D<1?nt/2*D*D+$:-nt/2*(--D*(D-2)-1)+$},easeInCubic:function(D,$,nt,T){return nt*(D/=T)*D*D+$},easeOutCubic:u,easeInOutCubic:f,easeInQuart:a,easeOutQuart:l,easeInOutQuart:s,easeInQuint:h,easeOutQuint:g,easeInOutQuint:d,easeInSine:m,easeOutSine:b,easeInOutSine:_,easeInExpo:x,easeOutExpo:A,easeInOutExpo:L,easeInCirc:E,easeOutCirc:F,easeInOutCirc:Y,easeInElastic:et,easeOutElastic:j,easeInOutElastic:M,easeInBack:tt,easeOutBack:Z,easeInOutBack:ft,easeInBounce:ht,easeOutBounce:pt,easeInOutBounce:ct}}(),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.util.object.clone,a=i.util.toFixed,l=i.util.parseUnit,s=i.util.multiplyTransformMatrices,h=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],d=["pattern","defs","symbol","metadata","clipPath","mask","desc"],m=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},x="font-size",A="clip-path";i.svgValidTagNamesRegEx=F(h),i.svgViewBoxElementsRegEx=F(g),i.svgInvalidAncestorsRegEx=F(d),i.svgValidParentsRegEx=F(m),i.cssRules={},i.gradientDefs={},i.clipPaths={};function L(k){return k in b?b[k]:k}function E(k,O,W,B){var J=Array.isArray(O),G;if((k==="fill"||k==="stroke")&&O==="none")O="";else{if(k==="strokeUniform")return O==="non-scaling-stroke";if(k==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(k==="transformMatrix")W&&W.transformMatrix?O=s(W.transformMatrix,i.parseTransformAttribute(O)):O=i.parseTransformAttribute(O);else if(k==="visible")O=O!=="none"&&O!=="hidden",W&&W.visible===!1&&(O=!1);else if(k==="opacity")O=parseFloat(O),W&&typeof W.opacity<"u"&&(O*=W.opacity);else if(k==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(k==="charSpacing")G=l(O,B)/B*1e3;else if(k==="paintFirst"){var lt=O.indexOf("fill"),dt=O.indexOf("stroke"),O="fill";(lt>-1&&dt>-1&&dt<lt||lt===-1&&dt>-1)&&(O="stroke")}else{if(k==="href"||k==="xlink:href"||k==="font")return O;if(k==="imageSmoothing")return O==="optimizeQuality";G=J?O.map(l):l(O,B)}}return!J&&isNaN(G)?O:G}function F(k){return new RegExp("^("+k.join("|")+")\\b","i")}function Y(k){for(var O in _)if(!(typeof k[_[O]]>"u"||k[O]==="")){if(typeof k[O]>"u"){if(!i.Object.prototype[O])continue;k[O]=i.Object.prototype[O]}if(k[O].indexOf("url(")!==0){var W=new i.Color(k[O]);k[O]=W.setAlpha(a(W.getAlpha()*k[_[O]],2)).toRgba()}}return k}function et(k,O){var W,B=[],J,G,lt;for(G=0,lt=O.length;G<lt;G++)W=O[G],J=k.getElementsByTagName(W),B=B.concat(Array.prototype.slice.call(J));return B}i.parseTransformAttribute=function(){function k(rt,Ct){var Ot=i.util.cos(Ct[0]),Et=i.util.sin(Ct[0]),Mt=0,Bt=0;Ct.length===3&&(Mt=Ct[1],Bt=Ct[2]),rt[0]=Ot,rt[1]=Et,rt[2]=-Et,rt[3]=Ot,rt[4]=Mt-(Ot*Mt-Et*Bt),rt[5]=Bt-(Et*Mt+Ot*Bt)}function O(rt,Ct){var Ot=Ct[0],Et=Ct.length===2?Ct[1]:Ct[0];rt[0]=Ot,rt[3]=Et}function W(rt,Ct,Ot){rt[Ot]=Math.tan(i.util.degreesToRadians(Ct[0]))}function B(rt,Ct){rt[4]=Ct[0],Ct.length===2&&(rt[5]=Ct[1])}var J=i.iMatrix,G=i.reNum,lt=i.commaWsp,dt="(?:(skewX)\\s*\\(\\s*("+G+")\\s*\\))",xt="(?:(skewY)\\s*\\(\\s*("+G+")\\s*\\))",N="(?:(rotate)\\s*\\(\\s*("+G+")(?:"+lt+"("+G+")"+lt+"("+G+"))?\\s*\\))",R="(?:(scale)\\s*\\(\\s*("+G+")(?:"+lt+"("+G+"))?\\s*\\))",H="(?:(translate)\\s*\\(\\s*("+G+")(?:"+lt+"("+G+"))?\\s*\\))",I="(?:(matrix)\\s*\\(\\s*("+G+")"+lt+"("+G+")"+lt+"("+G+")"+lt+"("+G+")"+lt+"("+G+")"+lt+"("+G+")\\s*\\))",it="(?:"+I+"|"+H+"|"+R+"|"+N+"|"+dt+"|"+xt+")",at="(?:"+it+"(?:"+lt+"*"+it+")*)",ut="^\\s*(?:"+at+"?)\\s*$",vt=new RegExp(ut),gt=new RegExp(it,"g");return function(rt){var Ct=J.concat(),Ot=[];if(!rt||rt&&!vt.test(rt))return Ct;rt.replace(gt,function(Mt){var Bt=new RegExp(it).exec(Mt).filter(function(Kt){return!!Kt}),Vt=Bt[1],Ut=Bt.slice(2).map(parseFloat);switch(Vt){case"translate":B(Ct,Ut);break;case"rotate":Ut[0]=i.util.degreesToRadians(Ut[0]),k(Ct,Ut);break;case"scale":O(Ct,Ut);break;case"skewX":W(Ct,Ut,2);break;case"skewY":W(Ct,Ut,1);break;case"matrix":Ct=Ut;break}Ot.push(Ct.concat()),Ct=J.concat()});for(var Et=Ot[0];Ot.length>1;)Ot.shift(),Et=i.util.multiplyTransformMatrices(Et,Ot[0]);return Et}}();function j(k,O){var W,B;k.replace(/;\s*$/,"").split(";").forEach(function(J){var G=J.split(":");W=G[0].trim().toLowerCase(),B=G[1].trim(),O[W]=B})}function M(k,O){var W,B;for(var J in k)typeof k[J]>"u"||(W=J.toLowerCase(),B=k[J],O[W]=B)}function tt(k,O){var W={};for(var B in i.cssRules[O])if(Z(k,B.split(" ")))for(var J in i.cssRules[O][B])W[J]=i.cssRules[O][B][J];return W}function Z(k,O){var W,B=!0;return W=ht(k,O.pop()),W&&O.length&&(B=ft(k,O)),W&&B&&O.length===0}function ft(k,O){for(var W,B=!0;k.parentNode&&k.parentNode.nodeType===1&&O.length;)B&&(W=O.pop()),k=k.parentNode,B=ht(k,W);return O.length===0}function ht(k,O){var W=k.nodeName,B=k.getAttribute("class"),J=k.getAttribute("id"),G,lt;if(G=new RegExp("^"+W,"i"),O=O.replace(G,""),J&&O.length&&(G=new RegExp("#"+J+"(?![a-zA-Z\\-]+)","i"),O=O.replace(G,"")),B&&O.length)for(B=B.split(" "),lt=B.length;lt--;)G=new RegExp("\\."+B[lt]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(G,"");return O.length===0}function pt(k,O){var W;if(k.getElementById&&(W=k.getElementById(O)),W)return W;var B,J,G,lt=k.getElementsByTagName("*");for(J=0,G=lt.length;J<G;J++)if(B=lt[J],O===B.getAttribute("id"))return B}function ct(k){for(var O=et(k,["use","svg:use"]),W=0;O.length&&W<O.length;){var B=O[W],J=B.getAttribute("xlink:href")||B.getAttribute("href");if(J===null)return;var G=J.slice(1),lt=B.getAttribute("x")||0,dt=B.getAttribute("y")||0,xt=pt(k,G).cloneNode(!0),N=(xt.getAttribute("transform")||"")+" translate("+lt+", "+dt+")",R,H=O.length,I,it,at,ut,vt=i.svgNS;if($(xt),/^svg$/i.test(xt.nodeName)){var gt=xt.ownerDocument.createElementNS(vt,"g");for(it=0,at=xt.attributes,ut=at.length;it<ut;it++)I=at.item(it),gt.setAttributeNS(vt,I.nodeName,I.nodeValue);for(;xt.firstChild;)gt.appendChild(xt.firstChild);xt=gt}for(it=0,at=B.attributes,ut=at.length;it<ut;it++)I=at.item(it),!(I.nodeName==="x"||I.nodeName==="y"||I.nodeName==="xlink:href"||I.nodeName==="href")&&(I.nodeName==="transform"?N=I.nodeValue+" "+N:xt.setAttribute(I.nodeName,I.nodeValue));xt.setAttribute("transform",N),xt.setAttribute("instantiated_by_use","1"),xt.removeAttribute("id"),R=B.parentNode,R.replaceChild(xt,B),O.length===H&&W++}}var D=new RegExp("^\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*,?\\s*("+i.reNum+"+)\\s*$");function $(k){if(!i.svgViewBoxElementsRegEx.test(k.nodeName))return{};var O=k.getAttribute("viewBox"),W=1,B=1,J=0,G=0,lt,dt,xt,N,R=k.getAttribute("width"),H=k.getAttribute("height"),I=k.getAttribute("x")||0,it=k.getAttribute("y")||0,at=k.getAttribute("preserveAspectRatio")||"",ut=!O||!(O=O.match(D)),vt=!R||!H||R==="100%"||H==="100%",gt=ut&&vt,rt={},Ct="",Ot=0,Et=0;if(rt.width=0,rt.height=0,rt.toBeParsed=gt,ut&&(I||it)&&k.parentNode&&k.parentNode.nodeName!=="#document"&&(Ct=" translate("+l(I)+" "+l(it)+") ",xt=(k.getAttribute("transform")||"")+Ct,k.setAttribute("transform",xt),k.removeAttribute("x"),k.removeAttribute("y")),gt)return rt;if(ut)return rt.width=l(R),rt.height=l(H),rt;if(J=-parseFloat(O[1]),G=-parseFloat(O[2]),lt=parseFloat(O[3]),dt=parseFloat(O[4]),rt.minX=J,rt.minY=G,rt.viewBoxWidth=lt,rt.viewBoxHeight=dt,vt?(rt.width=lt,rt.height=dt):(rt.width=l(R),rt.height=l(H),W=rt.width/lt,B=rt.height/dt),at=i.util.parsePreserveAspectRatioAttribute(at),at.alignX!=="none"&&(at.meetOrSlice==="meet"&&(B=W=W>B?B:W),at.meetOrSlice==="slice"&&(B=W=W>B?W:B),Ot=rt.width-lt*W,Et=rt.height-dt*W,at.alignX==="Mid"&&(Ot/=2),at.alignY==="Mid"&&(Et/=2),at.alignX==="Min"&&(Ot=0),at.alignY==="Min"&&(Et=0)),W===1&&B===1&&J===0&&G===0&&I===0&&it===0)return rt;if((I||it)&&k.parentNode.nodeName!=="#document"&&(Ct=" translate("+l(I)+" "+l(it)+") "),xt=Ct+" matrix("+W+" 0 0 "+B+" "+(J*W+Ot)+" "+(G*B+Et)+") ",k.nodeName==="svg"){for(N=k.ownerDocument.createElementNS(i.svgNS,"g");k.firstChild;)N.appendChild(k.firstChild);k.appendChild(N)}else N=k,N.removeAttribute("x"),N.removeAttribute("y"),xt=N.getAttribute("transform")+xt;return N.setAttribute("transform",xt),rt}function nt(k,O){for(;k&&(k=k.parentNode);)if(k.nodeName&&O.test(k.nodeName.replace("svg:",""))&&!k.getAttribute("instantiated_by_use"))return!0;return!1}i.parseSVGDocument=function(k,O,W,B){if(!!k){ct(k);var J=i.Object.__uid++,G,lt,dt=$(k),xt=i.util.toArray(k.getElementsByTagName("*"));if(dt.crossOrigin=B&&B.crossOrigin,dt.svgUid=J,xt.length===0&&i.isLikelyNode){xt=k.selectNodes('//*[name(.)!="svg"]');var N=[];for(G=0,lt=xt.length;G<lt;G++)N[G]=xt[G];xt=N}var R=xt.filter(function(I){return $(I),i.svgValidTagNamesRegEx.test(I.nodeName.replace("svg:",""))&&!nt(I,i.svgInvalidAncestorsRegEx)});if(!R||R&&!R.length){O&&O([],{});return}var H={};xt.filter(function(I){return I.nodeName.replace("svg:","")==="clipPath"}).forEach(function(I){var it=I.getAttribute("id");H[it]=i.util.toArray(I.getElementsByTagName("*")).filter(function(at){return i.svgValidTagNamesRegEx.test(at.nodeName.replace("svg:",""))})}),i.gradientDefs[J]=i.getGradientDefs(k),i.cssRules[J]=i.getCSSRules(k),i.clipPaths[J]=H,i.parseElements(R,function(I,it){O&&(O(I,dt,it,xt),delete i.gradientDefs[J],delete i.cssRules[J],delete i.clipPaths[J])},f(dt),W,B)}};function T(k,O){var W=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],B="xlink:href",J=O.getAttribute(B).slice(1),G=pt(k,J);if(G&&G.getAttribute(B)&&T(k,G),W.forEach(function(dt){G&&!O.hasAttribute(dt)&&G.hasAttribute(dt)&&O.setAttribute(dt,G.getAttribute(dt))}),!O.children.length)for(var lt=G.cloneNode(!0);lt.firstChild;)O.appendChild(lt.firstChild);O.removeAttribute(B)}var q=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+i.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+i.reNum+"))?\\s+(.*)");u(i,{parseFontDeclaration:function(k,O){var W=k.match(q);if(!!W){var B=W[1],J=W[3],G=W[4],lt=W[5],dt=W[6];B&&(O.fontStyle=B),J&&(O.fontWeight=isNaN(parseFloat(J))?J:parseFloat(J)),G&&(O.fontSize=l(G)),dt&&(O.fontFamily=dt),lt&&(O.lineHeight=lt==="normal"?1:lt)}},getGradientDefs:function(k){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],W=et(k,O),B,J=0,G={};for(J=W.length;J--;)B=W[J],B.getAttribute("xlink:href")&&T(k,B),G[B.getAttribute("id")]=B;return G},parseAttributes:function(k,O,W){if(!!k){var B,J={},G,lt;typeof W>"u"&&(W=k.getAttribute("svgUid")),k.parentNode&&i.svgValidParentsRegEx.test(k.parentNode.nodeName)&&(J=i.parseAttributes(k.parentNode,O,W));var dt=O.reduce(function(at,ut){return B=k.getAttribute(ut),B&&(at[ut]=B),at},{}),xt=u(tt(k,W),i.parseStyleAttribute(k));dt=u(dt,xt),xt[A]&&k.setAttribute(A,xt[A]),G=lt=J.fontSize||i.Text.DEFAULT_SVG_FONT_SIZE,dt[x]&&(dt[x]=G=l(dt[x],lt));var N,R,H={};for(var I in dt)N=L(I),R=E(N,dt[I],J,G),H[N]=R;H&&H.font&&i.parseFontDeclaration(H.font,H);var it=u(J,H);return i.svgValidParentsRegEx.test(k.nodeName)?it:Y(it)}},parseElements:function(k,O,W,B,J){new i.ElementsParser(k,O,W,B,J).parse()},parseStyleAttribute:function(k){var O={},W=k.getAttribute("style");return W&&(typeof W=="string"?j(W,O):M(W,O)),O},parsePointsAttribute:function(k){if(!k)return null;k=k.replace(/,/g," ").trim(),k=k.split(/\s+/);var O=[],W,B;for(W=0,B=k.length;W<B;W+=2)O.push({x:parseFloat(k[W]),y:parseFloat(k[W+1])});return O},getCSSRules:function(k){var O=k.getElementsByTagName("style"),W,B,J={},G;for(W=0,B=O.length;W<B;W++){var lt=O[W].textContent;lt=lt.replace(/\/\*[\s\S]*?\*\//g,""),lt.trim()!==""&&(G=lt.split("}"),G=G.filter(function(dt){return dt.trim()}),G.forEach(function(dt){var xt=dt.split("{"),N={},R=xt[1].trim(),H=R.split(";").filter(function(ut){return ut.trim()});for(W=0,B=H.length;W<B;W++){var I=H[W].split(":"),it=I[0].trim(),at=I[1].trim();N[it]=at}dt=xt[0].trim(),dt.split(",").forEach(function(ut){ut=ut.replace(/^svg/i,"").trim(),ut!==""&&(J[ut]?i.util.object.extend(J[ut],N):J[ut]=i.util.object.clone(N))})}))}return J},loadSVGFromURL:function(k,O,W,B){k=k.replace(/^\n\s*/,"").trim(),new i.util.request(k,{method:"get",onComplete:J});function J(G){var lt=G.responseXML;if(!lt||!lt.documentElement)return O&&O(null),!1;i.parseSVGDocument(lt.documentElement,function(dt,xt,N,R){O&&O(dt,xt,N,R)},W,B)}},loadSVGFromString:function(k,O,W,B){var J=new i.window.DOMParser,G=J.parseFromString(k.trim(),"text/xml");i.parseSVGDocument(G.documentElement,function(lt,dt,xt,N){O(lt,dt,xt,N)},W,B)}})}(e),t.ElementsParser=function(o,i,u,f,a,l){this.elements=o,this.callback=i,this.options=u,this.reviver=f,this.svgUid=u&&u.svgUid||0,this.parsingOptions=a,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=l},function(o){o.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},o.createObjects=function(){var i=this;this.elements.forEach(function(u,f){u.setAttribute("svgUid",i.svgUid),i.createObject(u,f)})},o.findTag=function(i){return t[t.util.string.capitalize(i.tagName.replace("svg:",""))]},o.createObject=function(i,u){var f=this.findTag(i);if(f&&f.fromElement)try{f.fromElement(i,this.createCallback(u,i),this.options)}catch(a){t.log(a)}else this.checkIfDone()},o.createCallback=function(i,u){var f=this;return function(a){var l;f.resolveGradient(a,u,"fill"),f.resolveGradient(a,u,"stroke"),a instanceof t.Image&&a._originalElement&&(l=a.parsePreserveAspectRatioAttribute(u)),a._removeTransformMatrix(l),f.resolveClipPath(a,u),f.reviver&&f.reviver(u,a),f.instances[i]=a,f.checkIfDone()}},o.extractPropertyDefinition=function(i,u,f){var a=i[u],l=this.regexUrl;if(!!l.test(a)){l.lastIndex=0;var s=l.exec(a)[1];return l.lastIndex=0,t[f][this.svgUid][s]}},o.resolveGradient=function(i,u,f){var a=this.extractPropertyDefinition(i,f,"gradientDefs");if(a){var l=u.getAttribute(f+"-opacity"),s=t.Gradient.fromElement(a,i,l,this.options);i.set(f,s)}},o.createClipPathCallback=function(i,u){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,u.push(f)}},o.resolveClipPath=function(i,u){var f=this.extractPropertyDefinition(i,"clipPath","clipPaths"),a,l,s,h,g,d;if(f){h=[],s=t.util.invertTransform(i.calcTransformMatrix());for(var m=f[0].parentNode,b=u;b.parentNode&&b.getAttribute("clip-path")!==i.clipPath;)b=b.parentNode;b.parentNode.appendChild(m);for(var _=0;_<f.length;_++)a=f[_],l=this.findTag(a),l.fromElement(a,this.createClipPathCallback(i,h),this.options);h.length===1?f=h[0]:f=new t.Group(h),g=t.util.multiplyTransformMatrices(s,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,b);var d=t.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",d.scaleX),f.set("scaleY",d.scaleY),f.angle=d.angle,f.skewX=d.skewX,f.skewY=0,f.setPositionByOrigin({x:d.translateX,y:d.translateY},"center","center"),i.clipPath=f}else delete i.clipPath},o.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(i){return i!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(o){var i=o.fabric||(o.fabric={});if(i.Point){i.warn("fabric.Point is already defined");return}i.Point=u;function u(f,a){this.x=f,this.y=a}u.prototype={type:"point",constructor:u,add:function(f){return new u(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new u(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new u(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new u(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new u(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new u(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,a){return typeof a>"u"&&(a=.5),a=Math.max(Math.min(1,a),0),new u(this.x+(f.x-this.x)*a,this.y+(f.y-this.y)*a)},distanceFrom:function(f){var a=this.x-f.x,l=this.y-f.y;return Math.sqrt(a*a+l*l)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new u(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new u(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,a){return this.x=f,this.y=a,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var a=this.x,l=this.y;this.x=f.x,this.y=f.y,f.x=a,f.y=l},clone:function(){return new u(this.x,this.y)}}}(e),function(o){var i=o.fabric||(o.fabric={});if(i.Intersection){i.warn("fabric.Intersection is already defined");return}function u(f){this.status=f,this.points=[]}i.Intersection=u,i.Intersection.prototype={constructor:u,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},i.Intersection.intersectLineLine=function(f,a,l,s){var h,g=(s.x-l.x)*(f.y-l.y)-(s.y-l.y)*(f.x-l.x),d=(a.x-f.x)*(f.y-l.y)-(a.y-f.y)*(f.x-l.x),m=(s.y-l.y)*(a.x-f.x)-(s.x-l.x)*(a.y-f.y);if(m!==0){var b=g/m,_=d/m;0<=b&&b<=1&&0<=_&&_<=1?(h=new u("Intersection"),h.appendPoint(new i.Point(f.x+b*(a.x-f.x),f.y+b*(a.y-f.y)))):h=new u}else g===0||d===0?h=new u("Coincident"):h=new u("Parallel");return h},i.Intersection.intersectLinePolygon=function(f,a,l){var s=new u,h=l.length,g,d,m,b;for(b=0;b<h;b++)g=l[b],d=l[(b+1)%h],m=u.intersectLineLine(f,a,g,d),s.appendPoints(m.points);return s.points.length>0&&(s.status="Intersection"),s},i.Intersection.intersectPolygonPolygon=function(f,a){var l=new u,s=f.length,h;for(h=0;h<s;h++){var g=f[h],d=f[(h+1)%s],m=u.intersectLinePolygon(g,d,a);l.appendPoints(m.points)}return l.points.length>0&&(l.status="Intersection"),l},i.Intersection.intersectPolygonRectangle=function(f,a,l){var s=a.min(l),h=a.max(l),g=new i.Point(h.x,s.y),d=new i.Point(s.x,h.y),m=u.intersectLinePolygon(s,g,f),b=u.intersectLinePolygon(g,h,f),_=u.intersectLinePolygon(h,d,f),x=u.intersectLinePolygon(d,s,f),A=new u;return A.appendPoints(m.points),A.appendPoints(b.points),A.appendPoints(_.points),A.appendPoints(x.points),A.points.length>0&&(A.status="Intersection"),A}}(e),function(o){var i=o.fabric||(o.fabric={});if(i.Color){i.warn("fabric.Color is already defined.");return}function u(a){a?this._tryParsingColor(a):this.setSource([0,0,0,1])}i.Color=u,i.Color.prototype={_tryParsingColor:function(a){var l;a in u.colorNameMap&&(a=u.colorNameMap[a]),a==="transparent"&&(l=[255,255,255,0]),l||(l=u.sourceFromHex(a)),l||(l=u.sourceFromRgb(a)),l||(l=u.sourceFromHsl(a)),l||(l=[0,0,0,1]),l&&this.setSource(l)},_rgbToHsl:function(a,l,s){a/=255,l/=255,s/=255;var h,g,d,m=i.util.array.max([a,l,s]),b=i.util.array.min([a,l,s]);if(d=(m+b)/2,m===b)h=g=0;else{var _=m-b;switch(g=d>.5?_/(2-m-b):_/(m+b),m){case a:h=(l-s)/_+(l<s?6:0);break;case l:h=(s-a)/_+2;break;case s:h=(a-l)/_+4;break}h/=6}return[Math.round(h*360),Math.round(g*100),Math.round(d*100)]},getSource:function(){return this._source},setSource:function(a){this._source=a},toRgb:function(){var a=this.getSource();return"rgb("+a[0]+","+a[1]+","+a[2]+")"},toRgba:function(){var a=this.getSource();return"rgba("+a[0]+","+a[1]+","+a[2]+","+a[3]+")"},toHsl:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsl("+l[0]+","+l[1]+"%,"+l[2]+"%)"},toHsla:function(){var a=this.getSource(),l=this._rgbToHsl(a[0],a[1],a[2]);return"hsla("+l[0]+","+l[1]+"%,"+l[2]+"%,"+a[3]+")"},toHex:function(){var a=this.getSource(),l,s,h;return l=a[0].toString(16),l=l.length===1?"0"+l:l,s=a[1].toString(16),s=s.length===1?"0"+s:s,h=a[2].toString(16),h=h.length===1?"0"+h:h,l.toUpperCase()+s.toUpperCase()+h.toUpperCase()},toHexa:function(){var a=this.getSource(),l;return l=Math.round(a[3]*255),l=l.toString(16),l=l.length===1?"0"+l:l,this.toHex()+l.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(a){var l=this.getSource();return l[3]=a,this.setSource(l),this},toGrayscale:function(){var a=this.getSource(),l=parseInt((a[0]*.3+a[1]*.59+a[2]*.11).toFixed(0),10),s=a[3];return this.setSource([l,l,l,s]),this},toBlackWhite:function(a){var l=this.getSource(),s=(l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),h=l[3];return a=a||127,s=Number(s)<Number(a)?0:255,this.setSource([s,s,s,h]),this},overlayWith:function(a){a instanceof u||(a=new u(a));var l=[],s=this.getAlpha(),h=.5,g=this.getSource(),d=a.getSource(),m;for(m=0;m<3;m++)l.push(Math.round(g[m]*(1-h)+d[m]*h));return l[3]=s,this.setSource(l),this}},i.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,i.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,i.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,i.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(a,l,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?a+(l-a)*6*s:s<1/2?l:s<2/3?a+(l-a)*(2/3-s)*6:a}i.Color.fromRgb=function(a){return u.fromSource(u.sourceFromRgb(a))},i.Color.sourceFromRgb=function(a){var l=a.match(u.reRGBa);if(l){var s=parseInt(l[1],10)/(/%$/.test(l[1])?100:1)*(/%$/.test(l[1])?255:1),h=parseInt(l[2],10)/(/%$/.test(l[2])?100:1)*(/%$/.test(l[2])?255:1),g=parseInt(l[3],10)/(/%$/.test(l[3])?100:1)*(/%$/.test(l[3])?255:1);return[parseInt(s,10),parseInt(h,10),parseInt(g,10),l[4]?parseFloat(l[4]):1]}},i.Color.fromRgba=u.fromRgb,i.Color.fromHsl=function(a){return u.fromSource(u.sourceFromHsl(a))},i.Color.sourceFromHsl=function(a){var l=a.match(u.reHSLa);if(!!l){var s=(parseFloat(l[1])%360+360)%360/360,h=parseFloat(l[2])/(/%$/.test(l[2])?100:1),g=parseFloat(l[3])/(/%$/.test(l[3])?100:1),d,m,b;if(h===0)d=m=b=g;else{var _=g<=.5?g*(h+1):g+h-g*h,x=g*2-_;d=f(x,_,s+1/3),m=f(x,_,s),b=f(x,_,s-1/3)}return[Math.round(d*255),Math.round(m*255),Math.round(b*255),l[4]?parseFloat(l[4]):1]}},i.Color.fromHsla=u.fromHsl,i.Color.fromHex=function(a){return u.fromSource(u.sourceFromHex(a))},i.Color.sourceFromHex=function(a){if(a.match(u.reHex)){var l=a.slice(a.indexOf("#")+1),s=l.length===3||l.length===4,h=l.length===8||l.length===4,g=s?l.charAt(0)+l.charAt(0):l.substring(0,2),d=s?l.charAt(1)+l.charAt(1):l.substring(2,4),m=s?l.charAt(2)+l.charAt(2):l.substring(4,6),b=h?s?l.charAt(3)+l.charAt(3):l.substring(6,8):"FF";return[parseInt(g,16),parseInt(d,16),parseInt(m,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},i.Color.fromSource=function(a){var l=new u;return l.setSource(a),l}}(e),function(o){var i=o.fabric||(o.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],a={},l="left",s="top",h="right",g="bottom",d="center",m={top:g,bottom:s,left:h,right:l,center:d},b=i.util.radiansToDegrees,_=Math.sign||function(N){return(N>0)-(N<0)||+N};function x(N,R){var H=N.angle+b(Math.atan2(R.y,R.x))+360;return Math.round(H%360/45)}function A(N,R){var H=R.transform.target,I=H.canvas,it=i.util.object.clone(R);it.target=H,I&&I.fire("object:"+N,it),H.fire(N,R)}function L(N,R){var H=R.canvas,I=H.uniScaleKey,it=N[I];return H.uniformScaling&&!it||!H.uniformScaling&&it}function E(N){return N.originX===d&&N.originY===d}function F(N,R,H){var I=N.lockScalingX,it=N.lockScalingY;return!!(I&&it||!R&&(I||it)&&H||I&&R==="x"||it&&R==="y")}function Y(N,R,H){var I="not-allowed",it=L(N,H),at="";if(R.x!==0&&R.y===0?at="x":R.x===0&&R.y!==0&&(at="y"),F(H,at,it))return I;var ut=x(H,R);return u[ut]+"-resize"}function et(N,R,H){var I="not-allowed";if(R.x!==0&&H.lockSkewingY||R.y!==0&&H.lockSkewingX)return I;var it=x(H,R)%4;return f[it]+"-resize"}function j(N,R,H){return N[H.canvas.altActionKey]?a.skewCursorStyleHandler(N,R,H):a.scaleCursorStyleHandler(N,R,H)}function M(N,R,H){var I=N[H.canvas.altActionKey];if(R.x===0)return I?"skewX":"scaleY";if(R.y===0)return I?"skewY":"scaleX"}function tt(N,R,H){return H.lockRotation?"not-allowed":R.cursorStyle}function Z(N,R,H,I){return{e:N,transform:R,pointer:{x:H,y:I}}}function ft(N){return function(R,H,I,it){var at=H.target,ut=at.getCenterPoint(),vt=at.translateToOriginPoint(ut,H.originX,H.originY),gt=N(R,H,I,it);return at.setPositionByOrigin(vt,H.originX,H.originY),gt}}function ht(N,R){return function(H,I,it,at){var ut=R(H,I,it,at);return ut&&A(N,Z(H,I,it,at)),ut}}function pt(N,R,H,I,it){var at=N.target,ut=at.controls[N.corner],vt=at.canvas.getZoom(),gt=at.padding/vt,rt=at.toLocalPoint(new i.Point(I,it),R,H);return rt.x>=gt&&(rt.x-=gt),rt.x<=-gt&&(rt.x+=gt),rt.y>=gt&&(rt.y-=gt),rt.y<=gt&&(rt.y+=gt),rt.x-=ut.offsetX,rt.y-=ut.offsetY,rt}function ct(N){return N.flipX!==N.flipY}function D(N,R,H,I,it){if(N[R]!==0){var at=N._getTransformedDimensions()[I],ut=it/at*N[H];N.set(H,ut)}}function $(N,R,H,I){var it=R.target,at=it._getTransformedDimensions(0,it.skewY),ut=pt(R,R.originX,R.originY,H,I),vt=Math.abs(ut.x*2)-at.x,gt=it.skewX,rt;vt<2?rt=0:(rt=b(Math.atan2(vt/it.scaleX,at.y/it.scaleY)),R.originX===l&&R.originY===g&&(rt=-rt),R.originX===h&&R.originY===s&&(rt=-rt),ct(it)&&(rt=-rt));var Ct=gt!==rt;if(Ct){var Ot=it._getTransformedDimensions().y;it.set("skewX",rt),D(it,"skewY","scaleY","y",Ot)}return Ct}function nt(N,R,H,I){var it=R.target,at=it._getTransformedDimensions(it.skewX,0),ut=pt(R,R.originX,R.originY,H,I),vt=Math.abs(ut.y*2)-at.y,gt=it.skewY,rt;vt<2?rt=0:(rt=b(Math.atan2(vt/it.scaleY,at.x/it.scaleX)),R.originX===l&&R.originY===g&&(rt=-rt),R.originX===h&&R.originY===s&&(rt=-rt),ct(it)&&(rt=-rt));var Ct=gt!==rt;if(Ct){var Ot=it._getTransformedDimensions().x;it.set("skewY",rt),D(it,"skewX","scaleX","x",Ot)}return Ct}function T(N,R,H,I){var it=R.target,at=it.skewX,ut,vt=R.originY;if(it.lockSkewingX)return!1;if(at===0){var gt=pt(R,d,d,H,I);gt.x>0?ut=l:ut=h}else at>0&&(ut=vt===s?l:h),at<0&&(ut=vt===s?h:l),ct(it)&&(ut=ut===l?h:l);R.originX=ut;var rt=ht("skewing",ft($));return rt(N,R,H,I)}function q(N,R,H,I){var it=R.target,at=it.skewY,ut,vt=R.originX;if(it.lockSkewingY)return!1;if(at===0){var gt=pt(R,d,d,H,I);gt.y>0?ut=s:ut=g}else at>0&&(ut=vt===l?s:g),at<0&&(ut=vt===l?g:s),ct(it)&&(ut=ut===s?g:s);R.originY=ut;var rt=ht("skewing",ft(nt));return rt(N,R,H,I)}function k(N,R,H,I){var it=R,at=it.target,ut=at.translateToOriginPoint(at.getCenterPoint(),it.originX,it.originY);if(at.lockRotation)return!1;var vt=Math.atan2(it.ey-ut.y,it.ex-ut.x),gt=Math.atan2(I-ut.y,H-ut.x),rt=b(gt-vt+it.theta),Ct=!0;if(at.snapAngle>0){var Ot=at.snapAngle,Et=at.snapThreshold||Ot,Mt=Math.ceil(rt/Ot)*Ot,Bt=Math.floor(rt/Ot)*Ot;Math.abs(rt-Bt)<Et?rt=Bt:Math.abs(rt-Mt)<Et&&(rt=Mt)}return rt<0&&(rt=360+rt),rt%=360,Ct=at.angle!==rt,at.angle=rt,Ct}function O(N,R,H,I,it){it=it||{};var at=R.target,ut=at.lockScalingX,vt=at.lockScalingY,gt=it.by,rt,Ct,Ot,Et,Mt=L(N,at),Bt=F(at,gt,Mt),Vt,Ut,Kt=R.gestureScale;if(Bt)return!1;if(Kt)Ct=R.scaleX*Kt,Ot=R.scaleY*Kt;else{if(rt=pt(R,R.originX,R.originY,H,I),Vt=gt!=="y"?_(rt.x):1,Ut=gt!=="x"?_(rt.y):1,R.signX||(R.signX=Vt),R.signY||(R.signY=Ut),at.lockScalingFlip&&(R.signX!==Vt||R.signY!==Ut))return!1;if(Et=at._getTransformedDimensions(),Mt&&!gt){var zt=Math.abs(rt.x)+Math.abs(rt.y),ve=R.original,se=Math.abs(Et.x*ve.scaleX/at.scaleX)+Math.abs(Et.y*ve.scaleY/at.scaleY),rn=zt/se;Ct=ve.scaleX*rn,Ot=ve.scaleY*rn}else Ct=Math.abs(rt.x*at.scaleX/Et.x),Ot=Math.abs(rt.y*at.scaleY/Et.y);E(R)&&(Ct*=2,Ot*=2),R.signX!==Vt&&gt!=="y"&&(R.originX=m[R.originX],Ct*=-1,R.signX=Vt),R.signY!==Ut&&gt!=="x"&&(R.originY=m[R.originY],Ot*=-1,R.signY=Ut)}var Se=at.scaleX,me=at.scaleY;return gt?(gt==="x"&&at.set("scaleX",Ct),gt==="y"&&at.set("scaleY",Ot)):(!ut&&at.set("scaleX",Ct),!vt&&at.set("scaleY",Ot)),Se!==at.scaleX||me!==at.scaleY}function W(N,R,H,I){return O(N,R,H,I)}function B(N,R,H,I){return O(N,R,H,I,{by:"x"})}function J(N,R,H,I){return O(N,R,H,I,{by:"y"})}function G(N,R,H,I){return N[R.target.canvas.altActionKey]?a.skewHandlerX(N,R,H,I):a.scalingY(N,R,H,I)}function lt(N,R,H,I){return N[R.target.canvas.altActionKey]?a.skewHandlerY(N,R,H,I):a.scalingX(N,R,H,I)}function dt(N,R,H,I){var it=R.target,at=pt(R,R.originX,R.originY,H,I),ut=it.strokeWidth/(it.strokeUniform?it.scaleX:1),vt=E(R)?2:1,gt=it.width,rt=Math.abs(at.x*vt/it.scaleX)-ut;return it.set("width",Math.max(rt,0)),gt!==rt}function xt(N,R,H,I){var it=R.target,at=H-R.offsetX,ut=I-R.offsetY,vt=!it.get("lockMovementX")&&it.left!==at,gt=!it.get("lockMovementY")&&it.top!==ut;return vt&&it.set("left",at),gt&&it.set("top",ut),(vt||gt)&&A("moving",Z(N,R,H,I)),vt||gt}a.scaleCursorStyleHandler=Y,a.skewCursorStyleHandler=et,a.scaleSkewCursorStyleHandler=j,a.rotationWithSnapping=ht("rotating",ft(k)),a.scalingEqually=ht("scaling",ft(W)),a.scalingX=ht("scaling",ft(B)),a.scalingY=ht("scaling",ft(J)),a.scalingYOrSkewingX=G,a.scalingXOrSkewingY=lt,a.changeWidth=ht("resizing",ft(dt)),a.skewHandlerX=T,a.skewHandlerY=q,a.dragHandler=xt,a.scaleOrSkewActionName=M,a.rotationStyleHandler=tt,a.fireEvent=A,a.wrapWithFixedAnchor=ft,a.wrapWithFireEvent=ht,a.getLocalPoint=pt,i.controlsUtils=a}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.degreesToRadians,f=i.controlsUtils;function a(s,h,g,d,m){d=d||{};var b=this.sizeX||d.cornerSize||m.cornerSize,_=this.sizeY||d.cornerSize||m.cornerSize,x=typeof d.transparentCorners<"u"?d.transparentCorners:m.transparentCorners,A=x?"stroke":"fill",L=!x&&(d.cornerStrokeColor||m.cornerStrokeColor),E=h,F=g,Y;s.save(),s.fillStyle=d.cornerColor||m.cornerColor,s.strokeStyle=d.cornerStrokeColor||m.cornerStrokeColor,b>_?(Y=b,s.scale(1,_/b),F=g*b/_):_>b?(Y=_,s.scale(b/_,1),E=h*_/b):Y=b,s.lineWidth=1,s.beginPath(),s.arc(E,F,Y/2,0,2*Math.PI,!1),s[A](),L&&s.stroke(),s.restore()}function l(s,h,g,d,m){d=d||{};var b=this.sizeX||d.cornerSize||m.cornerSize,_=this.sizeY||d.cornerSize||m.cornerSize,x=typeof d.transparentCorners<"u"?d.transparentCorners:m.transparentCorners,A=x?"stroke":"fill",L=!x&&(d.cornerStrokeColor||m.cornerStrokeColor),E=b/2,F=_/2;s.save(),s.fillStyle=d.cornerColor||m.cornerColor,s.strokeStyle=d.cornerStrokeColor||m.cornerStrokeColor,s.lineWidth=1,s.translate(h,g),s.rotate(u(m.angle)),s[A+"Rect"](-E,-F,b,_),L&&s.strokeRect(-E,-F,b,_),s.restore()}f.renderCircleControl=a,f.renderSquareControl=l}(e),function(o){var i=o.fabric||(o.fabric={});function u(f){for(var a in f)this[a]=f[a]}i.Control=u,i.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,a){return a.cursorStyle},getActionName:function(f,a){return a.actionName},getVisibility:function(f,a){var l=f._controlsVisibility;return l&&typeof l[a]<"u"?l[a]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,a){var l=i.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},a);return l},calcCornerCoords:function(f,a,l,s,h){var g,d,m,b,_=h?this.touchSizeX:this.sizeX,x=h?this.touchSizeY:this.sizeY;if(_&&x&&_!==x){var A=Math.atan2(x,_),L=Math.sqrt(_*_+x*x)/2,E=A-i.util.degreesToRadians(f),F=Math.PI/2-A-i.util.degreesToRadians(f);g=L*i.util.cos(E),d=L*i.util.sin(E),m=L*i.util.cos(F),b=L*i.util.sin(F)}else{var Y=_&&x?_:a;L=Y*.7071067812;var E=i.util.degreesToRadians(45-f);g=m=L*i.util.cos(E),d=b=L*i.util.sin(E)}return{tl:{x:l-b,y:s-m},tr:{x:l+g,y:s-d},bl:{x:l-g,y:s+d},br:{x:l+b,y:s+m}}},render:function(f,a,l,s,h){switch(s=s||{},s.cornerStyle||h.cornerStyle){case"circle":i.controlsUtils.renderCircleControl.call(this,f,a,l,s,h);break;default:i.controlsUtils.renderSquareControl.call(this,f,a,l,s,h)}}}}(e),function(){function o(l,s){var h=l.getAttribute("style"),g=l.getAttribute("offset")||0,d,m,b,_;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,h){var x=h.split(/\s*;\s*/);for(x[x.length-1]===""&&x.pop(),_=x.length;_--;){var A=x[_].split(/\s*:\s*/),L=A[0].trim(),E=A[1].trim();L==="stop-color"?d=E:L==="stop-opacity"&&(b=E)}}return d||(d=l.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=l.getAttribute("stop-opacity")),d=new t.Color(d),m=d.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=m*s,{offset:g,color:d.toRgb(),opacity:b}}function i(l){return{x1:l.getAttribute("x1")||0,y1:l.getAttribute("y1")||0,x2:l.getAttribute("x2")||"100%",y2:l.getAttribute("y2")||0}}function u(l){return{x1:l.getAttribute("fx")||l.getAttribute("cx")||"50%",y1:l.getAttribute("fy")||l.getAttribute("cy")||"50%",r1:0,x2:l.getAttribute("cx")||"50%",y2:l.getAttribute("cy")||"50%",r2:l.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(l){l||(l={}),l.coords||(l.coords={});var s,h=this;Object.keys(l).forEach(function(g){h[g]=l[g]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,s={x1:l.coords.x1||0,y1:l.coords.y1||0,x2:l.coords.x2||0,y2:l.coords.y2||0},this.type==="radial"&&(s.r1=l.coords.r1||0,s.r2=l.coords.r2||0),this.coords=s,this.colorStops=l.colorStops.slice()},addColorStop:function(l){for(var s in l){var h=new t.Color(l[s]);this.colorStops.push({offset:parseFloat(s),color:h.toRgb(),opacity:h.getAlpha()})}return this},toObject:function(l){var s={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,s,l),s},toSVG:function(l,m){var h=f(this.coords,!0),g,d,m=m||{},b,_,x=f(this.colorStops,!0),A=h.r1>h.r2,L=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),E=-this.offsetX,F=-this.offsetY,Y=!!m.additionalTransform,et=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(x.sort(function(ft,ht){return ft.offset-ht.offset}),et==="objectBoundingBox"?(E/=l.width,F/=l.height):(E+=l.width/2,F+=l.height/2),l.type==="path"&&this.gradientUnits!=="percentage"&&(E-=l.pathOffset.x,F-=l.pathOffset.y),L[4]-=E,L[5]-=F,_='id="SVGID_'+this.id+'" gradientUnits="'+et+'"',_+=' gradientTransform="'+(Y?m.additionalTransform+" ":"")+t.util.matrixToSVG(L)+'" ',this.type==="linear"?b=["<linearGradient ",_,' x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",_,' cx="',A?h.x1:h.x2,'" cy="',A?h.y1:h.y2,'" r="',A?h.r1:h.r2,'" fx="',A?h.x2:h.x1,'" fy="',A?h.y2:h.y1,`">
`]),this.type==="radial"){if(A)for(x=x.concat(),x.reverse(),g=0,d=x.length;g<d;g++)x[g].offset=1-x[g].offset;var j=Math.min(h.r1,h.r2);if(j>0){var M=Math.max(h.r1,h.r2),tt=j/M;for(g=0,d=x.length;g<d;g++)x[g].offset+=tt*(1-x[g].offset)}}for(g=0,d=x.length;g<d;g++){var Z=x[g];b.push("<stop ",'offset="',Z.offset*100+"%",'" style="stop-color:',Z.color,typeof Z.opacity<"u"?";stop-opacity: "+Z.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(l){var s,h=t.util.object.clone(this.coords),g,d;if(!!this.type){for(this.type==="linear"?s=l.createLinearGradient(h.x1,h.y1,h.x2,h.y2):this.type==="radial"&&(s=l.createRadialGradient(h.x1,h.y1,h.r1,h.x2,h.y2,h.r2)),g=0,d=this.colorStops.length;g<d;g++){var m=this.colorStops[g].color,b=this.colorStops[g].opacity,_=this.colorStops[g].offset;typeof b<"u"&&(m=new t.Color(m).setAlpha(b).toRgba()),s.addColorStop(_,m)}return s}}}),t.util.object.extend(t.Gradient,{fromElement:function(l,s,h,g){var d=parseFloat(h)/(/%$/.test(h)?100:1);d=d<0?0:d>1?1:d,isNaN(d)&&(d=1);var m=l.getElementsByTagName("stop"),b,_=l.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",x=l.getAttribute("gradientTransform")||"",A=[],L,E,F=0,Y=0,et;for(l.nodeName==="linearGradient"||l.nodeName==="LINEARGRADIENT"?(b="linear",L=i(l)):(b="radial",L=u(l)),E=m.length;E--;)A.push(o(m[E],d));et=t.parseTransformAttribute(x),a(s,L,g,_),_==="pixels"&&(F=-s.left,Y=-s.top);var j=new t.Gradient({id:l.getAttribute("id"),type:b,coords:L,colorStops:A,gradientUnits:_,gradientTransform:et,offsetX:F,offsetY:Y});return j}});function a(l,s,h,g){var d,m;Object.keys(s).forEach(function(b){d=s[b],d==="Infinity"?m=1:d==="-Infinity"?m=0:(m=parseFloat(s[b],10),typeof d=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(d)&&(m*=.01,g==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(m*=h.viewBoxWidth||h.width),(b==="y1"||b==="y2")&&(m*=h.viewBoxHeight||h.height)))),s[b]=m})}}(),function(){var o=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(i,u){if(i||(i={}),this.id=t.Object.__uid++,this.setOptions(i),!i.source||i.source&&typeof i.source!="string"){u&&u(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(i.source,function(a,l){f.source=a,u&&u(f,l)},null,this.crossOrigin)}},toObject:function(i){var u=t.Object.NUM_FRACTION_DIGITS,f,a;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),a={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:o(this.offsetX,u),offsetY:o(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,a,i),a},toSVG:function(i){var u=typeof this.source=="function"?this.source():this.source,f=u.width/i.width,a=u.height/i.height,l=this.offsetX/i.width,s=this.offsetY/i.height,h="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(a=1,s&&(a+=Math.abs(s))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,l&&(f+=Math.abs(l))),u.src?h=u.src:u.toDataURL&&(h=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+l+'" y="'+s+'" width="'+f+'" height="'+a+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+h+`"></image>
</pattern>
`},setOptions:function(i){for(var u in i)this[u]=i[u]},toLive:function(i){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":i.createPattern(u,this.repeat)}})}(),function(o){var i=o.fabric||(o.fabric={}),u=i.util.toFixed;if(i.Shadow){i.warn("fabric.Shadow is already defined.");return}i.Shadow=i.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var a in f)this[a]=f[a];this.id=i.Object.__uid++},_parseShadow:function(f){var a=f.trim(),l=i.Shadow.reOffsetsAndBlur.exec(a)||[],s=a.replace(i.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:s.trim(),offsetX:parseFloat(l[1],10)||0,offsetY:parseFloat(l[2],10)||0,blur:parseFloat(l[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var a=40,l=40,s=i.Object.NUM_FRACTION_DIGITS,h=i.util.rotateVector({x:this.offsetX,y:this.offsetY},i.util.degreesToRadians(-f.angle)),g=20,d=new i.Color(this.color);return f.width&&f.height&&(a=u((Math.abs(h.x)+this.blur)/f.width,s)*100+g,l=u((Math.abs(h.y)+this.blur)/f.height,s)*100+g),f.flipX&&(h.x*=-1),f.flipY&&(h.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+l+'%" height="'+(100+2*l)+'%" x="-'+a+'%" width="'+(100+2*a)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,s)+`"></feGaussianBlur>
	<feOffset dx="`+u(h.x,s)+'" dy="'+u(h.y,s)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+d.toRgb()+'" flood-opacity="'+d.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},a=i.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(l){this[l]!==a[l]&&(f[l]=this[l])},this),f}}),i.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var o=t.util.object.extend,i=t.util.getElementOffset,u=t.util.removeFromArray,f=t.util.toFixed,a=t.util.transformPoint,l=t.util.invertTransform,s=t.util.getNodeCanvas,h=t.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(d,m){m||(m={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(d,m)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(d,m){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(d),this._initOptions(m),this.interactive||this._initRetinaScaling(),m.overlayImage&&this.setOverlayImage(m.overlayImage,b),m.backgroundImage&&this.setBackgroundImage(m.backgroundImage,b),m.backgroundColor&&this.setBackgroundColor(m.backgroundColor,b),m.overlayColor&&this.setOverlayColor(m.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var d=t.devicePixelRatio;this.__initRetinaScaling(d,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(d,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(d,m,b){m.setAttribute("width",this.width*d),m.setAttribute("height",this.height*d),b.scale(d,d)},calcOffset:function(){return this._offset=i(this.lowerCanvasEl),this},setOverlayImage:function(d,m,b){return this.__setBgOverlayImage("overlayImage",d,m,b)},setBackgroundImage:function(d,m,b){return this.__setBgOverlayImage("backgroundImage",d,m,b)},setOverlayColor:function(d,m){return this.__setBgOverlayColor("overlayColor",d,m)},setBackgroundColor:function(d,m){return this.__setBgOverlayColor("backgroundColor",d,m)},__setBgOverlayImage:function(d,m,b,_){return typeof m=="string"?t.util.loadImage(m,function(x,A){if(x){var L=new t.Image(x,_);this[d]=L,L.canvas=this}b&&b(x,A)},this,_&&_.crossOrigin):(_&&m.setOptions(_),this[d]=m,m&&(m.canvas=this),b&&b(m,!1)),this},__setBgOverlayColor:function(d,m,b){return this[d]=m,this._initGradient(m,d),this._initPattern(m,d,b),this},_createCanvasElement:function(){var d=h();if(!d||(d.style||(d.style={}),typeof d.getContext>"u"))throw g;return d},_initOptions:function(d){var m=this.lowerCanvasEl;this._setOptions(d),this.width=this.width||parseInt(m.width,10)||0,this.height=this.height||parseInt(m.height,10)||0,this.lowerCanvasEl.style&&(m.width=this.width,m.height=this.height,m.style.width=this.width+"px",m.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(d){d&&d.getContext?this.lowerCanvasEl=d:this.lowerCanvasEl=t.util.getById(d)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(d,m){return this.setDimensions({width:d},m)},setHeight:function(d,m){return this.setDimensions({height:d},m)},setDimensions:function(d,m){var b;m=m||{};for(var _ in d)b=d[_],m.cssOnly||(this._setBackstoreDimension(_,d[_]),b+="px",this.hasLostContext=!0),m.backstoreOnly||this._setCssDimension(_,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),m.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(d,m){return this.lowerCanvasEl[d]=m,this.upperCanvasEl&&(this.upperCanvasEl[d]=m),this.cacheCanvasEl&&(this.cacheCanvasEl[d]=m),this[d]=m,this},_setCssDimension:function(d,m){return this.lowerCanvasEl.style[d]=m,this.upperCanvasEl&&(this.upperCanvasEl.style[d]=m),this.wrapperEl&&(this.wrapperEl.style[d]=m),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(d){var m=this._activeObject,b=this.backgroundImage,_=this.overlayImage,x,A,L;for(this.viewportTransform=d,A=0,L=this._objects.length;A<L;A++)x=this._objects[A],x.group||x.setCoords(!0);return m&&m.setCoords(),b&&b.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(d,m){var b=d,_=this.viewportTransform.slice(0);d=a(d,l(this.viewportTransform)),_[0]=m,_[3]=m;var x=a(d,_);return _[4]+=b.x-x.x,_[5]+=b.y-x.y,this.setViewportTransform(_)},setZoom:function(d){return this.zoomToPoint(new t.Point(0,0),d),this},absolutePan:function(d){var m=this.viewportTransform.slice(0);return m[4]=-d.x,m[5]=-d.y,this.setViewportTransform(m)},relativePan:function(d){return this.absolutePan(new t.Point(-d.x-this.viewportTransform[4],-d.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(d){this.stateful&&d.setupState(),d._set("canvas",this),d.setCoords(),this.fire("object:added",{target:d}),d.fire("added")},_onObjectRemoved:function(d){this.fire("object:removed",{target:d}),d.fire("removed"),delete d.canvas},clearContext:function(d){return d.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var d=this.contextContainer;return this.renderCanvas(d,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var d={},m=this.width,b=this.height,_=l(this.viewportTransform);return d.tl=a({x:0,y:0},_),d.br=a({x:m,y:b},_),d.tr=new t.Point(d.br.x,d.tl.y),d.bl=new t.Point(d.tl.x,d.br.y),this.vptCoords=d,d},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(d,m){var b=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(d),t.util.setImageSmoothing(d,this.imageSmoothingEnabled),this.fire("before:render",{ctx:d}),this._renderBackground(d),d.save(),d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(d,m),d.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(d)),this._renderOverlay(d),this.controlsAboveOverlay&&this.interactive&&this.drawControls(d),this.fire("after:render",{ctx:d})},drawClipPathOnCanvas:function(d){var m=this.viewportTransform,b=this.clipPath;d.save(),d.transform(m[0],m[1],m[2],m[3],m[4],m[5]),d.globalCompositeOperation="destination-in",b.transform(d),d.scale(1/b.zoomX,1/b.zoomY),d.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),d.restore()},_renderObjects:function(d,m){var b,_;for(b=0,_=m.length;b<_;++b)m[b]&&m[b].render(d)},_renderBackgroundOrOverlay:function(d,m){var b=this[m+"Color"],_=this[m+"Image"],x=this.viewportTransform,A=this[m+"Vpt"];if(!(!b&&!_)){if(b){d.save(),d.beginPath(),d.moveTo(0,0),d.lineTo(this.width,0),d.lineTo(this.width,this.height),d.lineTo(0,this.height),d.closePath(),d.fillStyle=b.toLive?b.toLive(d,this):b,A&&d.transform(x[0],x[1],x[2],x[3],x[4],x[5]),d.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var L=b.gradientTransform||b.patternTransform;L&&d.transform(L[0],L[1],L[2],L[3],L[4],L[5]),d.fill(),d.restore()}if(_){d.save();var E=this.skipOffscreen;this.skipOffscreen=A,A&&d.transform(x[0],x[1],x[2],x[3],x[4],x[5]),_.render(d),this.skipOffscreen=E,d.restore()}}},_renderBackground:function(d){this._renderBackgroundOrOverlay(d,"background")},_renderOverlay:function(d){this._renderBackgroundOrOverlay(d,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(d){return this._centerObject(d,new t.Point(this.getCenterPoint().x,d.getCenterPoint().y))},centerObjectV:function(d){return this._centerObject(d,new t.Point(d.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(d){var m=this.getCenterPoint();return this._centerObject(d,m)},viewportCenterObject:function(d){var m=this.getVpCenter();return this._centerObject(d,m)},viewportCenterObjectH:function(d){var m=this.getVpCenter();return this._centerObject(d,new t.Point(m.x,d.getCenterPoint().y)),this},viewportCenterObjectV:function(d){var m=this.getVpCenter();return this._centerObject(d,new t.Point(d.getCenterPoint().x,m.y))},getVpCenter:function(){var d=this.getCenterPoint(),m=l(this.viewportTransform);return a(d,m)},_centerObject:function(d,m){return d.setPositionByOrigin(m,"center","center"),d.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(d){return this.toDatalessObject(d)},toObject:function(d){return this._toObjectMethod("toObject",d)},toDatalessObject:function(d){return this._toObjectMethod("toDatalessObject",d)},_toObjectMethod:function(d,m){var b=this.clipPath,_={version:t.version,objects:this._toObjects(d,m)};return b&&!b.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,d,m)),o(_,this.__serializeBgOverlay(d,m)),t.util.populateWithProperties(this,_,m),_},_toObjects:function(d,m){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,d,m)},this)},_toObject:function(d,m,b){var _;this.includeDefaultValues||(_=d.includeDefaultValues,d.includeDefaultValues=!1);var x=d[m](b);return this.includeDefaultValues||(d.includeDefaultValues=_),x},__serializeBgOverlay:function(d,m){var b={},_=this.backgroundImage,x=this.overlayImage,A=this.backgroundColor,L=this.overlayColor;return A&&A.toObject?A.excludeFromExport||(b.background=A.toObject(m)):A&&(b.background=A),L&&L.toObject?L.excludeFromExport||(b.overlay=L.toObject(m)):L&&(b.overlay=L),_&&!_.excludeFromExport&&(b.backgroundImage=this._toObject(_,d,m)),x&&!x.excludeFromExport&&(b.overlayImage=this._toObject(x,d,m)),b},svgViewportTransformation:!0,toSVG:function(d,m){d||(d={}),d.reviver=m;var b=[];return this._setSVGPreamble(b,d),this._setSVGHeader(b,d),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",m),this._setSVGObjects(b,m),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",m),b.push("</svg>"),b.join("")},_setSVGPreamble:function(d,m){m.suppressPreamble||d.push('<?xml version="1.0" encoding="',m.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(d,m){var b=m.width||this.width,_=m.height||this.height,x,A='viewBox="0 0 '+this.width+" "+this.height+'" ',L=t.Object.NUM_FRACTION_DIGITS;m.viewBox?A='viewBox="'+m.viewBox.x+" "+m.viewBox.y+" "+m.viewBox.width+" "+m.viewBox.height+'" ':this.svgViewportTransformation&&(x=this.viewportTransform,A='viewBox="'+f(-x[4]/x[0],L)+" "+f(-x[5]/x[3],L)+" "+f(this.width/x[0],L)+" "+f(this.height/x[3],L)+'" '),d.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',_,'" ',A,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(m),`</defs>
`)},createSVGClipPathMarkup:function(d){var m=this.clipPath;return m?(m.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+m.clipPathId+`" >
`+this.clipPath.toClipPathSVG(d.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var d=this,m=["background","overlay"].map(function(b){var _=d[b+"Color"];if(_&&_.toLive){var x=d[b+"Vpt"],A=d.viewportTransform,L={width:d.width/(x?A[0]:1),height:d.height/(x?A[3]:1)};return _.toSVG(L,{additionalTransform:x?t.util.matrixToSVG(A):""})}});return m.join("")},createSVGFontFacesMarkup:function(){var d="",m={},b,_,x,A,L,E,F,Y,et,j=t.fontPaths,M=[];for(this._objects.forEach(function Z(ft){M.push(ft),ft._objects&&ft._objects.forEach(Z)}),Y=0,et=M.length;Y<et;Y++)if(b=M[Y],_=b.fontFamily,!(b.type.indexOf("text")===-1||m[_]||!j[_])&&(m[_]=!0,!!b.styles)){x=b.styles;for(L in x){A=x[L];for(F in A)E=A[F],_=E.fontFamily,!m[_]&&j[_]&&(m[_]=!0)}}for(var tt in m)d+=[`		@font-face {
`,"			font-family: '",tt,`';
`,"			src: url('",j[tt],`');
`,`		}
`].join("");return d&&(d=['	<style type="text/css">',`<![CDATA[
`,d,"]]>",`</style>
`].join("")),d},_setSVGObjects:function(d,m){var b,_,x,A=this._objects;for(_=0,x=A.length;_<x;_++)b=A[_],!b.excludeFromExport&&this._setSVGObject(d,b,m)},_setSVGObject:function(d,m,b){d.push(m.toSVG(b))},_setSVGBgOverlayImage:function(d,m,b){this[m]&&!this[m].excludeFromExport&&this[m].toSVG&&d.push(this[m].toSVG(b))},_setSVGBgOverlayColor:function(d,m){var b=this[m+"Color"],_=this.viewportTransform,x=this.width,A=this.height;if(!!b)if(b.toLive){var L=b.repeat,E=t.util.invertTransform(_),F=this[m+"Vpt"],Y=F?t.util.matrixToSVG(E):"";d.push('<rect transform="'+Y+" translate(",x/2,",",A/2,')"',' x="',b.offsetX-x/2,'" y="',b.offsetY-A/2,'" ','width="',L==="repeat-y"||L==="no-repeat"?b.source.width:x,'" height="',L==="repeat-x"||L==="no-repeat"?b.source.height:A,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else d.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(d){if(!d)return this;var m=this._activeObject,b,_,x;if(d===m&&d.type==="activeSelection")for(x=m._objects,b=x.length;b--;)_=x[b],u(this._objects,_),this._objects.unshift(_);else u(this._objects,d),this._objects.unshift(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(d){if(!d)return this;var m=this._activeObject,b,_,x;if(d===m&&d.type==="activeSelection")for(x=m._objects,b=0;b<x.length;b++)_=x[b],u(this._objects,_),this._objects.push(_);else u(this._objects,d),this._objects.push(d);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(d,m){if(!d)return this;var b=this._activeObject,_,x,A,L,E,F=0;if(d===b&&d.type==="activeSelection")for(E=b._objects,_=0;_<E.length;_++)x=E[_],A=this._objects.indexOf(x),A>0+F&&(L=A-1,u(this._objects,x),this._objects.splice(L,0,x)),F++;else A=this._objects.indexOf(d),A!==0&&(L=this._findNewLowerIndex(d,A,m),u(this._objects,d),this._objects.splice(L,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(d,m,b){var _,x;if(b)for(_=m,x=m-1;x>=0;--x){var A=d.intersectsWithObject(this._objects[x])||d.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(d);if(A){_=x;break}}else _=m-1;return _},bringForward:function(d,m){if(!d)return this;var b=this._activeObject,_,x,A,L,E,F=0;if(d===b&&d.type==="activeSelection")for(E=b._objects,_=E.length;_--;)x=E[_],A=this._objects.indexOf(x),A<this._objects.length-1-F&&(L=A+1,u(this._objects,x),this._objects.splice(L,0,x)),F++;else A=this._objects.indexOf(d),A!==this._objects.length-1&&(L=this._findNewUpperIndex(d,A,m),u(this._objects,d),this._objects.splice(L,0,d));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(d,m,b){var _,x,A;if(b)for(_=m,x=m+1,A=this._objects.length;x<A;++x){var L=d.intersectsWithObject(this._objects[x])||d.isContainedWithinObject(this._objects[x])||this._objects[x].isContainedWithinObject(d);if(L){_=x;break}}else _=m+1;return _},moveTo:function(d,m){return u(this._objects,d),this._objects.splice(m,0,d),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(d){d.dispose&&d.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),o(t.StaticCanvas.prototype,t.Observable),o(t.StaticCanvas.prototype,t.Collection),o(t.StaticCanvas.prototype,t.DataURLExporter),o(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(d){var m=h();if(!m||!m.getContext)return null;var b=m.getContext("2d");if(!b)return null;switch(d){case"setLineDash":return typeof b.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var d=s(this.lowerCanvasEl);return d&&d.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(d){var m=s(this.lowerCanvasEl);return m&&m.createJPEGStream(d)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(o){o.strokeStyle=this.color,o.lineWidth=this.width,o.lineCap=this.strokeLineCap,o.miterLimit=this.strokeMiterLimit,o.lineJoin=this.strokeLineJoin,o.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(o){var i=this.canvas.viewportTransform;o.save(),o.transform(i[0],i[1],i[2],i[3],i[4],i[5])},_setShadow:function(){if(!!this.shadow){var o=this.canvas,i=this.shadow,u=o.contextTop,f=o.getZoom();o&&o._isRetinaScaling()&&(f*=t.devicePixelRatio),u.shadowColor=i.color,u.shadowBlur=i.blur*f,u.shadowOffsetX=i.offsetX*f,u.shadowOffsetY=i.offsetY*f}},needsFullRender:function(){var o=new t.Color(this.color);return o.getAlpha()<1||!!this.shadow},_resetShadow:function(){var o=this.canvas.contextTop;o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0},_isOutSideCanvas:function(o){return o.x<0||o.x>this.canvas.getWidth()||o.y<0||o.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(o){this.canvas=o,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(o,i,u){var f=i.midPointFrom(u);return o.quadraticCurveTo(i.x,i.y,f.x,f.y),f},onMouseDown:function(o,i){!this.canvas._isMainEvent(i.e)||(this.drawStraightLine=i.e[this.straightLineKey],this._prepareForDrawing(o),this._captureDrawingPath(o),this._render())},onMouseMove:function(o,i){if(!!this.canvas._isMainEvent(i.e)&&(this.drawStraightLine=i.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o))&&this._captureDrawingPath(o)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,f=u.length,a=this.canvas.contextTop;this._saveAndTransform(a),this.oldEnd&&(a.beginPath(),a.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(a,u[f-2],u[f-1],!0),a.stroke(),a.restore()}},onMouseUp:function(o){return this.canvas._isMainEvent(o.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(o){var i=new t.Point(o.x,o.y);this._reset(),this._addPoint(i),this.canvas.contextTop.moveTo(i.x,i.y)},_addPoint:function(o){return this._points.length>1&&o.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(o),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(o){var i=new t.Point(o.x,o.y);return this._addPoint(i)},_render:function(o){var i,u,f=this._points[0],a=this._points[1];if(o=o||this.canvas.contextTop,this._saveAndTransform(o),o.beginPath(),this._points.length===2&&f.x===a.x&&f.y===a.y){var l=this.width/1e3;f=new t.Point(f.x,f.y),a=new t.Point(a.x,a.y),f.x-=l,a.x+=l}for(o.moveTo(f.x,f.y),i=1,u=this._points.length;i<u;i++)this._drawSegment(o,f,a),f=this._points[i],a=this._points[i+1];o.lineTo(f.x,f.y),o.stroke(),o.restore()},convertPointsToSVGPath:function(o){var i=this.width/1e3;return t.util.getSmoothPathFromPoints(o,i)},_isEmptySVGPath:function(o){var i=t.util.joinPath(o);return i==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(o){var i=new t.Path(o,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,i.shadow=new t.Shadow(this.shadow)),i},decimatePoints:function(o,i){if(o.length<=2)return o;var u=this.canvas.getZoom(),f=Math.pow(i/u,2),a,l=o.length-1,s=o[0],h=[s],g;for(a=1;a<l-1;a++)g=Math.pow(s.x-o[a].x,2)+Math.pow(s.y-o[a].y,2),g>=f&&(s=o[a],h.push(s));return h.push(o[l]),h},_finalizeAndAddPath:function(){var o=this.canvas.contextTop;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var i=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(i)){this.canvas.requestRenderAll();return}var u=this.createPath(i);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(o){this.canvas=o,this.points=[]},drawDot:function(o){var i=this.addPoint(o),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,i),u.restore()},dot:function(o,i){o.fillStyle=i.fill,o.beginPath(),o.arc(i.x,i.y,i.radius,0,Math.PI*2,!1),o.closePath(),o.fill()},onMouseDown:function(o){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(o)},_render:function(){var o=this.canvas.contextTop,i,u,f=this.points;for(this._saveAndTransform(o),i=0,u=f.length;i<u;i++)this.dot(o,f[i]);o.restore()},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(o),this._render()):this.drawDot(o))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove,i,u;this.canvas.renderOnAddRemove=!1;var f=[];for(i=0,u=this.points.length;i<u;i++){var a=this.points[i],l=new t.Circle({radius:a.radius,left:a.x,top:a.y,originX:"center",originY:"center",fill:a.fill});this.shadow&&(l.shadow=new t.Shadow(this.shadow)),f.push(l)}var s=new t.Group(f);s.canvas=this.canvas,this.canvas.fire("before:path:created",{path:s}),this.canvas.add(s),this.canvas.fire("path:created",{path:s}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},addPoint:function(o){var i=new t.Point(o.x,o.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return i.radius=u,i.fill=f,this.points.push(i),i}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(o){this.canvas=o,this.sprayChunks=[]},onMouseDown:function(o){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(o),this.render(this.sprayChunkPoints)},onMouseMove:function(o){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(o)||(this.addSprayChunk(o),this.render(this.sprayChunkPoints))},onMouseUp:function(){var o=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var i=[],u=0,f=this.sprayChunks.length;u<f;u++)for(var a=this.sprayChunks[u],l=0,s=a.length;l<s;l++){var h=new t.Rect({width:a[l].width,height:a[l].width,left:a[l].x+1,top:a[l].y+1,originX:"center",originY:"center",fill:this.color});i.push(h)}this.optimizeOverlapping&&(i=this._getOptimizedRects(i));var g=new t.Group(i);this.shadow&&g.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=o,this.canvas.requestRenderAll()},_getOptimizedRects:function(o){var i={},u,f,a;for(f=0,a=o.length;f<a;f++)u=o[f].left+""+o[f].top,i[u]||(i[u]=o[f]);var l=[];for(u in i)l.push(i[u]);return l},render:function(o){var i=this.canvas.contextTop,u,f;for(i.fillStyle=this.color,this._saveAndTransform(i),u=0,f=o.length;u<f;u++){var a=o[u];typeof a.opacity<"u"&&(i.globalAlpha=a.opacity),i.fillRect(a.x,a.y,a.width,a.width)}i.restore()},_render:function(){var o=this.canvas.contextTop,i,u;for(o.fillStyle=this.color,this._saveAndTransform(o),i=0,u=this.sprayChunks.length;i<u;i++)this.render(this.sprayChunks[i]);o.restore()},addSprayChunk:function(o){this.sprayChunkPoints=[];var i,u,f,a=this.width/2,l;for(l=0;l<this.density;l++){i=t.util.getRandomInt(o.x-a,o.x+a),u=t.util.getRandomInt(o.y-a,o.y+a),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var s=new t.Point(i,u);s.width=f,this.randomOpacity&&(s.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(s)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var o=20,i=5,u=t.util.createCanvasElement(),f=u.getContext("2d");return u.width=u.height=o+i,f.fillStyle=this.color,f.beginPath(),f.arc(o/2,o/2,o/2,0,Math.PI*2,!1),f.closePath(),f.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(o){return o.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle=this.getPattern(o)},createPath:function(o){var i=this.callSuper("createPath",o),u=i._getLeftTopCoords().scalarAdd(i.strokeWidth/2);return i.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),i}}),function(){var o=t.util.getPointer,i=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(a,l){l||(l={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(a,l),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var a=this.getActiveObjects(),l,s,h;if(a.length>0&&!this.preserveObjectStacking){s=[],h=[];for(var g=0,d=this._objects.length;g<d;g++)l=this._objects[g],a.indexOf(l)===-1?s.push(l):h.push(l);a.length>1&&(this._activeObject._objects=h),s.push.apply(s,h)}else s=this._objects;return s},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var a=this.contextContainer;return this.renderCanvas(a,this._chooseObjectsToRender()),this},renderTopLayer:function(a){a.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(a),this.contextTopDirty=!0),a.restore()},renderTop:function(){var a=this.contextTop;return this.clearContext(a),this.renderTopLayer(a),this.fire("after:render"),this},_normalizePointer:function(a,l){var s=a.calcTransformMatrix(),h=t.util.invertTransform(s),g=this.restorePointerVpt(l);return t.util.transformPoint(g,h)},isTargetTransparent:function(a,l,s){if(a.shouldCache()&&a._cacheCanvas&&a!==this._activeObject){var h=this._normalizePointer(a,{x:l,y:s}),g=Math.max(a.cacheTranslationX+h.x*a.zoomX,0),d=Math.max(a.cacheTranslationY+h.y*a.zoomY,0),x=t.util.isTransparent(a._cacheContext,Math.round(g),Math.round(d),this.targetFindTolerance);return x}var m=this.contextCache,b=a.selectionBackgroundColor,_=this.viewportTransform;a.selectionBackgroundColor="",this.clearContext(m),m.save(),m.transform(_[0],_[1],_[2],_[3],_[4],_[5]),a.render(m),m.restore(),a.selectionBackgroundColor=b;var x=t.util.isTransparent(m,l,s,this.targetFindTolerance);return x},_isSelectionKeyPressed:function(a){var l=!1;return Array.isArray(this.selectionKey)?l=!!this.selectionKey.find(function(s){return a[s]===!0}):l=a[this.selectionKey],l},_shouldClearSelection:function(a,l){var s=this.getActiveObjects(),h=this._activeObject;return!l||l&&h&&s.length>1&&s.indexOf(l)===-1&&h!==l&&!this._isSelectionKeyPressed(a)||l&&!l.evented||l&&!l.selectable&&h&&h!==l},_shouldCenterTransform:function(a,l,s){if(!!a){var h;return l==="scale"||l==="scaleX"||l==="scaleY"||l==="resizing"?h=this.centeredScaling||a.centeredScaling:l==="rotate"&&(h=this.centeredRotation||a.centeredRotation),h?!s:s}},_getOriginFromCorner:function(a,l){var s={x:a.originX,y:a.originY};return l==="ml"||l==="tl"||l==="bl"?s.x="right":(l==="mr"||l==="tr"||l==="br")&&(s.x="left"),l==="tl"||l==="mt"||l==="tr"?s.y="bottom":(l==="bl"||l==="mb"||l==="br")&&(s.y="top"),s},_getActionFromCorner:function(a,l,s,h){if(!l||!a)return"drag";var g=h.controls[l];return g.getActionName(s,g,h)},_setupCurrentTransform:function(a,l,s){if(!!l){var h=this.getPointer(a),g=l.__corner,d=l.controls[g],m=s&&g?d.getActionHandler(a,l,d):t.controlsUtils.dragHandler,b=this._getActionFromCorner(s,g,a,l),_=this._getOriginFromCorner(l,g),x=a[this.centeredKey],A={target:l,action:b,actionHandler:m,corner:g,scaleX:l.scaleX,scaleY:l.scaleY,skewX:l.skewX,skewY:l.skewY,offsetX:h.x-l.left,offsetY:h.y-l.top,originX:_.x,originY:_.y,ex:h.x,ey:h.y,lastX:h.x,lastY:h.y,theta:i(l.angle),width:l.width*l.scaleX,shiftKey:a.shiftKey,altKey:x,original:t.util.saveObjectTransform(l)};this._shouldCenterTransform(l,b,x)&&(A.originX="center",A.originY="center"),A.original.originX=_.x,A.original.originY=_.y,this._currentTransform=A,this._beforeTransform(a)}},setCursor:function(a){this.upperCanvasEl.style.cursor=a},_drawSelection:function(a){var l=this._groupSelector,s=new t.Point(l.ex,l.ey),h=t.util.transformPoint(s,this.viewportTransform),g=new t.Point(l.ex+l.left,l.ey+l.top),d=t.util.transformPoint(g,this.viewportTransform),m=Math.min(h.x,d.x),b=Math.min(h.y,d.y),_=Math.max(h.x,d.x),x=Math.max(h.y,d.y),A=this.selectionLineWidth/2;this.selectionColor&&(a.fillStyle=this.selectionColor,a.fillRect(m,b,_-m,x-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(a.lineWidth=this.selectionLineWidth,a.strokeStyle=this.selectionBorderColor,m+=A,b+=A,_-=A,x-=A,t.Object.prototype._setLineDash.call(this,a,this.selectionDashArray),a.strokeRect(m,b,_-m,x-b))},findTarget:function(a,l){if(!this.skipTargetFind){var s=!0,h=this.getPointer(a,s),g=this._activeObject,d=this.getActiveObjects(),m,b,_=u(a),x=d.length>1&&!l||d.length===1;if(this.targets=[],x&&g._findTargetCorner(h,_)||d.length>1&&!l&&g===this._searchPossibleTargets([g],h))return g;if(d.length===1&&g===this._searchPossibleTargets([g],h))if(this.preserveObjectStacking)m=g,b=this.targets,this.targets=[];else return g;var A=this._searchPossibleTargets(this._objects,h);return a[this.altSelectionKey]&&A&&m&&A!==m&&(A=m,this.targets=b),A}},_checkTarget:function(a,l,s){if(l&&l.visible&&l.evented&&l.containsPoint(a))if((this.perPixelTargetFind||l.perPixelTargetFind)&&!l.isEditing){var h=this.isTargetTransparent(l,s.x,s.y);if(!h)return!0}else return!0},_searchPossibleTargets:function(a,l){for(var s,h=a.length,g;h--;){var d=a[h],m=d.group?this._normalizePointer(d.group,l):l;if(this._checkTarget(m,d,l)){s=a[h],s.subTargetCheck&&s instanceof t.Group&&(g=this._searchPossibleTargets(s._objects,l),g&&this.targets.push(g));break}}return s},restorePointerVpt:function(a){return t.util.transformPoint(a,t.util.invertTransform(this.viewportTransform))},getPointer:function(a,l){if(this._absolutePointer&&!l)return this._absolutePointer;if(this._pointer&&l)return this._pointer;var s=o(a),h=this.upperCanvasEl,g=h.getBoundingClientRect(),d=g.width||0,m=g.height||0,b;(!d||!m)&&("top"in g&&"bottom"in g&&(m=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(d=Math.abs(g.right-g.left))),this.calcOffset(),s.x=s.x-this._offset.left,s.y=s.y-this._offset.top,l||(s=this.restorePointerVpt(s));var _=this.getRetinaScaling();return _!==1&&(s.x/=_,s.y/=_),d===0||m===0?b={width:1,height:1}:b={width:h.width/d,height:h.height/m},{x:s.x*b.width,y:s.y*b.height}},_createUpperCanvas:function(){var a=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),l=this.lowerCanvasEl,s=this.upperCanvasEl;s?s.className="":(s=this._createCanvasElement(),this.upperCanvasEl=s),t.util.addClass(s,"upper-canvas "+a),this.wrapperEl.appendChild(s),this._copyCanvasStyle(l,s),this._applyCanvasStyle(s),this.contextTop=s.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(a){var l=this.width||a.width,s=this.height||a.height;t.util.setStyle(a,{position:"absolute",width:l+"px",height:s+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),a.width=l,a.height=s,t.util.makeElementUnselectable(a)},_copyCanvasStyle:function(a,l){l.style.cssText=a.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var a=this._activeObject;return a?a.type==="activeSelection"&&a._objects?a._objects.slice(0):[a]:[]},_onObjectRemoved:function(a){a===this._activeObject&&(this.fire("before:selection:cleared",{target:a}),this._discardActiveObject(),this.fire("selection:cleared",{target:a}),a.fire("deselected")),a===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",a)},_fireSelectionEvents:function(a,l){var s=!1,h=this.getActiveObjects(),g=[],d=[];a.forEach(function(m){h.indexOf(m)===-1&&(s=!0,m.fire("deselected",{e:l,target:m}),d.push(m))}),h.forEach(function(m){a.indexOf(m)===-1&&(s=!0,m.fire("selected",{e:l,target:m}),g.push(m))}),a.length>0&&h.length>0?s&&this.fire("selection:updated",{e:l,selected:g,deselected:d}):h.length>0?this.fire("selection:created",{e:l,selected:g}):a.length>0&&this.fire("selection:cleared",{e:l,deselected:d})},setActiveObject:function(a,l){var s=this.getActiveObjects();return this._setActiveObject(a,l),this._fireSelectionEvents(s,l),this},_setActiveObject:function(a,l){return this._activeObject===a||!this._discardActiveObject(l,a)||a.onSelect({e:l})?!1:(this._activeObject=a,!0)},_discardActiveObject:function(a,l){var s=this._activeObject;if(s){if(s.onDeselect({e:a,object:l}))return!1;this._activeObject=null}return!0},discardActiveObject:function(a){var l=this.getActiveObjects(),s=this.getActiveObject();return l.length&&this.fire("before:selection:cleared",{target:s,e:a}),this._discardActiveObject(a),this._fireSelectionEvents(l,a),this},dispose:function(){var a=this.wrapperEl;return this.removeListeners(),a.removeChild(this.upperCanvasEl),a.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(l){t.util.cleanUpJsdomNode(this[l]),this[l]=void 0}.bind(this)),a.parentNode&&a.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(a){var l=this._activeObject;l&&l._renderControls(a)},_toObject:function(a,l,s){var h=this._realizeGroupTransformOnObject(a),g=this.callSuper("_toObject",a,l,s);return this._unwindGroupTransformOnObject(a,h),g},_realizeGroupTransformOnObject:function(a){if(a.group&&a.group.type==="activeSelection"&&this._activeObject===a.group){var l=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],s={};return l.forEach(function(h){s[h]=a[h]}),t.util.addTransformToObject(a,this._activeObject.calcOwnMatrix()),s}else return null},_unwindGroupTransformOnObject:function(a,l){l&&a.set(l)},_setSVGObject:function(a,l,s){var h=this._realizeGroupTransformOnObject(l);this.callSuper("_setSVGObject",a,l,s),this._unwindGroupTransformOnObject(l,h)},setViewportTransform:function(a){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,a)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var o=t.util.addListener,i=t.util.removeListener,u=3,f=2,a=1,l={passive:!1};function s(h,g){return h.button&&h.button===g-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(o,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(h,g){var d=this.upperCanvasEl,m=this._getEventPrefix();h(t.window,"resize",this._onResize),h(d,m+"down",this._onMouseDown),h(d,m+"move",this._onMouseMove,l),h(d,m+"out",this._onMouseOut),h(d,m+"enter",this._onMouseEnter),h(d,"wheel",this._onMouseWheel),h(d,"contextmenu",this._onContextMenu),h(d,"dblclick",this._onDoubleClick),h(d,"dragover",this._onDragOver),h(d,"dragenter",this._onDragEnter),h(d,"dragleave",this._onDragLeave),h(d,"drop",this._onDrop),this.enablePointerEvents||h(d,"touchstart",this._onTouchStart,l),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](d,"gesture",this._onGesture),eventjs[g](d,"drag",this._onDrag),eventjs[g](d,"orientation",this._onOrientationChange),eventjs[g](d,"shake",this._onShake),eventjs[g](d,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(i,"remove");var h=this._getEventPrefix();i(t.document,h+"up",this._onMouseUp),i(t.document,"touchend",this._onTouchEnd,l),i(t.document,h+"move",this._onMouseMove,l),i(t.document,"touchmove",this._onMouseMove,l)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(h,g){this.__onTransformGesture&&this.__onTransformGesture(h,g)},_onDrag:function(h,g){this.__onDrag&&this.__onDrag(h,g)},_onMouseWheel:function(h){this.__onMouseWheel(h)},_onMouseOut:function(h){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:h}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:h});var d=this;this._hoveredTargets.forEach(function(m){d.fire("mouse:out",{target:m,e:h}),m&&m.fire("mouseout",{e:h})}),this._hoveredTargets=[]},_onMouseEnter:function(h){!this._currentTransform&&!this.findTarget(h)&&(this.fire("mouse:over",{target:null,e:h}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(h,g){this.__onOrientationChange&&this.__onOrientationChange(h,g)},_onShake:function(h,g){this.__onShake&&this.__onShake(h,g)},_onLongPress:function(h,g){this.__onLongPress&&this.__onLongPress(h,g)},_onDragOver:function(h){h.preventDefault();var g=this._simpleEventHandler("dragover",h);this._fireEnterLeaveEvents(g,h)},_onDrop:function(h){return this._simpleEventHandler("drop:before",h),this._simpleEventHandler("drop",h)},_onContextMenu:function(h){return this.stopContextMenu&&(h.stopPropagation(),h.preventDefault()),!1},_onDoubleClick:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"dblclick"),this._resetTransformEventData(h)},getPointerId:function(h){var g=h.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?h.pointerId:-1},_isMainEvent:function(h){return h.isPrimary===!0?!0:h.isPrimary===!1?!1:h.type==="touchend"&&h.touches.length===0?!0:h.changedTouches?h.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(h){h.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(h)),this.__onMouseDown(h),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();o(t.document,"touchend",this._onTouchEnd,l),o(t.document,"touchmove",this._onMouseMove,l),i(g,d+"down",this._onMouseDown)},_onMouseDown:function(h){this.__onMouseDown(h),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();i(g,d+"move",this._onMouseMove,l),o(t.document,d+"up",this._onMouseUp),o(t.document,d+"move",this._onMouseMove,l)},_onTouchEnd:function(h){if(!(h.touches.length>0)){this.__onMouseUp(h),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();i(t.document,"touchend",this._onTouchEnd,l),i(t.document,"touchmove",this._onMouseMove,l);var d=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){o(d.upperCanvasEl,g+"down",d._onMouseDown),d._willAddMouseDown=0},400)}},_onMouseUp:function(h){this.__onMouseUp(h),this._resetTransformEventData();var g=this.upperCanvasEl,d=this._getEventPrefix();this._isMainEvent(h)&&(i(t.document,d+"up",this._onMouseUp),i(t.document,d+"move",this._onMouseMove,l),o(g,d+"move",this._onMouseMove,l))},_onMouseMove:function(h){!this.allowTouchScrolling&&h.preventDefault&&h.preventDefault(),this.__onMouseMove(h)},_onResize:function(){this.calcOffset()},_shouldRender:function(h){var g=this._activeObject;return!!g!=!!h||g&&h&&g!==h?!0:(g&&g.isEditing,!1)},__onMouseUp:function(h){var g,d=this._currentTransform,m=this._groupSelector,b=!1,_=!m||m.left===0&&m.top===0;if(this._cacheTransformEventData(h),g=this._target,this._handleEvent(h,"up:before"),s(h,u)){this.fireRightClick&&this._handleEvent(h,"up",u,_);return}if(s(h,f)){this.fireMiddleClick&&this._handleEvent(h,"up",f,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(h);return}if(!!this._isMainEvent(h)){if(d&&(this._finalizeCurrentTransform(h),b=d.actionPerformed),!_){var x=g===this._activeObject;this._maybeGroupObjects(h),b||(b=this._shouldRender(g)||!x&&g===this._activeObject)}var A,L;if(g){if(A=g._findTargetCorner(this.getPointer(h,!0),t.util.isTouchEvent(h)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,h),b=!0;else{var E=g.controls[A],F=E&&E.getMouseUpHandler(h,g,E);F&&(L=this.getPointer(h),F(h,d,L.x,L.y))}g.isMoving=!1}if(d&&(d.target!==g||d.corner!==A)){var Y=d.target&&d.target.controls[d.corner],et=Y&&Y.getMouseUpHandler(h,g,E);L=L||this.getPointer(h),et&&et(h,d,L.x,L.y)}this._setCursorFromEvent(h,g),this._handleEvent(h,"up",a,_),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),b?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(h,g){var d=this.findTarget(g),m=this.targets,b={e:g,target:d,subTargets:m};if(this.fire(h,b),d&&d.fire(h,b),!m)return d;for(var _=0;_<m.length;_++)m[_].fire(h,b);return d},_handleEvent:function(h,g,d,m){var b=this._target,_=this.targets||[],x={e:h,target:b,subTargets:_,button:d||a,isClick:m||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(x.currentTarget=this.findTarget(h),x.currentSubTargets=this.targets),this.fire("mouse:"+g,x),b&&b.fire("mouse"+g,x);for(var A=0;A<_.length;A++)_[A].fire("mouse"+g,x)},_finalizeCurrentTransform:function(h){var g=this._currentTransform,d=g.target,m={e:h,target:d,transform:g,action:g.action};d._scaling&&(d._scaling=!1),d.setCoords(),(g.actionPerformed||this.stateful&&d.hasStateChanged())&&this._fire("modified",m)},_onMouseDownInDrawingMode:function(h){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(h).requestRenderAll();var g=this.getPointer(h);this.freeDrawingBrush.onMouseDown(g,{e:h,pointer:g}),this._handleEvent(h,"down")},_onMouseMoveInDrawingMode:function(h){if(this._isCurrentlyDrawing){var g=this.getPointer(h);this.freeDrawingBrush.onMouseMove(g,{e:h,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(h,"move")},_onMouseUpInDrawingMode:function(h){var g=this.getPointer(h);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:h,pointer:g}),this._handleEvent(h,"up")},__onMouseDown:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"down:before");var g=this._target;if(s(h,u)){this.fireRightClick&&this._handleEvent(h,"down",u);return}if(s(h,f)){this.fireMiddleClick&&this._handleEvent(h,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(h);return}if(!!this._isMainEvent(h)&&!this._currentTransform){var d=this._pointer;this._previousPointer=d;var m=this._shouldRender(g),b=this._shouldGroup(h,g);if(this._shouldClearSelection(h,g)?this.discardActiveObject(h):b&&(this._handleGrouping(h,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var _=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,h);var x=g._findTargetCorner(this.getPointer(h,!0),t.util.isTouchEvent(h));if(g.__corner=x,g===this._activeObject&&(x||!b)){this._setupCurrentTransform(h,g,_);var A=g.controls[x],d=this.getPointer(h),L=A&&A.getMouseDownHandler(h,g,A);L&&L(h,this._currentTransform,d.x,d.y)}}this._handleEvent(h,"down"),(m||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(h){this._resetTransformEventData(),this._pointer=this.getPointer(h,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(h)||null},_beforeTransform:function(h){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:h,transform:g})},__onMouseMove:function(h){this._handleEvent(h,"move:before"),this._cacheTransformEventData(h);var g,d;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(h);return}if(!!this._isMainEvent(h)){var m=this._groupSelector;m?(d=this._absolutePointer,m.left=d.x-m.ex,m.top=d.y-m.ey,this.renderTop()):this._currentTransform?this._transformObject(h):(g=this.findTarget(h)||null,this._setCursorFromEvent(h,g),this._fireOverOutEvents(g,h)),this._handleEvent(h,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(h,g){var d=this._hoveredTarget,m=this._hoveredTargets,b=this.targets,_=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(h,g,{oldTarget:d,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var x=0;x<_;x++)this.fireSyntheticInOutEvents(b[x],g,{oldTarget:m[x],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=h,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(h,g){var d=this._draggedoverTarget,m=this._hoveredTargets,b=this.targets,_=Math.max(m.length,b.length);this.fireSyntheticInOutEvents(h,g,{oldTarget:d,evtOut:"dragleave",evtIn:"dragenter"});for(var x=0;x<_;x++)this.fireSyntheticInOutEvents(b[x],g,{oldTarget:m[x],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=h},fireSyntheticInOutEvents:function(h,g,d){var m,b,_=d.oldTarget,x,A,L=_!==h,E=d.canvasEvtIn,F=d.canvasEvtOut;L&&(m={e:g,target:h,previousTarget:_},b={e:g,target:_,nextTarget:h}),A=h&&L,x=_&&L,x&&(F&&this.fire(F,b),_.fire(d.evtOut,b)),A&&(E&&this.fire(E,m),h.fire(d.evtIn,m))},__onMouseWheel:function(h){this._cacheTransformEventData(h),this._handleEvent(h,"wheel"),this._resetTransformEventData()},_transformObject:function(h){var g=this.getPointer(h),d=this._currentTransform;d.reset=!1,d.shiftKey=h.shiftKey,d.altKey=h[this.centeredKey],this._performTransformAction(h,d,g),d.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(h,g,d){var m=d.x,b=d.y,_=g.action,x=!1,A=g.actionHandler;A&&(x=A(h,g,m,b)),_==="drag"&&x&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||x},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(h,g){if(!g)return this.setCursor(this.defaultCursor),!1;var d=g.hoverCursor||this.hoverCursor,m=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!m||!m.contains(g))&&g._findTargetCorner(this.getPointer(h,!0));b?this.setCursor(this.getCornerCursor(b,g,h)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(_){d=_.hoverCursor||d}),this.setCursor(d))},getCornerCursor:function(h,g,d){var m=g.controls[h];return m.cursorStyleHandler(d,m,g)}})}(),function(){var o=Math.min,i=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,f){var a=this._activeObject;return a&&this._isSelectionKeyPressed(u)&&f&&f.selectable&&this.selection&&(a!==f||a.type==="activeSelection")&&!f.onSelect({e:u})},_handleGrouping:function(u,f){var a=this._activeObject;a.__corner||f===a&&(f=this.findTarget(u,!0),!f||!f.selectable)||(a&&a.type==="activeSelection"?this._updateActiveSelection(f,u):this._createActiveSelection(f,u))},_updateActiveSelection:function(u,f){var a=this._activeObject,l=a._objects.slice(0);a.contains(u)?(a.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),a.size()===1&&this._setActiveObject(a.item(0),f)):(a.addWithUpdate(u),this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(l,f)},_createActiveSelection:function(u,f){var a=this.getActiveObjects(),l=this._createGroup(u);this._hoveredTarget=l,this._setActiveObject(l,f),this._fireSelectionEvents(a,f)},_createGroup:function(u){var f=this._objects,a=f.indexOf(this._activeObject)<f.indexOf(u),l=a?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(l,{canvas:this})},_groupSelectedObjects:function(u){var f=this._collectObjects(u),a;f.length===1?this.setActiveObject(f[0],u):f.length>1&&(a=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(a,u))},_collectObjects:function(u){for(var f=[],a,l=this._groupSelector.ex,s=this._groupSelector.ey,h=l+this._groupSelector.left,g=s+this._groupSelector.top,d=new t.Point(o(l,h),o(s,g)),m=new t.Point(i(l,h),i(s,g)),b=!this.selectionFullyContained,_=l===h&&s===g,x=this._objects.length;x--&&(a=this._objects[x],!(!(!a||!a.selectable||!a.visible)&&(b&&a.intersectsWithRect(d,m,!0)||a.isContainedWithinRect(d,m,!0)||b&&a.containsPoint(d,null,!0)||b&&a.containsPoint(m,null,!0))&&(f.push(a),_))););return f.length>1&&(f=f.filter(function(A){return!A.onSelect({e:u})})),f},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(o){o||(o={});var i=o.format||"png",u=o.quality||1,f=(o.multiplier||1)*(o.enableRetinaScaling?this.getRetinaScaling():1),a=this.toCanvasElement(f,o);return t.util.toDataURL(a,i,u)},toCanvasElement:function(o,i){o=o||1,i=i||{};var u=(i.width||this.width)*o,f=(i.height||this.height)*o,a=this.getZoom(),l=this.width,s=this.height,h=a*o,g=this.viewportTransform,d=(g[4]-(i.left||0))*o,m=(g[5]-(i.top||0))*o,b=this.interactive,_=[h,0,0,h,d,m],x=this.enableRetinaScaling,A=t.util.createCanvasElement(),L=this.contextTop;return A.width=u,A.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=u,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(A.getContext("2d"),this._objects),this.viewportTransform=g,this.width=l,this.height=s,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=x,this.contextTop=L,A}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(o,i,u){if(!!o){var f=typeof o=="string"?JSON.parse(o):t.util.object.clone(o),a=this,l=f.clipPath,s=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(h){a.clear(),a._setBgOverlay(f,function(){l?a._enlivenObjects([l],function(g){a.clipPath=g[0],a.__setupCanvas.call(a,f,h,s,i)}):a.__setupCanvas.call(a,f,h,s,i)})},u),this}},__setupCanvas:function(o,i,u,f){var a=this;i.forEach(function(l,s){a.insertAt(l,s)}),this.renderOnAddRemove=u,delete o.objects,delete o.backgroundImage,delete o.overlayImage,delete o.background,delete o.overlay,this._setOptions(o),this.renderAll(),f&&f()},_setBgOverlay:function(o,i){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!o.backgroundImage&&!o.overlayImage&&!o.background&&!o.overlay){i&&i();return}var f=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&i&&i()};this.__setBgOverlay("backgroundImage",o.backgroundImage,u,f),this.__setBgOverlay("overlayImage",o.overlayImage,u,f),this.__setBgOverlay("backgroundColor",o.background,u,f),this.__setBgOverlay("overlayColor",o.overlay,u,f)},__setBgOverlay:function(o,i,u,f){var a=this;if(!i){u[o]=!0,f&&f();return}o==="backgroundImage"||o==="overlayImage"?t.util.enlivenObjects([i],function(l){a[o]=l[0],u[o]=!0,f&&f()}):this["set"+t.util.string.capitalize(o,!0)](i,function(){u[o]=!0,f&&f()})},_enlivenObjects:function(o,i,u){if(!o||o.length===0){i&&i([]);return}t.util.enlivenObjects(o,function(f){i&&i(f)},null,u)},_toDataURL:function(o,i){this.clone(function(u){i(u.toDataURL(o))})},_toDataURLWithMultiplier:function(o,i,u){this.clone(function(f){u(f.toDataURLWithMultiplier(o,i))})},clone:function(o,i){var u=JSON.stringify(this.toJSON(i));this.cloneWithoutData(function(f){f.loadFromJSON(u,function(){o&&o(f)})})},cloneWithoutData:function(o){var i=t.util.createCanvasElement();i.width=this.width,i.height=this.height;var u=new t.Canvas(i);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),o&&o(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):o&&o(u)}}),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.util.object.clone,a=i.util.toFixed,l=i.util.string.capitalize,s=i.util.degreesToRadians,h=!i.isLikelyNode,g=2;i.Object||(i.Object=i.util.createClass(i.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:h,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(d){d&&this.setOptions(d)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=i.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(d){var m=i.perfLimitSizeTotal,b=d.width,_=d.height,x=i.maxCacheSideLimit,A=i.minCacheSideLimit;if(b<=x&&_<=x&&b*_<=m)return b<A&&(d.width=A),_<A&&(d.height=A),d;var L=b/_,E=i.util.limitDimsByArea(L,m),F=i.util.capValue,Y=F(A,E.x,x),et=F(A,E.y,x);return b>Y&&(d.zoomX/=b/Y,d.width=Y,d.capped=!0),_>et&&(d.zoomY/=_/et,d.height=et,d.capped=!0),d},_getCacheCanvasDimensions:function(){var d=this.getTotalObjectScaling(),m=this._getTransformedDimensions(0,0),b=m.x*d.scaleX/this.scaleX,_=m.y*d.scaleY/this.scaleY;return{width:Math.ceil(b+g),height:Math.ceil(_+g),zoomX:d.scaleX,zoomY:d.scaleY,x:b,y:_}},_updateCacheCanvas:function(){var d=this.canvas;if(this.noScaleCache&&d&&d._currentTransform){var m=d._currentTransform.target,b=d._currentTransform.action;if(this===m&&b.slice&&b.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,x=this._limitCacheSize(this._getCacheCanvasDimensions()),A=x.width,L=x.height,E,F,Y=x.zoomX,et=x.zoomY,j=A!==this.cacheWidth||L!==this.cacheHeight,M=this.zoomX!==Y||this.zoomY!==et,tt=j||M;return tt?(j?(_.width=A,_.height=L):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),E=x.x/2,F=x.y/2,this.cacheTranslationX=Math.round(_.width/2-E)+E,this.cacheTranslationY=Math.round(_.height/2-F)+F,this.cacheWidth=A,this.cacheHeight=L,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Y,et),this.zoomX=Y,this.zoomY=et,!0):!1},setOptions:function(d){this._setOptions(d),this._initGradient(d.fill,"fill"),this._initGradient(d.stroke,"stroke"),this._initPattern(d.fill,"fill"),this._initPattern(d.stroke,"stroke")},transform:function(d){var m=this.group&&!this.group._transformDone||this.group&&this.canvas&&d===this.canvas.contextTop,b=this.calcTransformMatrix(!m);d.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(d){var m=i.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:i.version,originX:this.originX,originY:this.originY,left:a(this.left,m),top:a(this.top,m),width:a(this.width,m),height:a(this.height,m),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:a(this.strokeWidth,m),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:a(this.strokeMiterLimit,m),scaleX:a(this.scaleX,m),scaleY:a(this.scaleY,m),angle:a(this.angle,m),flipX:this.flipX,flipY:this.flipY,opacity:a(this.opacity,m),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:a(this.skewX,m),skewY:a(this.skewY,m)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(d),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),i.util.populateWithProperties(this,b,d),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(d){return this.toObject(d)},_removeDefaultValues:function(d){var m=i.util.getKlass(d.type).prototype,b=m.stateProperties;return b.forEach(function(_){_==="left"||_==="top"||(d[_]===m[_]&&delete d[_],Array.isArray(d[_])&&Array.isArray(m[_])&&d[_].length===0&&m[_].length===0&&delete d[_])}),d},toString:function(){return"#<fabric."+l(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var d=i.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(d.scaleX),scaleY:Math.abs(d.scaleY)}},getTotalObjectScaling:function(){var d=this.getObjectScaling(),m=d.scaleX,b=d.scaleY;if(this.canvas){var _=this.canvas.getZoom(),x=this.canvas.getRetinaScaling();m*=_*x,b*=_*x}return{scaleX:m,scaleY:b}},getObjectOpacity:function(){var d=this.opacity;return this.group&&(d*=this.group.getObjectOpacity()),d},_set:function(d,m){var b=d==="scaleX"||d==="scaleY",_=this[d]!==m,x=!1;return b&&(m=this._constrainScale(m)),d==="scaleX"&&m<0?(this.flipX=!this.flipX,m*=-1):d==="scaleY"&&m<0?(this.flipY=!this.flipY,m*=-1):d==="shadow"&&m&&!(m instanceof i.Shadow)?m=new i.Shadow(m):d==="dirty"&&this.group&&this.group.set("dirty",m),this[d]=m,_&&(x=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(d)>-1?(this.dirty=!0,x&&this.group.set("dirty",!0)):x&&this.stateProperties.indexOf(d)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:i.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(d){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(d.save(),this._setupCompositeOperation(d),this.drawSelectionBackground(d),this.transform(d),this._setOpacity(d),this._setShadow(d,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(d)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(d),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),d.restore())},renderCache:function(d){d=d||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,d.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(d,m){if(d.save(),m.inverted?d.globalCompositeOperation="destination-out":d.globalCompositeOperation="destination-in",m.absolutePositioned){var b=i.util.invertTransform(this.calcTransformMatrix());d.transform(b[0],b[1],b[2],b[3],b[4],b[5])}m.transform(d),d.scale(1/m.zoomX,1/m.zoomY),d.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),d.restore()},drawObject:function(d,m){var b=this.fill,_=this.stroke;m?(this.fill="black",this.stroke="",this._setClippingProperties(d)):this._renderBackground(d),this._render(d),this._drawClipPath(d,this.clipPath),this.fill=b,this.stroke=_},_drawClipPath:function(d,m){!m||(m.canvas=this.canvas,m.shouldCache(),m._transformDone=!0,m.renderCache({forClipping:!0}),this.drawClipPathOnCache(d,m))},drawCacheOnCanvas:function(d){d.scale(1/this.zoomX,1/this.zoomY),d.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(d){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!d&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!d){var m=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-m/2,-b/2,m,b)}return!0}return!1},_renderBackground:function(d){if(!!this.backgroundColor){var m=this._getNonTransformedDimensions();d.fillStyle=this.backgroundColor,d.fillRect(-m.x/2,-m.y/2,m.x,m.y),this._removeShadow(d)}},_setOpacity:function(d){this.group&&!this.group._transformDone?d.globalAlpha=this.getObjectOpacity():d.globalAlpha*=this.opacity},_setStrokeStyles:function(d,m){var b=m.stroke;b&&(d.lineWidth=m.strokeWidth,d.lineCap=m.strokeLineCap,d.lineDashOffset=m.strokeDashOffset,d.lineJoin=m.strokeLineJoin,d.miterLimit=m.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(d,b):(d.strokeStyle=b.toLive(d,this),this._applyPatternGradientTransform(d,b)):d.strokeStyle=m.stroke)},_setFillStyles:function(d,m){var b=m.fill;b&&(b.toLive?(d.fillStyle=b.toLive(d,this),this._applyPatternGradientTransform(d,m.fill)):d.fillStyle=b)},_setClippingProperties:function(d){d.globalAlpha=1,d.strokeStyle="transparent",d.fillStyle="#000000"},_setLineDash:function(d,m){!m||m.length===0||(1&m.length&&m.push.apply(m,m),d.setLineDash(m))},_renderControls:function(d,m){var b=this.getViewportTransform(),_=this.calcTransformMatrix(),x,A,L;m=m||{},A=typeof m.hasBorders<"u"?m.hasBorders:this.hasBorders,L=typeof m.hasControls<"u"?m.hasControls:this.hasControls,_=i.util.multiplyTransformMatrices(b,_),x=i.util.qrDecompose(_),d.save(),d.translate(x.translateX,x.translateY),d.lineWidth=1*this.borderScaleFactor,this.group||(d.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(x.angle-=180),d.rotate(s(this.group?x.angle:this.angle)),m.forActiveSelection||this.group?A&&this.drawBordersInGroup(d,x,m):A&&this.drawBorders(d,m),L&&this.drawControls(d,m),d.restore()},_setShadow:function(d){if(!!this.shadow){var m=this.shadow,b=this.canvas,_,x=b&&b.viewportTransform[0]||1,A=b&&b.viewportTransform[3]||1;m.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),b&&b._isRetinaScaling()&&(x*=i.devicePixelRatio,A*=i.devicePixelRatio),d.shadowColor=m.color,d.shadowBlur=m.blur*i.browserShadowBlurConstant*(x+A)*(_.scaleX+_.scaleY)/4,d.shadowOffsetX=m.offsetX*x*_.scaleX,d.shadowOffsetY=m.offsetY*A*_.scaleY}},_removeShadow:function(d){!this.shadow||(d.shadowColor="",d.shadowBlur=d.shadowOffsetX=d.shadowOffsetY=0)},_applyPatternGradientTransform:function(d,m){if(!m||!m.toLive)return{offsetX:0,offsetY:0};var b=m.gradientTransform||m.patternTransform,_=-this.width/2+m.offsetX||0,x=-this.height/2+m.offsetY||0;return m.gradientUnits==="percentage"?d.transform(this.width,0,0,this.height,_,x):d.transform(1,0,0,1,_,x),b&&d.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:_,offsetY:x}},_renderPaintInOrder:function(d){this.paintFirst==="stroke"?(this._renderStroke(d),this._renderFill(d)):(this._renderFill(d),this._renderStroke(d))},_render:function(){},_renderFill:function(d){!this.fill||(d.save(),this._setFillStyles(d,this),this.fillRule==="evenodd"?d.fill("evenodd"):d.fill(),d.restore())},_renderStroke:function(d){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(d),d.save(),this.strokeUniform&&this.group){var m=this.getObjectScaling();d.scale(1/m.scaleX,1/m.scaleY)}else this.strokeUniform&&d.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(d,this.strokeDashArray),this._setStrokeStyles(d,this),d.stroke(),d.restore()}},_applyPatternForTransformedGradient:function(d,m){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),_=i.util.createCanvasElement(),x,A=this.canvas.getRetinaScaling(),L=b.x/this.scaleX/A,E=b.y/this.scaleY/A;_.width=Math.ceil(L),_.height=Math.ceil(E),x=_.getContext("2d"),x.beginPath(),x.moveTo(0,0),x.lineTo(L,0),x.lineTo(L,E),x.lineTo(0,E),x.closePath(),x.translate(L/2,E/2),x.scale(b.zoomX/this.scaleX/A,b.zoomY/this.scaleY/A),this._applyPatternGradientTransform(x,m),x.fillStyle=m.toLive(d),x.fill(),d.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),d.scale(A*this.scaleX/b.zoomX,A*this.scaleY/b.zoomY),d.strokeStyle=x.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var d=i.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",d.scaleX),this.set("scaleY",d.scaleY),this.angle=d.angle,this.skewX=d.skewX,this.skewY=0}},_removeTransformMatrix:function(d){var m=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),m=i.util.transformPoint(m,this.transformMatrix)),this.transformMatrix=null,d&&(this.scaleX*=d.scaleX,this.scaleY*=d.scaleY,this.cropX=d.cropX,this.cropY=d.cropY,m.x+=d.offsetLeft,m.y+=d.offsetTop,this.width=d.width,this.height=d.height),this.setPositionByOrigin(m,"center","center")},clone:function(d,m){var b=this.toObject(m);this.constructor.fromObject?this.constructor.fromObject(b,d):i.Object._fromObject("Object",b,d)},cloneAsImage:function(d,m){var b=this.toCanvasElement(m);return d&&d(new i.Image(b)),this},toCanvasElement:function(d){d||(d={});var m=i.util,b=m.saveObjectTransform(this),_=this.group,x=this.shadow,A=Math.abs,L=(d.multiplier||1)*(d.enableRetinaScaling?i.devicePixelRatio:1);delete this.group,d.withoutTransform&&m.resetObjectTransform(this),d.withoutShadow&&(this.shadow=null);var E=i.util.createCanvasElement(),F=this.getBoundingRect(!0,!0),Y=this.shadow,et,j={x:0,y:0},M,tt,Z;Y&&(M=Y.blur,Y.nonScaling?et={scaleX:1,scaleY:1}:et=this.getObjectScaling(),j.x=2*Math.round(A(Y.offsetX)+M)*A(et.scaleX),j.y=2*Math.round(A(Y.offsetY)+M)*A(et.scaleY)),tt=F.width+j.x,Z=F.height+j.y,E.width=Math.ceil(tt),E.height=Math.ceil(Z);var ft=new i.StaticCanvas(E,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});d.format==="jpeg"&&(ft.backgroundColor="#fff"),this.setPositionByOrigin(new i.Point(ft.width/2,ft.height/2),"center","center");var ht=this.canvas;ft.add(this);var pt=ft.toCanvasElement(L||1,d);return this.shadow=x,this.set("canvas",ht),_&&(this.group=_),this.set(b).setCoords(),ft._objects=[],ft.dispose(),ft=null,pt},toDataURL:function(d){return d||(d={}),i.util.toDataURL(this.toCanvasElement(d),d.format||"png",d.quality||1)},isType:function(d){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===d},complexity:function(){return 1},toJSON:function(d){return this.toObject(d)},rotate:function(d){var m=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return m&&this._setOriginToCenter(),this.set("angle",d),m&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(d,m){m=m||this.canvas.getPointer(d);var b=new i.Point(m.x,m.y),_=this._getLeftTopCoords();return this.angle&&(b=i.util.rotatePoint(b,_,s(-this.angle))),{x:b.x-_.x,y:b.y-_.y}},_setupCompositeOperation:function(d){this.globalCompositeOperation&&(d.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){i.runningAnimations&&i.runningAnimations.cancelByTarget(this)}}),i.util.createAccessors&&i.util.createAccessors(i.Object),u(i.Object.prototype,i.Observable),i.Object.NUM_FRACTION_DIGITS=2,i.Object.ENLIVEN_PROPS=["clipPath"],i.Object._fromObject=function(d,m,b,_){var x=i[d];m=f(m,!0),i.util.enlivenPatterns([m.fill,m.stroke],function(A){typeof A[0]<"u"&&(m.fill=A[0]),typeof A[1]<"u"&&(m.stroke=A[1]),i.util.enlivenObjectEnlivables(m,m,function(){var L=_?new x(m[_],m):new x(m);b&&b(L)})})},i.Object.__uid=0)}(e),function(){var o=t.util.degreesToRadians,i={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,a,l,s,h){var g=f.x,d=f.y,m,b,_;return typeof a=="string"?a=i[a]:a-=.5,typeof s=="string"?s=i[s]:s-=.5,m=s-a,typeof l=="string"?l=u[l]:l-=.5,typeof h=="string"?h=u[h]:h-=.5,b=h-l,(m||b)&&(_=this._getTransformedDimensions(),g=f.x+m*_.x,d=f.y+b*_.y),new t.Point(g,d)},translateToCenterPoint:function(f,a,l){var s=this.translateToGivenOrigin(f,a,l,"center","center");return this.angle?t.util.rotatePoint(s,f,o(this.angle)):s},translateToOriginPoint:function(f,a,l){var s=this.translateToGivenOrigin(f,"center","center",a,l);return this.angle?t.util.rotatePoint(s,f,o(this.angle)):s},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,a){var l=this.getCenterPoint();return this.translateToOriginPoint(l,f,a)},toLocalPoint:function(f,a,l){var s=this.getCenterPoint(),h,g;return typeof a<"u"&&typeof l<"u"?h=this.translateToGivenOrigin(s,"center","center",a,l):h=new t.Point(this.left,this.top),g=new t.Point(f.x,f.y),this.angle&&(g=t.util.rotatePoint(g,s,-o(this.angle))),g.subtractEquals(h)},setPositionByOrigin:function(f,a,l){var s=this.translateToCenterPoint(f,a,l),h=this.translateToOriginPoint(s,this.originX,this.originY);this.set("left",h.x),this.set("top",h.y)},adjustPosition:function(f){var a=o(this.angle),l=this.getScaledWidth(),s=t.util.cos(a)*l,h=t.util.sin(a)*l,g,d;typeof this.originX=="string"?g=i[this.originX]:g=this.originX-.5,typeof f=="string"?d=i[f]:d=f-.5,this.left+=s*(d-g),this.top+=h*(d-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function o(l){return[new t.Point(l.tl.x,l.tl.y),new t.Point(l.tr.x,l.tr.y),new t.Point(l.br.x,l.br.y),new t.Point(l.bl.x,l.bl.y)]}var i=t.util,u=i.degreesToRadians,f=i.multiplyTransformMatrices,a=i.transformPoint;i.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(l,s){return s?l?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),l?this.aCoords:this.lineCoords)},getCoords:function(l,s){return o(this._getCoords(l,s))},intersectsWithRect:function(l,s,h,g){var d=this.getCoords(h,g),m=t.Intersection.intersectPolygonRectangle(d,l,s);return m.status==="Intersection"},intersectsWithObject:function(l,s,h){var g=t.Intersection.intersectPolygonPolygon(this.getCoords(s,h),l.getCoords(s,h));return g.status==="Intersection"||l.isContainedWithinObject(this,s,h)||this.isContainedWithinObject(l,s,h)},isContainedWithinObject:function(l,s,h){for(var g=this.getCoords(s,h),d=s?l.aCoords:l.lineCoords,m=0,b=l._getImageLines(d);m<4;m++)if(!l.containsPoint(g[m],b))return!1;return!0},isContainedWithinRect:function(l,s,h,g){var d=this.getBoundingRect(h,g);return d.left>=l.x&&d.left+d.width<=s.x&&d.top>=l.y&&d.top+d.height<=s.y},containsPoint:function(l,m,h,g){var d=this._getCoords(h,g),m=m||this._getImageLines(d),b=this._findCrossPoints(l,m);return b!==0&&b%2===1},isOnScreen:function(l){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br,g=this.getCoords(!0,l);return g.some(function(d){return d.x<=h.x&&d.x>=s.x&&d.y<=h.y&&d.y>=s.y})||this.intersectsWithRect(s,h,!0,l)?!0:this._containsCenterOfCanvas(s,h,l)},_containsCenterOfCanvas:function(l,s,h){var g={x:(l.x+s.x)/2,y:(l.y+s.y)/2};return!!this.containsPoint(g,null,!0,h)},isPartiallyOnScreen:function(l){if(!this.canvas)return!1;var s=this.canvas.vptCoords.tl,h=this.canvas.vptCoords.br;if(this.intersectsWithRect(s,h,!0,l))return!0;var g=this.getCoords(!0,l).every(function(d){return(d.x>=h.x||d.x<=s.x)&&(d.y>=h.y||d.y<=s.y)});return g&&this._containsCenterOfCanvas(s,h,l)},_getImageLines:function(l){var s={topline:{o:l.tl,d:l.tr},rightline:{o:l.tr,d:l.br},bottomline:{o:l.br,d:l.bl},leftline:{o:l.bl,d:l.tl}};return s},_findCrossPoints:function(l,s){var h,g,d,m,b,_=0,x;for(var A in s)if(x=s[A],!(x.o.y<l.y&&x.d.y<l.y)&&!(x.o.y>=l.y&&x.d.y>=l.y)&&(x.o.x===x.d.x&&x.o.x>=l.x?b=x.o.x:(h=0,g=(x.d.y-x.o.y)/(x.d.x-x.o.x),d=l.y-h*l.x,m=x.o.y-g*x.o.x,b=-(d-m)/(h-g)),b>=l.x&&(_+=1),_===2))break;return _},getBoundingRect:function(l,s){var h=this.getCoords(l,s);return i.makeBoundingBoxFromPoints(h)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(l){return Math.abs(l)<this.minScaleLimit?l<0?-this.minScaleLimit:this.minScaleLimit:l===0?1e-4:l},scale:function(l){return this._set("scaleX",l),this._set("scaleY",l),this.setCoords()},scaleToWidth:function(l,s){var h=this.getBoundingRect(s).width/this.getScaledWidth();return this.scale(l/this.width/h)},scaleToHeight:function(l,s){var h=this.getBoundingRect(s).height/this.getScaledHeight();return this.scale(l/this.height/h)},calcLineCoords:function(){var l=this.getViewportTransform(),s=this.padding,h=u(this.angle),g=i.cos(h),d=i.sin(h),m=g*s,b=d*s,_=m+b,x=m-b,A=this.calcACoords(),L={tl:a(A.tl,l),tr:a(A.tr,l),bl:a(A.bl,l),br:a(A.br,l)};return s&&(L.tl.x-=x,L.tl.y-=_,L.tr.x+=_,L.tr.y-=x,L.bl.x-=_,L.bl.y+=x,L.br.x+=x,L.br.y+=_),L},calcOCoords:function(){var l=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),h=this.getViewportTransform(),g=f(h,s),d=f(g,l),d=f(d,[1/h[0],0,0,1/h[3],0,0]),m=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(_,x,A){b[x]=_.positionHandler(m,d,A)}),b},calcACoords:function(){var l=this._calcRotateMatrix(),s=this._calcTranslateMatrix(),h=f(s,l),g=this._getTransformedDimensions(),d=g.x/2,m=g.y/2;return{tl:a({x:-d,y:-m},h),tr:a({x:d,y:-m},h),bl:a({x:-d,y:m},h),br:a({x:d,y:m},h)}},setCoords:function(l){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),l?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return i.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var l=this.getCenterPoint();return[1,0,0,1,l.x,l.y]},transformMatrixKey:function(l){var s="_",h="";return!l&&this.group&&(h=this.group.transformMatrixKey(l)+s),h+this.top+s+this.left+s+this.scaleX+s+this.scaleY+s+this.skewX+s+this.skewY+s+this.angle+s+this.originX+s+this.originY+s+this.width+s+this.height+s+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(l){var s=this.calcOwnMatrix();if(l||!this.group)return s;var h=this.transformMatrixKey(l),g=this.matrixCache||(this.matrixCache={});return g.key===h?g.value:(this.group&&(s=f(this.group.calcTransformMatrix(!1),s)),g.key=h,g.value=s,s)},calcOwnMatrix:function(){var l=this.transformMatrixKey(!0),s=this.ownMatrixCache||(this.ownMatrixCache={});if(s.key===l)return s.value;var h=this._calcTranslateMatrix(),g={angle:this.angle,translateX:h[4],translateY:h[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return s.key=l,s.value=i.composeMatrix(g),s.value},_getNonTransformedDimensions:function(){var l=this.strokeWidth,s=this.width+l,h=this.height+l;return{x:s,y:h}},_getTransformedDimensions:function(l,s){typeof l>"u"&&(l=this.skewX),typeof s>"u"&&(s=this.skewY);var h,g,d,m=l===0&&s===0;if(this.strokeUniform?(g=this.width,d=this.height):(h=this._getNonTransformedDimensions(),g=h.x,d=h.y),m)return this._finalizeDimensions(g*this.scaleX,d*this.scaleY);var b=i.sizeAfterTransform(g,d,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:l,skewY:s});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(l,s){return this.strokeUniform?{x:l+this.strokeWidth,y:s+this.strokeWidth}:{x:l,y:s}},_calculateCurrentDimensions:function(){var l=this.getViewportTransform(),s=this._getTransformedDimensions(),h=a(s,l,!0);return h.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(o){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,o):this.canvas&&this.canvas.sendBackwards(this,o),this},bringForward:function(o){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,o):this.canvas&&this.canvas.bringForward(this,o),this},moveTo:function(o){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,o):this.canvas&&this.canvas.moveTo(this,o),this}}),function(){function o(u,f){if(f){if(f.toLive)return u+": url(#SVGID_"+f.id+"); ";var a=new t.Color(f),l=u+": "+a.toRgb()+"; ",s=a.getAlpha();return s!==1&&(l+=u+"-opacity: "+s.toString()+"; "),l}else return u+": none; "}var i=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var f=this.fillRule?this.fillRule:"nonzero",a=this.strokeWidth?this.strokeWidth:"0",l=this.strokeDashArray?this.strokeDashArray.join(" "):"none",s=this.strokeDashOffset?this.strokeDashOffset:"0",h=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",d=this.strokeMiterLimit?this.strokeMiterLimit:"4",m=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",_=u?"":this.getSvgFilter(),x=o("fill",this.fill),A=o("stroke",this.stroke);return[A,"stroke-width: ",a,"; ","stroke-dasharray: ",l,"; ","stroke-linecap: ",h,"; ","stroke-dashoffset: ",s,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",d,"; ",x,"fill-rule: ",f,"; ","opacity: ",m,";",_,b].join("")},getSvgSpanStyles:function(u,f){var a="; ",s=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+a:"",l=u.strokeWidth?"stroke-width: "+u.strokeWidth+a:"",s=s,h=u.fontSize?"font-size: "+u.fontSize+"px"+a:"",g=u.fontStyle?"font-style: "+u.fontStyle+a:"",d=u.fontWeight?"font-weight: "+u.fontWeight+a:"",m=u.fill?o("fill",u.fill):"",b=u.stroke?o("stroke",u.stroke):"",_=this.getSvgTextDecoration(u),x=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return _&&(_="text-decoration: "+_+a),[b,l,s,h,g,d,_,m,x,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(f){return u[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,f){var a=u?this.calcTransformMatrix():this.calcOwnMatrix(),l='transform="'+t.util.matrixToSVG(a);return l+(f||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',i(-this.width/2,f),'" y="',i(-this.height/2,f),'" width="',i(this.width,f),'" height="',i(this.height,f),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,f){f=f||{};var a=f.reviver,l=f.additionalTransform||"",s=[this.getSvgTransform(!0,l),this.getSvgCommons()].join(""),h=u.indexOf("COMMON_PARTS");return u[h]=s,a?a(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,f){f=f||{};var a=f.noStyle,l=f.reviver,s=a?"":'style="'+this.getSvgStyles()+'" ',h=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,d=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",m=g&&g.absolutePositioned,b=this.stroke,_=this.fill,x=this.shadow,A,L=[],E,F=u.indexOf("COMMON_PARTS"),Y=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+t.Object.__uid++,E='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(l)+`</clipPath>
`),m&&L.push("<g ",h,this.getSvgCommons(),` >
`),L.push("<g ",this.getSvgTransform(!1),m?"":h+this.getSvgCommons(),` >
`),A=[s,d,a?"":this.addPaintOrder()," ",Y?'transform="'+Y+'" ':""].join(""),u[F]=A,_&&_.toLive&&L.push(_.toSVG(this)),b&&b.toLive&&L.push(b.toSVG(this)),x&&L.push(x.toSVG(this)),g&&L.push(E),L.push(u.join("")),L.push(`</g>
`),m&&L.push(`</g>
`),l?l(L.join("")):L.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var o=t.util.object.extend,i="stateProperties";function u(a,l,s){var h={},g=!0;s.forEach(function(d){h[d]=a[d]}),o(a[l],h,g)}function f(a,l,s){if(a===l)return!0;if(Array.isArray(a)){if(!Array.isArray(l)||a.length!==l.length)return!1;for(var h=0,g=a.length;h<g;h++)if(!f(a[h],l[h]))return!1;return!0}else if(a&&typeof a=="object"){var d=Object.keys(a),m;if(!l||typeof l!="object"||!s&&d.length!==Object.keys(l).length)return!1;for(var h=0,g=d.length;h<g;h++)if(m=d[h],!(m==="canvas"||m==="group")&&!f(a[m],l[m]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(a){a=a||i;var l="_"+a;return Object.keys(this[l]).length<this[a].length?!0:!f(this[l],this,!0)},saveState:function(a){var l=a&&a.propertySet||i,s="_"+l;return this[s]?(u(this,s,this[l]),a&&a.stateProperties&&u(this,s,a.stateProperties),this):this.setupState(a)},setupState:function(a){a=a||{};var l=a.propertySet||i;return a.propertySet=l,this["_"+l]={},this.saveState(a),this}})}(),function(){var o=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(i,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=i.x,a=i.y,l,s,h=Object.keys(this.oCoords),g=h.length-1,d;for(this.__corner=0;g>=0;g--)if(d=h[g],!!this.isControlVisible(d)&&(s=this._getImageLines(u?this.oCoords[d].touchCorner:this.oCoords[d].corner),l=this._findCrossPoints({x:f,y:a},s),l!==0&&l%2===1))return this.__corner=d,d;return!1},forEachControl:function(i){for(var u in this.controls)i(this.controls[u],u,this)},_setCornerCoords:function(){var i=this.oCoords;for(var u in i){var f=this.controls[u];i[u].corner=f.calcCornerCoords(this.angle,this.cornerSize,i[u].x,i[u].y,!1),i[u].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,i[u].x,i[u].y,!0)}},drawSelectionBackground:function(i){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;i.save();var u=this.getCenterPoint(),f=this._calculateCurrentDimensions(),a=this.canvas.viewportTransform;return i.translate(u.x,u.y),i.scale(1/a[0],1/a[3]),i.rotate(o(this.angle)),i.fillStyle=this.selectionBackgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),i.restore(),this},drawBorders:function(i,u){u=u||{};var f=this._calculateCurrentDimensions(),a=this.borderScaleFactor,l=f.x+a,s=f.y+a,h=typeof u.hasControls<"u"?u.hasControls:this.hasControls,g=!1;return i.save(),i.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(i,u.borderDashArray||this.borderDashArray),i.strokeRect(-l/2,-s/2,l,s),h&&(i.beginPath(),this.forEachControl(function(d,m,b){d.withConnection&&d.getVisibility(b,m)&&(g=!0,i.moveTo(d.x*l,d.y*s),i.lineTo(d.x*l+d.offsetX,d.y*s+d.offsetY))}),g&&i.stroke()),i.restore(),this},drawBordersInGroup:function(i,u,f){f=f||{};var a=t.util.sizeAfterTransform(this.width,this.height,u),l=this.strokeWidth,s=this.strokeUniform,h=this.borderScaleFactor,g=a.x+l*(s?this.canvas.getZoom():u.scaleX)+h,d=a.y+l*(s?this.canvas.getZoom():u.scaleY)+h;return i.save(),this._setLineDash(i,f.borderDashArray||this.borderDashArray),i.strokeStyle=f.borderColor||this.borderColor,i.strokeRect(-g/2,-d/2,g,d),i.restore(),this},drawControls:function(i,u){u=u||{},i.save();var f=1,a,l;return this.canvas&&(f=this.canvas.getRetinaScaling()),i.setTransform(f,0,0,f,0,0),i.strokeStyle=i.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(i.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(i,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(a=this.group.calcTransformMatrix()),this.forEachControl(function(s,h,g){l=g.oCoords[h],s.getVisibility(g,h)&&(a&&(l=t.util.transformPoint(l,a)),s.render(i,l.x,l.y,u,g))}),i.restore(),this},isControlVisible:function(i){return this.controls[i]&&this.controls[i].getVisibility(this,i)},setControlVisible:function(i,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[i]=u,this},setControlsVisibility:function(i){i||(i={});for(var u in i)this.setControlVisible(u,i[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(o,i){i=i||{};var u=function(){},f=i.onComplete||u,a=i.onChange||u,l=this;return t.util.animate({target:this,startValue:o.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(s){o.set("left",s),l.requestRenderAll(),a()},onComplete:function(){o.setCoords(),f()}})},fxCenterObjectV:function(o,i){i=i||{};var u=function(){},f=i.onComplete||u,a=i.onChange||u,l=this;return t.util.animate({target:this,startValue:o.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(s){o.set("top",s),l.requestRenderAll(),a()},onComplete:function(){o.setCoords(),f()}})},fxRemove:function(o,i){i=i||{};var u=function(){},f=i.onComplete||u,a=i.onChange||u,l=this;return t.util.animate({target:this,startValue:o.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(s){o.set("opacity",s),l.requestRenderAll(),a()},onComplete:function(){l.remove(o),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var o=[],i,u,f=[];for(i in arguments[0])o.push(i);for(var a=0,l=o.length;a<l;a++)i=o[a],u=a!==l-1,f.push(this._animate(i,arguments[0][i],arguments[1],u));return f}else return this._animate.apply(this,arguments)},_animate:function(o,i,u,f){var a=this,l;i=i.toString(),u?u=t.util.object.clone(u):u={},~o.indexOf(".")&&(l=o.split("."));var s=a.colorProperties.indexOf(o)>-1||l&&a.colorProperties.indexOf(l[1])>-1,h=l?this.get(l[0])[l[1]]:this.get(o);"from"in u||(u.from=h),s||(~i.indexOf("=")?i=h+parseFloat(i.replace("=","")):i=parseFloat(i));var g={target:this,startValue:u.from,endValue:i,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(d,m,b){return u.abort.call(a,d,m,b)},onChange:function(d,m,b){l?a[l[0]][l[1]]=d:a.set(o,d),!f&&u.onChange&&u.onChange(d,m,b)},onComplete:function(d,m,b){f||(a.setCoords(),u.onComplete&&u.onComplete(d,m,b))}};return s?t.util.animateColor(g.startValue,g.endValue,g.duration,g):t.util.animate(g)}}),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.util.object.clone,a={x1:1,x2:1,y1:1,y2:1};if(i.Line){i.warn("fabric.Line is already defined");return}i.Line=i.util.createClass(i.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:i.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(s,h){s||(s=[0,0,0,0]),this.callSuper("initialize",h),this.set("x1",s[0]),this.set("y1",s[1]),this.set("x2",s[2]),this.set("y2",s[3]),this._setWidthHeight(h)},_setWidthHeight:function(s){s||(s={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in s?s.left:this._getLeftToOriginX(),this.top="top"in s?s.top:this._getTopToOriginY()},_set:function(s,h){return this.callSuper("_set",s,h),typeof a[s]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:l({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:l({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(s){s.beginPath();var h=this.calcLinePoints();s.moveTo(h.x1,h.y1),s.lineTo(h.x2,h.y2),s.lineWidth=this.strokeWidth;var g=s.strokeStyle;s.strokeStyle=this.stroke||s.fillStyle,this.stroke&&this._renderStroke(s),s.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(s){return u(this.callSuper("toObject",s),this.calcLinePoints())},_getNonTransformedDimensions:function(){var s=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(s.y-=this.strokeWidth),this.height===0&&(s.x-=this.strokeWidth)),s},calcLinePoints:function(){var s=this.x1<=this.x2?-1:1,h=this.y1<=this.y2?-1:1,g=s*this.width*.5,d=h*this.height*.5,m=s*this.width*-.5,b=h*this.height*-.5;return{x1:g,x2:m,y1:d,y2:b}},_toSVG:function(){var s=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,`" />
`]}}),i.Line.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),i.Line.fromElement=function(s,h,g){g=g||{};var d=i.parseAttributes(s,i.Line.ATTRIBUTE_NAMES),m=[d.x1||0,d.y1||0,d.x2||0,d.y2||0];h(new i.Line(m,u(d,g)))},i.Line.fromObject=function(s,h){function g(m){delete m.points,h&&h(m)}var d=f(s,!0);d.points=[s.x1,s.y1,s.x2,s.y2],i.Object._fromObject("Line",d,g,"points")};function l(s,h){var g=s.origin,d=s.axis1,m=s.axis2,b=s.dimension,_=h.nearest,x=h.center,A=h.farthest;return function(){switch(this.get(g)){case _:return Math.min(this.get(d),this.get(m));case x:return Math.min(this.get(d),this.get(m))+.5*this.get(b);case A:return Math.max(this.get(d),this.get(m))}}}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.degreesToRadians;if(i.Circle){i.warn("fabric.Circle is already defined.");return}i.Circle=i.util.createClass(i.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:i.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(a,l){return this.callSuper("_set",a,l),a==="radius"&&this.setRadius(l),this},toObject:function(a){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(a))},_toSVG:function(){var a,l=0,s=0,h=(this.endAngle-this.startAngle)%360;if(h===0)a=["<circle ","COMMON_PARTS",'cx="'+l+'" cy="'+s+'" ','r="',this.radius,`" />
`];else{var g=u(this.startAngle),d=u(this.endAngle),m=this.radius,b=i.util.cos(g)*m,_=i.util.sin(g)*m,x=i.util.cos(d)*m,A=i.util.sin(d)*m,L=h>180?"1":"0";a=['<path d="M '+b+" "+_," A "+m+" "+m," 0 ",+L+" 1"," "+x+" "+A,'" ',"COMMON_PARTS",` />
`]}return a},_render:function(a){a.beginPath(),a.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(a)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(a){return this.radius=a,this.set("width",a*2).set("height",a*2)}}),i.Circle.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),i.Circle.fromElement=function(a,l){var s=i.parseAttributes(a,i.Circle.ATTRIBUTE_NAMES);if(!f(s))throw new Error("value of `r` attribute is required and can not be negative");s.left=(s.left||0)-s.radius,s.top=(s.top||0)-s.radius,l(new i.Circle(s))};function f(a){return"radius"in a&&a.radius>=0}i.Circle.fromObject=function(a,l){i.Object._fromObject("Circle",a,l)}}(e),function(o){var i=o.fabric||(o.fabric={});if(i.Triangle){i.warn("fabric.Triangle is already defined");return}i.Triangle=i.util.createClass(i.Object,{type:"triangle",width:100,height:100,_render:function(u){var f=this.width/2,a=this.height/2;u.beginPath(),u.moveTo(-f,a),u.lineTo(0,-a),u.lineTo(f,a),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,f=this.height/2,a=[-u+" "+f,"0 "+-f,u+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',a,'" />']}}),i.Triangle.fromObject=function(u,f){return i.Object._fromObject("Triangle",u,f)}}(e),function(o){var i=o.fabric||(o.fabric={}),u=Math.PI*2;if(i.Ellipse){i.warn("fabric.Ellipse is already defined.");return}i.Ellipse=i.util.createClass(i.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,a){switch(this.callSuper("_set",f,a),f){case"rx":this.rx=a,this.set("width",a*2);break;case"ry":this.ry=a,this.set("height",a*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,u,!1),f.restore(),this._renderPaintInOrder(f)}}),i.Ellipse.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),i.Ellipse.fromElement=function(f,a){var l=i.parseAttributes(f,i.Ellipse.ATTRIBUTE_NAMES);l.left=(l.left||0)-l.rx,l.top=(l.top||0)-l.ry,a(new i.Ellipse(l))},i.Ellipse.fromObject=function(f,a){i.Object._fromObject("Ellipse",f,a)}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend;if(i.Rect){i.warn("fabric.Rect is already defined");return}i.Rect=i.util.createClass(i.Object,{stateProperties:i.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:i.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var a=this.rx?Math.min(this.rx,this.width/2):0,l=this.ry?Math.min(this.ry,this.height/2):0,s=this.width,h=this.height,g=-this.width/2,d=-this.height/2,m=a!==0||l!==0,b=1-.5522847498;f.beginPath(),f.moveTo(g+a,d),f.lineTo(g+s-a,d),m&&f.bezierCurveTo(g+s-b*a,d,g+s,d+b*l,g+s,d+l),f.lineTo(g+s,d+h-l),m&&f.bezierCurveTo(g+s,d+h-b*l,g+s-b*a,d+h,g+s-a,d+h),f.lineTo(g+a,d+h),m&&f.bezierCurveTo(g+b*a,d+h,g,d+h-b*l,g,d+h-l),f.lineTo(g,d+l),m&&f.bezierCurveTo(g,d+b*l,g+b*a,d,g+a,d),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,a=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',a,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),i.Rect.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),i.Rect.fromElement=function(f,a,l){if(!f)return a(null);l=l||{};var s=i.parseAttributes(f,i.Rect.ATTRIBUTE_NAMES);s.left=s.left||0,s.top=s.top||0,s.height=s.height||0,s.width=s.width||0;var h=new i.Rect(u(l?i.util.object.clone(l):{},s));h.visible=h.visible&&h.width>0&&h.height>0,a(h)},i.Rect.fromObject=function(f,a){return i.Object._fromObject("Rect",f,a)}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.util.array.min,a=i.util.array.max,l=i.util.toFixed,s=i.util.projectStrokeOnPoints;if(i.Polyline){i.warn("fabric.Polyline is already defined");return}i.Polyline=i.util.createClass(i.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:i.Object.prototype.cacheProperties.concat("points"),initialize:function(h,g){g=g||{},this.points=h||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return s(this.points,this,!0)},_setPositionDimensions:function(h){var g=this._calcDimensions(h),d,m=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-m,this.height=g.height-m,h.fromSVG||(d=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+m/2,y:g.top-this.strokeWidth/2+m/2},"left","top",this.originX,this.originY)),typeof h.left>"u"&&(this.left=h.fromSVG?g.left:d.x),typeof h.top>"u"&&(this.top=h.fromSVG?g.top:d.y),this.pathOffset={x:g.left+this.width/2+m/2,y:g.top+this.height/2+m/2}},_calcDimensions:function(){var h=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(h,"x")||0,d=f(h,"y")||0,m=a(h,"x")||0,b=a(h,"y")||0,_=m-g,x=b-d;return{left:g,top:d,width:_,height:x}},toObject:function(h){return u(this.callSuper("toObject",h),{points:this.points.concat()})},_toSVG:function(){for(var h=[],g=this.pathOffset.x,d=this.pathOffset.y,m=i.Object.NUM_FRACTION_DIGITS,b=0,_=this.points.length;b<_;b++)h.push(l(this.points[b].x-g,m),",",l(this.points[b].y-d,m)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',h.join(""),`" />
`]},commonRender:function(h){var g,d=this.points.length,m=this.pathOffset.x,b=this.pathOffset.y;if(!d||isNaN(this.points[d-1].y))return!1;h.beginPath(),h.moveTo(this.points[0].x-m,this.points[0].y-b);for(var _=0;_<d;_++)g=this.points[_],h.lineTo(g.x-m,g.y-b);return!0},_render:function(h){!this.commonRender(h)||this._renderPaintInOrder(h)},complexity:function(){return this.get("points").length}}),i.Polyline.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polyline.fromElementGenerator=function(h){return function(g,d,m){if(!g)return d(null);m||(m={});var b=i.parsePointsAttribute(g.getAttribute("points")),_=i.parseAttributes(g,i[h].ATTRIBUTE_NAMES);_.fromSVG=!0,d(new i[h](b,u(_,m)))}},i.Polyline.fromElement=i.Polyline.fromElementGenerator("Polyline"),i.Polyline.fromObject=function(h,g){return i.Object._fromObject("Polyline",h,g,"points")}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.projectStrokeOnPoints;if(i.Polygon){i.warn("fabric.Polygon is already defined");return}i.Polygon=i.util.createClass(i.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(f){!this.commonRender(f)||(f.closePath(),this._renderPaintInOrder(f))}}),i.Polygon.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(),i.Polygon.fromElement=i.Polyline.fromElementGenerator("Polygon"),i.Polygon.fromObject=function(f,a){i.Object._fromObject("Polygon",f,a,"points")}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.array.min,f=i.util.array.max,a=i.util.object.extend,l=i.util.object.clone,s=i.util.toFixed;if(i.Path){i.warn("fabric.Path is already defined");return}i.Path=i.util.createClass(i.Object,{type:"path",path:null,cacheProperties:i.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:i.Object.prototype.stateProperties.concat("path"),initialize:function(h,g){g=l(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(h||[],g)},_setPath:function(h,g){this.path=i.util.makePathSimpler(Array.isArray(h)?h:i.util.parsePath(h)),i.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(h){var g,d=0,m=0,b=0,_=0,x=0,A=0,L=-this.pathOffset.x,E=-this.pathOffset.y;h.beginPath();for(var F=0,Y=this.path.length;F<Y;++F)switch(g=this.path[F],g[0]){case"L":b=g[1],_=g[2],h.lineTo(b+L,_+E);break;case"M":b=g[1],_=g[2],d=b,m=_,h.moveTo(b+L,_+E);break;case"C":b=g[5],_=g[6],x=g[3],A=g[4],h.bezierCurveTo(g[1]+L,g[2]+E,x+L,A+E,b+L,_+E);break;case"Q":h.quadraticCurveTo(g[1]+L,g[2]+E,g[3]+L,g[4]+E),b=g[3],_=g[4],x=g[1],A=g[2];break;case"z":case"Z":b=d,_=m,h.closePath();break}},_render:function(h){this._renderPathCommands(h),this._renderPaintInOrder(h)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(h){return a(this.callSuper("toObject",h),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(h){var g=this.toObject(["sourcePath"].concat(h));return g.sourcePath&&delete g.path,g},_toSVG:function(){var h=i.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',h,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var h=i.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,h)+", "+s(-this.pathOffset.y,h)+")"},toClipPathSVG:function(h){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:g})},toSVG:function(h){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var h=[],g=[],d,m=0,b=0,_=0,x=0,A,L=0,E=this.path.length;L<E;++L){switch(d=this.path[L],d[0]){case"L":_=d[1],x=d[2],A=[];break;case"M":_=d[1],x=d[2],m=_,b=x,A=[];break;case"C":A=i.util.getBoundsOfCurve(_,x,d[1],d[2],d[3],d[4],d[5],d[6]),_=d[5],x=d[6];break;case"Q":A=i.util.getBoundsOfCurve(_,x,d[1],d[2],d[1],d[2],d[3],d[4]),_=d[3],x=d[4];break;case"z":case"Z":_=m,x=b;break}A.forEach(function(Z){h.push(Z.x),g.push(Z.y)}),h.push(_),g.push(x)}var F=u(h)||0,Y=u(g)||0,et=f(h)||0,j=f(g)||0,M=et-F,tt=j-Y;return{left:F,top:Y,width:M,height:tt}}}),i.Path.fromObject=function(h,g){if(typeof h.sourcePath=="string"){var d=h.sourcePath;i.loadSVGFromURL(d,function(m){var b=m[0];b.setOptions(h),h.clipPath?i.util.enlivenObjects([h.clipPath],function(_){b.clipPath=_[0],g&&g(b)}):g&&g(b)})}else i.Object._fromObject("Path",h,g,"path")},i.Path.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat(["d"]),i.Path.fromElement=function(h,g,d){var m=i.parseAttributes(h,i.Path.ATTRIBUTE_NAMES);m.fromSVG=!0,g(new i.Path(m.d,a(m,d)))}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.array.min,f=i.util.array.max;i.Group||(i.Group=i.util.createClass(i.Object,i.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(a,l,s){l=l||{},this._objects=[],s&&this.callSuper("initialize",l),this._objects=a||[];for(var h=this._objects.length;h--;)this._objects[h].group=this;if(s)this._updateObjectsACoords();else{var g=l&&l.centerPoint;l.originX!==void 0&&(this.originX=l.originX),l.originY!==void 0&&(this.originY=l.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete l.centerPoint,this.callSuper("initialize",l)}this.setCoords()},_updateObjectsACoords:function(){for(var a=!0,l=this._objects.length;l--;)this._objects[l].setCoords(a)},_updateObjectsCoords:function(l){for(var l=l||this.getCenterPoint(),s=this._objects.length;s--;)this._updateObjectCoords(this._objects[s],l)},_updateObjectCoords:function(a,l){var s=a.left,h=a.top,g=!0;a.set({left:s-l.x,top:h-l.y}),a.group=this,a.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(a){var l=!!this.group;return this._restoreObjectsState(),i.util.resetObjectTransform(this),a&&(l&&i.util.removeTransformFromObject(a,this.group.calcTransformMatrix()),this._objects.push(a),a.group=this,a._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,l?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(a){return this._restoreObjectsState(),i.util.resetObjectTransform(this),this.remove(a),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(a){this.dirty=!0,a.group=this,a._set("canvas",this.canvas)},_onObjectRemoved:function(a){this.dirty=!0,delete a.group},_set:function(a,l){var s=this._objects.length;if(this.useSetOnGroup)for(;s--;)this._objects[s].setOnGroup(a,l);if(a==="canvas")for(;s--;)this._objects[s]._set(a,l);i.Object.prototype._set.call(this,a,l)},toObject:function(a){var l=this.includeDefaultValues,s=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var d=g.includeDefaultValues;g.includeDefaultValues=l;var m=g.toObject(a);return g.includeDefaultValues=d,m}),h=i.Object.prototype.toObject.call(this,a);return h.objects=s,h},toDatalessObject:function(a){var l,s=this.sourcePath;if(s)l=s;else{var h=this.includeDefaultValues;l=this._objects.map(function(d){var m=d.includeDefaultValues;d.includeDefaultValues=h;var b=d.toDatalessObject(a);return d.includeDefaultValues=m,b})}var g=i.Object.prototype.toDatalessObject.call(this,a);return g.objects=l,g},render:function(a){this._transformDone=!0,this.callSuper("render",a),this._transformDone=!1},shouldCache:function(){var a=i.Object.prototype.shouldCache.call(this);if(a){for(var l=0,s=this._objects.length;l<s;l++)if(this._objects[l].willDrawShadow())return this.ownCaching=!1,!1}return a},willDrawShadow:function(){if(i.Object.prototype.willDrawShadow.call(this))return!0;for(var a=0,l=this._objects.length;a<l;a++)if(this._objects[a].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(a){for(var l=0,s=this._objects.length;l<s;l++)this._objects[l].render(a);this._drawClipPath(a,this.clipPath)},isCacheDirty:function(a){if(this.callSuper("isCacheDirty",a))return!0;if(!this.statefullCache)return!1;for(var l=0,s=this._objects.length;l<s;l++)if(this._objects[l].isCacheDirty(!0)){if(this._cacheCanvas){var h=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-h/2,-g/2,h,g)}return!0}return!1},_restoreObjectsState:function(){var a=this.calcOwnMatrix();return this._objects.forEach(function(l){i.util.addTransformToObject(l,a),delete l.group,l.setCoords()}),this},destroy:function(){return this._objects.forEach(function(a){a.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(a){a.dispose&&a.dispose()}),this._objects=[]},toActiveSelection:function(){if(!!this.canvas){var a=this._objects,l=this.canvas;this._objects=[];var s=this.toObject();delete s.objects;var h=new i.ActiveSelection([]);return h.set(s),h.type="activeSelection",l.remove(this),a.forEach(function(g){g.group=h,g.dirty=!0,l.add(g)}),h.canvas=l,h._objects=a,l._activeObject=h,h.setCoords(),h}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var a=!0;return this.forEachObject(function(l){l.setCoords(a)}),this},_calcBounds:function(a){for(var l=[],s=[],h,g,d,m=["tr","br","bl","tl"],b=0,_=this._objects.length,x,A=m.length;b<_;++b){for(h=this._objects[b],d=h.calcACoords(),x=0;x<A;x++)g=m[x],l.push(d[g].x),s.push(d[g].y);h.aCoords=d}this._getBounds(l,s,a)},_getBounds:function(a,l,s){var h=new i.Point(u(a),u(l)),g=new i.Point(f(a),f(l)),d=h.y||0,m=h.x||0,b=g.x-h.x||0,_=g.y-h.y||0;this.width=b,this.height=_,s||this.setPositionByOrigin({x:m,y:d},"left","top")},_toSVG:function(a){for(var l=["<g ","COMMON_PARTS",` >
`],s=0,h=this._objects.length;s<h;s++)l.push("		",this._objects[s].toSVG(a));return l.push(`</g>
`),l},getSvgStyles:function(){var a=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",l=this.visible?"":" visibility: hidden;";return[a,this.getSvgFilter(),l].join("")},toClipPathSVG:function(a){for(var l=[],s=0,h=this._objects.length;s<h;s++)l.push("	",this._objects[s].toClipPathSVG(a));return this._createBaseClipPathSVGMarkup(l,{reviver:a})}}),i.Group.fromObject=function(a,l){var s=a.objects,h=i.util.object.clone(a,!0);if(delete h.objects,typeof s=="string"){i.loadSVGFromURL(s,function(g){var d=i.util.groupSVGElements(g,a,s),m=h.clipPath;delete h.clipPath,d.set(h),m?i.util.enlivenObjects([m],function(b){d.clipPath=b[0],l&&l(d)}):l&&l(d)});return}i.util.enlivenObjects(s,function(g){i.util.enlivenObjectEnlivables(a,h,function(){l&&l(new i.Group(g,h,!0))})})})}(e),function(o){var i=o.fabric||(o.fabric={});i.ActiveSelection||(i.ActiveSelection=i.util.createClass(i.Group,{type:"activeSelection",initialize:function(u,f){f=f||{},this._objects=u||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),i.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var f=i.Object.prototype.toObject.call(this),a=new i.Group([]);if(delete f.type,a.set(f),u.forEach(function(s){s.canvas.remove(s),s.group=a}),a._objects=u,!this.canvas)return a;var l=this.canvas;return l.add(a),l._activeObject=a,a.setCoords(),a},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,f,a){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,a=a||{},typeof a.hasControls>"u"&&(a.hasControls=!1),a.forActiveSelection=!0;for(var l=0,s=this._objects.length;l<s;l++)this._objects[l]._renderControls(u,a);this.callSuper("_renderControls",u,f),u.restore()}}),i.ActiveSelection.fromObject=function(u,f){i.util.enlivenObjects(u.objects,function(a){delete u.objects,f&&f(new i.ActiveSelection(a,u,!0))})})}(e),function(o){var i=t.util.object.extend;if(o.fabric||(o.fabric={}),o.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(u,f)},getElement:function(){return this._element||{}},setElement:function(u,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,a=this.height/2;u.beginPath(),u.moveTo(-f,-a),u.lineTo(f,-a),u.lineTo(f,a),u.lineTo(-f,a),u.lineTo(-f,-a),u.closePath()}},toObject:function(u){var f=[];this.filters.forEach(function(l){l&&f.push(l.toObject())});var a=i(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(a.resizeFilter=this.resizeFilter.toObject()),a},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],f=[],a,l=this._element,s=-this.width/2,h=-this.height/2,g="",d="";if(!l)return[];if(this.hasCrop()){var m=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+m+`">
`,'	<rect x="'+s+'" y="'+h+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+m+')" '}if(this.imageSmoothing||(d='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',s-this.cropX,'" y="',h-this.cropY,'" width="',l.width||l.naturalWidth,'" height="',l.height||l.height,d,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,a=["	<rect ",'x="',s,'" y="',h,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?u=u.concat(a,f):u=u.concat(f,a),u},getSrc:function(u){var f=u?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(u,f,a){return t.util.loadImage(u,function(l,s){this.setElement(l,a),this._setWidthHeight(),f&&f(this,s)},this,a&&a.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,f=this.minimumScaleTrigger,a=this.getTotalObjectScaling(),l=a.scaleX,s=a.scaleY,h=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||l>f&&s>f){this._element=h,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=l,this._lastScaleY=s;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var g=t.util.createCanvasElement(),d=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,m=h.width,b=h.height;g.width=m,g.height=b,this._element=g,this._lastScaleX=u.scaleX=l,this._lastScaleY=u.scaleY=s,t.filterBackend.applyFilters([u],h,m,b,this._element,d),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(h){return h&&!h.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,a=f.naturalWidth||f.width,l=f.naturalHeight||f.height;if(this._element===this._originalElement){var s=t.util.createCanvasElement();s.width=a,s.height=l,this._element=s,this._filteredEl=s}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,a,l),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,a,l,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var f=this._element;if(!!f){var a=this._filterScalingX,l=this._filterScalingY,s=this.width,h=this.height,g=Math.min,d=Math.max,m=d(this.cropX,0),b=d(this.cropY,0),_=f.naturalWidth||f.width,x=f.naturalHeight||f.height,A=m*a,L=b*l,E=g(s*a,_-A),F=g(h*l,x-L),Y=-s/2,et=-h/2,j=g(s,_/a-m),M=g(h,x/l-b);f&&u.drawImage(f,A,L,E,F,Y,et,j,M)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,f){this.setElement(t.util.getById(u),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,f){u&&u.length?t.util.enlivenObjects(u,function(a){f&&f(a)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(u){u||(u={});var f=this.getElement();this.width=u.width||f.naturalWidth||f.width||0,this.height=u.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,a=this._element.height,l=1,s=1,h=0,g=0,d=0,m=0,b,_=this.width,x=this.height,A={width:_,height:x};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(l=s=t.util.findScaleToFit(this._element,A),b=(_-f*l)/2,u.alignX==="Min"&&(h=-b),u.alignX==="Max"&&(h=b),b=(x-a*s)/2,u.alignY==="Min"&&(g=-b),u.alignY==="Max"&&(g=b)),u.meetOrSlice==="slice"&&(l=s=t.util.findScaleToCover(this._element,A),b=f-_/l,u.alignX==="Mid"&&(d=b/2),u.alignX==="Max"&&(d=b),b=a-x/s,u.alignY==="Mid"&&(m=b/2),u.alignY==="Max"&&(m=b),f=_/l,a=x/s)):(l=_/f,s=x/a),{width:f,height:a,scaleX:l,scaleY:s,offsetLeft:h,offsetTop:g,cropX:d,cropY:m}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,f){var a=t.util.object.clone(u);t.util.loadImage(a.src,function(l,s){if(s){f&&f(null,!0);return}t.Image.prototype._initFilters.call(a,a.filters,function(h){a.filters=h||[],t.Image.prototype._initFilters.call(a,[a.resizeFilter],function(g){a.resizeFilter=g[0],t.util.enlivenObjectEnlivables(a,a,function(){var d=new t.Image(l,a);f(d,!1)})})})},null,a.crossOrigin)},t.Image.fromURL=function(u,f,a){t.util.loadImage(u,function(l,s){f&&f(new t.Image(l,a),s)},null,a&&a.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,f,a){var l=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(l["xlink:href"],f,i(a?t.util.object.clone(a):{},l))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var o=this.angle%360;return o>0?Math.round((o-1)/90)*90:Math.round(o/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(o){o=o||{};var i=function(){},u=o.onComplete||i,f=o.onChange||i,a=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(l){a.rotate(l),f()},onComplete:function(){a.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(o){return o.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(o){return o.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function o(u,f){var a="precision "+f+` float;
void main(){}`,l=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(l,a),u.compileShader(l),!!u.getShaderParameter(l,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),a=f.getContext("webgl")||f.getContext("experimental-webgl"),l=!1;if(a){t.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE),l=t.maxTextureSize>=u;for(var s=["highp","mediump","lowp"],h=0;h<3;h++)if(o(a,s[h])){t.webGlPrecision=s[h];break}}return this.isSupported=l,l},t.WebglFilterBackend=i;function i(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}i.prototype={tileSize:2048,resources:{},setupGLContext:function(u,f){this.dispose(),this.createWebGLCanvas(u,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,f)},chooseFastestCopyGLTo2DMethod:function(u,f){var a=typeof window.performance<"u",l;try{new ImageData(1,1),l=!0}catch{l=!1}var s=typeof ArrayBuffer<"u",h=typeof Uint8ClampedArray<"u";if(!!(a&&l&&s&&h)){var g=t.util.createCanvasElement(),d=new ArrayBuffer(u*f*4);if(t.forceGLPutImageData){this.imageBuffer=d,this.copyGLTo2D=v;return}var m={imageBuffer:d,destinationWidth:u,destinationHeight:f,targetCanvas:g},b,_,x;g.width=u,g.height=f,b=window.performance.now(),p.call(m,this.gl,m),_=window.performance.now()-b,b=window.performance.now(),v.call(m,this.gl,m),x=window.performance.now()-b,_>x?(this.imageBuffer=d,this.copyGLTo2D=v):this.copyGLTo2D=p}},createWebGLCanvas:function(u,f){var a=t.util.createCanvasElement();a.width=u,a.height=f;var l={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},s=a.getContext("webgl",l);s||(s=a.getContext("experimental-webgl",l)),s&&(s.clearColor(0,0,0,0),this.canvas=a,this.gl=s)},applyFilters:function(u,f,a,l,s,h){var g=this.gl,d;h&&(d=this.getCachedTexture(h,f));var m={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:a,sourceHeight:l,destinationWidth:a,destinationHeight:l,context:g,sourceTexture:this.createTexture(g,a,l,!d&&f),targetTexture:this.createTexture(g,a,l),originalTexture:d||this.createTexture(g,a,l,!d&&f),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:s},b=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,b),u.forEach(function(_){_&&_.applyTo(m)}),c(m),this.copyGLTo2D(g,m),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(m.sourceTexture),g.deleteTexture(m.targetTexture),g.deleteFramebuffer(b),s.getContext("2d").setTransform(1,0,0,1,0,0),m},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,f,a,l,s){var h=u.createTexture();return u.bindTexture(u.TEXTURE_2D,h),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,s||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,s||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),l?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,l):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,f,a,0,u.RGBA,u.UNSIGNED_BYTE,null),h},getCachedTexture:function(u,f){if(this.textureCache[u])return this.textureCache[u];var a=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[u]=a,a},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:p,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,f={renderer:"",vendor:""};if(!u)return f;var a=u.getExtension("WEBGL_debug_renderer_info");if(a){var l=u.getParameter(a.UNMASKED_RENDERER_WEBGL),s=u.getParameter(a.UNMASKED_VENDOR_WEBGL);l&&(f.renderer=l.toLowerCase()),s&&(f.vendor=s.toLowerCase())}return this.gpuInfo=f,f}}}();function c(o){var i=o.targetCanvas,u=i.width,f=i.height,a=o.destinationWidth,l=o.destinationHeight;(u!==a||f!==l)&&(i.width=a,i.height=l)}function p(o,i){var u=o.canvas,f=i.targetCanvas,a=f.getContext("2d");a.translate(0,f.height),a.scale(1,-1);var l=u.height-f.height;a.drawImage(u,0,l,f.width,f.height,0,0,f.width,f.height)}function v(o,i){var u=i.targetCanvas,f=u.getContext("2d"),a=i.destinationWidth,l=i.destinationHeight,s=a*l*4,h=new Uint8Array(this.imageBuffer,0,s),g=new Uint8ClampedArray(this.imageBuffer,0,s);o.readPixels(0,0,a,l,o.RGBA,o.UNSIGNED_BYTE,h);var d=new ImageData(g,a,l);f.putImageData(d,0,0)}(function(){var o=function(){};t.Canvas2dFilterBackend=i;function i(){}i.prototype={evictCachesForKey:o,dispose:o,clearWebGLCaches:o,resources:{},applyFilters:function(u,f,a,l,s){var h=s.getContext("2d");h.drawImage(f,0,0,a,l);var g=h.getImageData(0,0,a,l),d=h.getImageData(0,0,a,l),m={sourceWidth:a,sourceHeight:l,imageData:g,originalEl:f,originalImageData:d,canvasEl:s,ctx:h,filterBackend:this};return u.forEach(function(b){b.applyTo(m)}),(m.imageData.width!==a||m.imageData.height!==l)&&(s.width=m.imageData.width,s.height=m.imageData.height),h.putImageData(m.imageData,0,0),m}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(o){o&&this.setOptions(o)},setOptions:function(o){for(var i in o)this[i]=o[i]},createProgram:function(o,i,u){i=i||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(i=i.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=o.createShader(o.VERTEX_SHADER);if(o.shaderSource(f,u),o.compileShader(f),!o.getShaderParameter(f,o.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+o.getShaderInfoLog(f));var a=o.createShader(o.FRAGMENT_SHADER);if(o.shaderSource(a,i),o.compileShader(a),!o.getShaderParameter(a,o.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+o.getShaderInfoLog(a));var l=o.createProgram();if(o.attachShader(l,f),o.attachShader(l,a),o.linkProgram(l),!o.getProgramParameter(l,o.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+o.getProgramInfoLog(l));var s=this.getAttributeLocations(o,l),h=this.getUniformLocations(o,l)||{};return h.uStepW=o.getUniformLocation(l,"uStepW"),h.uStepH=o.getUniformLocation(l,"uStepH"),{program:l,attributeLocations:s,uniformLocations:h}},getAttributeLocations:function(o,i){return{aPosition:o.getAttribLocation(i,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(o,i,u){var f=i.aPosition,a=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,a),o.enableVertexAttribArray(f),o.vertexAttribPointer(f,2,o.FLOAT,!1,0,0),o.bufferData(o.ARRAY_BUFFER,u,o.STATIC_DRAW)},_setupFrameBuffer:function(o){var i=o.context,u,f;o.passes>1?(u=o.destinationWidth,f=o.destinationHeight,(o.sourceWidth!==u||o.sourceHeight!==f)&&(i.deleteTexture(o.targetTexture),o.targetTexture=o.filterBackend.createTexture(i,u,f)),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,o.targetTexture,0)):(i.bindFramebuffer(i.FRAMEBUFFER,null),i.finish())},_swapTextures:function(o){o.passes--,o.pass++;var i=o.targetTexture;o.targetTexture=o.sourceTexture,o.sourceTexture=i},isNeutralState:function(){var o=this.mainParameter,i=t.Image.filters[this.type].prototype;if(o)if(Array.isArray(i[o])){for(var u=i[o].length;u--;)if(this[o][u]!==i[o][u])return!1;return!0}else return i[o]===this[o];else return!1},applyTo:function(o){o.webgl?(this._setupFrameBuffer(o),this.applyToWebGL(o),this._swapTextures(o)):this.applyTo2d(o)},retrieveShader:function(o){return o.programCache.hasOwnProperty(this.type)||(o.programCache[this.type]=this.createProgram(o.context)),o.programCache[this.type]},applyToWebGL:function(o){var i=o.context,u=this.retrieveShader(o);o.pass===0&&o.originalTexture?i.bindTexture(i.TEXTURE_2D,o.originalTexture):i.bindTexture(i.TEXTURE_2D,o.sourceTexture),i.useProgram(u.program),this.sendAttributeData(i,u.attributeLocations,o.aPosition),i.uniform1f(u.uniformLocations.uStepW,1/o.sourceWidth),i.uniform1f(u.uniformLocations.uStepH,1/o.sourceHeight),this.sendUniformData(i,u.uniformLocations),i.viewport(0,0,o.destinationWidth,o.destinationHeight),i.drawArrays(i.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(o,i,u){o.activeTexture(u),o.bindTexture(o.TEXTURE_2D,i),o.activeTexture(o.TEXTURE0)},unbindAdditionalTexture:function(o,i){o.activeTexture(i),o.bindTexture(o.TEXTURE_2D,null),o.activeTexture(o.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(o){this[this.mainParameter]=o},sendUniformData:function(){},createHelpLayer:function(o){if(!o.helpLayer){var i=document.createElement("canvas");i.width=o.sourceWidth,i.height=o.sourceHeight,o.helpLayer=i}},toObject:function(){var o={type:this.type},i=this.mainParameter;return i&&(o[i]=this[i]),o},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(o,i){var u=new t.Image.filters[o.type](o);return i&&i(u),u},function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.ColorMatrix=f(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(a){this.callSuper("initialize",a),this.matrix=this.matrix.slice(0)},applyTo2d:function(a){var l=a.imageData,s=l.data,h=s.length,g=this.matrix,d,m,b,_,x,A=this.colorsOnly;for(x=0;x<h;x+=4)d=s[x],m=s[x+1],b=s[x+2],A?(s[x]=d*g[0]+m*g[1]+b*g[2]+g[4]*255,s[x+1]=d*g[5]+m*g[6]+b*g[7]+g[9]*255,s[x+2]=d*g[10]+m*g[11]+b*g[12]+g[14]*255):(_=s[x+3],s[x]=d*g[0]+m*g[1]+b*g[2]+_*g[3]+g[4]*255,s[x+1]=d*g[5]+m*g[6]+b*g[7]+_*g[8]+g[9]*255,s[x+2]=d*g[10]+m*g[11]+b*g[12]+_*g[13]+g[14]*255,s[x+3]=d*g[15]+m*g[16]+b*g[17]+_*g[18]+g[19]*255)},getUniformLocations:function(a,l){return{uColorMatrix:a.getUniformLocation(l,"uColorMatrix"),uConstants:a.getUniformLocation(l,"uConstants")}},sendUniformData:function(a,l){var s=this.matrix,h=[s[0],s[1],s[2],s[3],s[5],s[6],s[7],s[8],s[10],s[11],s[12],s[13],s[15],s[16],s[17],s[18]],g=[s[4],s[9],s[14],s[19]];a.uniformMatrix4fv(l.uColorMatrix,!1,h),a.uniform4fv(l.uConstants,g)}}),i.Image.filters.ColorMatrix.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Brightness=f(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(a){if(this.brightness!==0){var l=a.imageData,s=l.data,h,g=s.length,d=Math.round(this.brightness*255);for(h=0;h<g;h+=4)s[h]=s[h]+d,s[h+1]=s[h+1]+d,s[h+2]=s[h+2]+d}},getUniformLocations:function(a,l){return{uBrightness:a.getUniformLocation(l,"uBrightness")}},sendUniformData:function(a,l){a.uniform1f(l.uBrightness,this.brightness)}}),i.Image.filters.Brightness.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.Image.filters,a=i.util.createClass;f.Convolute=a(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(l){var s=Math.sqrt(this.matrix.length),h=this.type+"_"+s+"_"+(this.opaque?1:0),g=this.fragmentSource[h];return l.programCache.hasOwnProperty(h)||(l.programCache[h]=this.createProgram(l.context,g)),l.programCache[h]},applyTo2d:function(l){var s=l.imageData,h=s.data,g=this.matrix,d=Math.round(Math.sqrt(g.length)),m=Math.floor(d/2),b=s.width,_=s.height,x=l.ctx.createImageData(b,_),A=x.data,L=this.opaque?1:0,E,F,Y,et,j,M,tt,Z,ft,ht,pt,ct,D;for(pt=0;pt<_;pt++)for(ht=0;ht<b;ht++){for(j=(pt*b+ht)*4,E=0,F=0,Y=0,et=0,D=0;D<d;D++)for(ct=0;ct<d;ct++)tt=pt+D-m,M=ht+ct-m,!(tt<0||tt>=_||M<0||M>=b)&&(Z=(tt*b+M)*4,ft=g[D*d+ct],E+=h[Z]*ft,F+=h[Z+1]*ft,Y+=h[Z+2]*ft,L||(et+=h[Z+3]*ft));A[j]=E,A[j+1]=F,A[j+2]=Y,L?A[j+3]=h[j+3]:A[j+3]=et}l.imageData=x},getUniformLocations:function(l,s){return{uMatrix:l.getUniformLocation(s,"uMatrix"),uOpaque:l.getUniformLocation(s,"uOpaque"),uHalfSize:l.getUniformLocation(s,"uHalfSize"),uSize:l.getUniformLocation(s,"uSize")}},sendUniformData:function(l,s){l.uniform1fv(s.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),i.Image.filters.Convolute.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Grayscale=f(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(a){var l=a.imageData,s=l.data,h,g=s.length,d,m=this.mode;for(h=0;h<g;h+=4)m==="average"?d=(s[h]+s[h+1]+s[h+2])/3:m==="lightness"?d=(Math.min(s[h],s[h+1],s[h+2])+Math.max(s[h],s[h+1],s[h+2]))/2:m==="luminosity"&&(d=.21*s[h]+.72*s[h+1]+.07*s[h+2]),s[h]=d,s[h+1]=d,s[h+2]=d},retrieveShader:function(a){var l=this.type+"_"+this.mode;if(!a.programCache.hasOwnProperty(l)){var s=this.fragmentSource[this.mode];a.programCache[l]=this.createProgram(a.context,s)}return a.programCache[l]},getUniformLocations:function(a,l){return{uMode:a.getUniformLocation(l,"uMode")}},sendUniformData:function(a,l){var s=1;a.uniform1i(l.uMode,s)},isNeutralState:function(){return!1}}),i.Image.filters.Grayscale.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Invert=f(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(a){var l=a.imageData,s=l.data,h,g=s.length;for(h=0;h<g;h+=4)s[h]=255-s[h],s[h+1]=255-s[h+1],s[h+2]=255-s[h+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(a,l){return{uInvert:a.getUniformLocation(l,"uInvert")}},sendUniformData:function(a,l){a.uniform1i(l.uInvert,this.invert)}}),i.Image.filters.Invert.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.Image.filters,a=i.util.createClass;f.Noise=a(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(l){if(this.noise!==0){var s=l.imageData,h=s.data,g,d=h.length,m=this.noise,b;for(g=0,d=h.length;g<d;g+=4)b=(.5-Math.random())*m,h[g]+=b,h[g+1]+=b,h[g+2]+=b}},getUniformLocations:function(l,s){return{uNoise:l.getUniformLocation(s,"uNoise"),uSeed:l.getUniformLocation(s,"uSeed")}},sendUniformData:function(l,s){l.uniform1f(s.uNoise,this.noise/255),l.uniform1f(s.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),i.Image.filters.Noise.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Pixelate=f(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(a){var l=a.imageData,s=l.data,h=l.height,g=l.width,d,m,b,_,x,A,L,E,F,Y,et;for(m=0;m<h;m+=this.blocksize)for(b=0;b<g;b+=this.blocksize)for(d=m*4*g+b*4,_=s[d],x=s[d+1],A=s[d+2],L=s[d+3],Y=Math.min(m+this.blocksize,h),et=Math.min(b+this.blocksize,g),E=m;E<Y;E++)for(F=b;F<et;F++)d=E*4*g+F*4,s[d]=_,s[d+1]=x,s[d+2]=A,s[d+3]=L},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(a,l){return{uBlocksize:a.getUniformLocation(l,"uBlocksize"),uStepW:a.getUniformLocation(l,"uStepW"),uStepH:a.getUniformLocation(l,"uStepH")}},sendUniformData:function(a,l){a.uniform1f(l.uBlocksize,this.blocksize)}}),i.Image.filters.Pixelate.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.extend,f=i.Image.filters,a=i.util.createClass;f.RemoveColor=a(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(l){var s=l.imageData,h=s.data,g,d=this.distance*255,m,b,_,x=new i.Color(this.color).getSource(),A=[x[0]-d,x[1]-d,x[2]-d],L=[x[0]+d,x[1]+d,x[2]+d];for(g=0;g<h.length;g+=4)m=h[g],b=h[g+1],_=h[g+2],m>A[0]&&b>A[1]&&_>A[2]&&m<L[0]&&b<L[1]&&_<L[2]&&(h[g+3]=0)},getUniformLocations:function(l,s){return{uLow:l.getUniformLocation(s,"uLow"),uHigh:l.getUniformLocation(s,"uHigh")}},sendUniformData:function(l,s){var h=new i.Color(this.color).getSource(),g=parseFloat(this.distance),d=[0+h[0]/255-g,0+h[1]/255-g,0+h[2]/255-g,1],m=[h[0]/255+g,h[1]/255+g,h[2]/255+g,1];l.uniform4fv(s.uLow,d),l.uniform4fv(s.uHigh,m)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),i.Image.filters.RemoveColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass,a={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var l in a)u[l]=f(u.ColorMatrix,{type:l,matrix:a[l],mainParameter:!1,colorsOnly:!0}),i.Image.filters[l].fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric,u=i.Image.filters,f=i.util.createClass;u.BlendColor=f(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(a){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[a]+`}
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,s;return a.programCache.hasOwnProperty(l)||(s=this.buildSource(this.mode),a.programCache[l]=this.createProgram(a.context,s)),a.programCache[l]},applyTo2d:function(a){var l=a.imageData,s=l.data,h=s.length,g,d,m,b,_,x,A,L=1-this.alpha;A=new i.Color(this.color).getSource(),g=A[0]*this.alpha,d=A[1]*this.alpha,m=A[2]*this.alpha;for(var E=0;E<h;E+=4)switch(b=s[E],_=s[E+1],x=s[E+2],this.mode){case"multiply":s[E]=b*g/255,s[E+1]=_*d/255,s[E+2]=x*m/255;break;case"screen":s[E]=255-(255-b)*(255-g)/255,s[E+1]=255-(255-_)*(255-d)/255,s[E+2]=255-(255-x)*(255-m)/255;break;case"add":s[E]=b+g,s[E+1]=_+d,s[E+2]=x+m;break;case"diff":case"difference":s[E]=Math.abs(b-g),s[E+1]=Math.abs(_-d),s[E+2]=Math.abs(x-m);break;case"subtract":s[E]=b-g,s[E+1]=_-d,s[E+2]=x-m;break;case"darken":s[E]=Math.min(b,g),s[E+1]=Math.min(_,d),s[E+2]=Math.min(x,m);break;case"lighten":s[E]=Math.max(b,g),s[E+1]=Math.max(_,d),s[E+2]=Math.max(x,m);break;case"overlay":s[E]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,s[E+1]=d<128?2*_*d/255:255-2*(255-_)*(255-d)/255,s[E+2]=m<128?2*x*m/255:255-2*(255-x)*(255-m)/255;break;case"exclusion":s[E]=g+b-2*g*b/255,s[E+1]=d+_-2*d*_/255,s[E+2]=m+x-2*m*x/255;break;case"tint":s[E]=g+b*L,s[E+1]=d+_*L,s[E+2]=m+x*L}},getUniformLocations:function(a,l){return{uColor:a.getUniformLocation(l,"uColor")}},sendUniformData:function(a,l){var s=new i.Color(this.color).getSource();s[0]=this.alpha*s[0]/255,s[1]=this.alpha*s[1]/255,s[2]=this.alpha*s[2]/255,s[3]=this.alpha,a.uniform4fv(l.uColor,s)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendColor.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric,u=i.Image.filters,f=i.util.createClass;u.BlendImage=f(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(a){var l=this.type+"_"+this.mode,s=this.fragmentSource[this.mode];return a.programCache.hasOwnProperty(l)||(a.programCache[l]=this.createProgram(a.context,s)),a.programCache[l]},applyToWebGL:function(a){var l=a.context,s=this.createTexture(a.filterBackend,this.image);this.bindAdditionalTexture(l,s,l.TEXTURE1),this.callSuper("applyToWebGL",a),this.unbindAdditionalTexture(l,l.TEXTURE1)},createTexture:function(a,l){return a.getCachedTexture(l.cacheKey,l._element)},calculateMatrix:function(){var a=this.image,l=a._element.width,s=a._element.height;return[1/a.scaleX,0,0,0,1/a.scaleY,0,-a.left/l,-a.top/s,1]},applyTo2d:function(a){var l=a.imageData,s=a.filterBackend.resources,h=l.data,g=h.length,d=l.width,m=l.height,b,_,x,A,L,E,F,Y,et,j,M=this.image,tt;s.blendImage||(s.blendImage=i.util.createCanvasElement()),et=s.blendImage,j=et.getContext("2d"),et.width!==d||et.height!==m?(et.width=d,et.height=m):j.clearRect(0,0,d,m),j.setTransform(M.scaleX,0,0,M.scaleY,M.left,M.top),j.drawImage(M._element,0,0,d,m),tt=j.getImageData(0,0,d,m).data;for(var Z=0;Z<g;Z+=4)switch(L=h[Z],E=h[Z+1],F=h[Z+2],Y=h[Z+3],b=tt[Z],_=tt[Z+1],x=tt[Z+2],A=tt[Z+3],this.mode){case"multiply":h[Z]=L*b/255,h[Z+1]=E*_/255,h[Z+2]=F*x/255,h[Z+3]=Y*A/255;break;case"mask":h[Z+3]=A;break}},getUniformLocations:function(a,l){return{uTransformMatrix:a.getUniformLocation(l,"uTransformMatrix"),uImage:a.getUniformLocation(l,"uImage")}},sendUniformData:function(a,l){var s=this.calculateMatrix();a.uniform1i(l.uImage,1),a.uniformMatrix3fv(l.uTransformMatrix,!1,s)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),i.Image.filters.BlendImage.fromObject=function(a,l){i.Image.fromObject(a.image,function(s){var h=i.util.object.clone(a);h.image=s,l(new i.Image.filters.BlendImage(h))})}}(e),function(o){var i=o.fabric||(o.fabric={}),u=Math.pow,f=Math.floor,a=Math.sqrt,l=Math.abs,s=Math.round,h=Math.sin,g=Math.ceil,d=i.Image.filters,m=i.util.createClass;d.Resize=m(d.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,_){return{uDelta:b.getUniformLocation(_,"uDelta"),uTaps:b.getUniformLocation(_,"uTaps")}},sendUniformData:function(b,_){b.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(b){var _=this.getFilterWindow(),x=this.type+"_"+_;if(!b.programCache.hasOwnProperty(x)){var A=this.generateShader(_);b.programCache[x]=this.createProgram(b.context,A)}return b.programCache[x]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,x=this.getFilterWindow(),A=new Array(x),L=1;L<=x;L++)A[L-1]=b(L*_);return A},generateShader:function(A){for(var _=new Array(A),x=this.fragmentSourceTOP,A,L=1;L<=A;L++)_[L-1]=L+".0 * uDelta";return x+="uniform float uTaps["+A+`];
`,x+=`void main() {
`,x+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,x+=`  float sum = 1.0;
`,_.forEach(function(E,F){x+="  color += texture2D(uTexture, vTexCoord + "+E+") * uTaps["+F+`];
`,x+="  color += texture2D(uTexture, vTexCoord - "+E+") * uTaps["+F+`];
`,x+="  sum += 2.0 * uTaps["+F+`];
`}),x+=`  gl_FragColor = color / sum;
`,x+="}",x},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(_){if(_>=b||_<=-b)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var x=_/b;return h(_)/_*h(x)/x}},applyTo2d:function(b){var _=b.imageData,x=this.scaleX,A=this.scaleY;this.rcpScaleX=1/x,this.rcpScaleY=1/A;var L=_.width,E=_.height,F=s(L*x),Y=s(E*A),et;this.resizeType==="sliceHack"?et=this.sliceByTwo(b,L,E,F,Y):this.resizeType==="hermite"?et=this.hermiteFastResize(b,L,E,F,Y):this.resizeType==="bilinear"?et=this.bilinearFiltering(b,L,E,F,Y):this.resizeType==="lanczos"&&(et=this.lanczosResize(b,L,E,F,Y)),b.imageData=et},sliceByTwo:function(b,_,x,A,L){var E=b.imageData,F=.5,Y=!1,et=!1,j=_*F,M=x*F,tt=i.filterBackend.resources,Z,ft,ht=0,pt=0,ct=_,D=0;for(tt.sliceByTwo||(tt.sliceByTwo=document.createElement("canvas")),Z=tt.sliceByTwo,(Z.width<_*1.5||Z.height<x)&&(Z.width=_*1.5,Z.height=x),ft=Z.getContext("2d"),ft.clearRect(0,0,_*1.5,x),ft.putImageData(E,0,0),A=f(A),L=f(L);!Y||!et;)_=j,x=M,A<f(j*F)?j=f(j*F):(j=A,Y=!0),L<f(M*F)?M=f(M*F):(M=L,et=!0),ft.drawImage(Z,ht,pt,_,x,ct,D,j,M),ht=ct,pt=D,D+=M;return ft.getImageData(ht,pt,A,L)},lanczosResize:function(b,_,x,A,L){function E(nt){var T,q,k,O,W,B,J,G,lt,dt,xt;for(D.x=(nt+.5)*M,$.x=f(D.x),T=0;T<L;T++){for(D.y=(T+.5)*tt,$.y=f(D.y),W=0,B=0,J=0,G=0,lt=0,q=$.x-ht;q<=$.x+ht;q++)if(!(q<0||q>=_)){dt=f(1e3*l(q-D.x)),ct[dt]||(ct[dt]={});for(var N=$.y-pt;N<=$.y+pt;N++)N<0||N>=x||(xt=f(1e3*l(N-D.y)),ct[dt][xt]||(ct[dt][xt]=j(a(u(dt*Z,2)+u(xt*ft,2))/1e3)),k=ct[dt][xt],k>0&&(O=(N*_+q)*4,W+=k,B+=k*F[O],J+=k*F[O+1],G+=k*F[O+2],lt+=k*F[O+3]))}O=(T*A+nt)*4,et[O]=B/W,et[O+1]=J/W,et[O+2]=G/W,et[O+3]=lt/W}return++nt<A?E(nt):Y}var F=b.imageData.data,Y=b.ctx.createImageData(A,L),et=Y.data,j=this.lanczosCreate(this.lanczosLobes),M=this.rcpScaleX,tt=this.rcpScaleY,Z=2/this.rcpScaleX,ft=2/this.rcpScaleY,ht=g(M*this.lanczosLobes/2),pt=g(tt*this.lanczosLobes/2),ct={},D={},$={};return E(0)},bilinearFiltering:function(b,_,x,A,L){var E,F,Y,et,j,M,tt,Z,ft,ht,pt,ct,D=0,$,nt=this.rcpScaleX,T=this.rcpScaleY,q=4*(_-1),k=b.imageData,O=k.data,W=b.ctx.createImageData(A,L),B=W.data;for(tt=0;tt<L;tt++)for(Z=0;Z<A;Z++)for(j=f(nt*Z),M=f(T*tt),ft=nt*Z-j,ht=T*tt-M,$=4*(M*_+j),pt=0;pt<4;pt++)E=O[$+pt],F=O[$+4+pt],Y=O[$+q+pt],et=O[$+q+4+pt],ct=E*(1-ft)*(1-ht)+F*ft*(1-ht)+Y*ht*(1-ft)+et*ft*ht,B[D++]=ct;return W},hermiteFastResize:function(b,_,x,A,L){for(var E=this.rcpScaleX,F=this.rcpScaleY,Y=g(E/2),et=g(F/2),j=b.imageData,M=j.data,tt=b.ctx.createImageData(A,L),Z=tt.data,ft=0;ft<L;ft++)for(var ht=0;ht<A;ht++){for(var pt=(ht+ft*A)*4,ct=0,D=0,$=0,nt=0,T=0,q=0,k=0,O=(ft+.5)*F,W=f(ft*F);W<(ft+1)*F;W++)for(var B=l(O-(W+.5))/et,J=(ht+.5)*E,G=B*B,lt=f(ht*E);lt<(ht+1)*E;lt++){var dt=l(J-(lt+.5))/Y,xt=a(G+dt*dt);xt>1&&xt<-1||(ct=2*xt*xt*xt-3*xt*xt+1,ct>0&&(dt=4*(lt+W*_),k+=ct*M[dt+3],$+=ct,M[dt+3]<255&&(ct=ct*M[dt+3]/250),nt+=ct*M[dt],T+=ct*M[dt+1],q+=ct*M[dt+2],D+=ct))}Z[pt]=nt/D,Z[pt+1]=T/D,Z[pt+2]=q/D,Z[pt+3]=k/$}return tt},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),i.Image.filters.Resize.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Contrast=f(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(a){if(this.contrast!==0){var l=a.imageData,s,g,h=l.data,g=h.length,d=Math.floor(this.contrast*255),m=259*(d+255)/(255*(259-d));for(s=0;s<g;s+=4)h[s]=m*(h[s]-128)+128,h[s+1]=m*(h[s+1]-128)+128,h[s+2]=m*(h[s+2]-128)+128}},getUniformLocations:function(a,l){return{uContrast:a.getUniformLocation(l,"uContrast")}},sendUniformData:function(a,l){a.uniform1f(l.uContrast,this.contrast)}}),i.Image.filters.Contrast.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Saturation=f(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(a){if(this.saturation!==0){var l=a.imageData,s=l.data,h=s.length,g=-this.saturation,d,m;for(d=0;d<h;d+=4)m=Math.max(s[d],s[d+1],s[d+2]),s[d]+=m!==s[d]?(m-s[d])*g:0,s[d+1]+=m!==s[d+1]?(m-s[d+1])*g:0,s[d+2]+=m!==s[d+2]?(m-s[d+2])*g:0}},getUniformLocations:function(a,l){return{uSaturation:a.getUniformLocation(l,"uSaturation")}},sendUniformData:function(a,l){a.uniform1f(l.uSaturation,-this.saturation)}}),i.Image.filters.Saturation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Vibrance=f(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(a){if(this.vibrance!==0){var l=a.imageData,s=l.data,h=s.length,g=-this.vibrance,d,m,b,_;for(d=0;d<h;d+=4)m=Math.max(s[d],s[d+1],s[d+2]),b=(s[d]+s[d+1]+s[d+2])/3,_=Math.abs(m-b)*2/255*g,s[d]+=m!==s[d]?(m-s[d])*_:0,s[d+1]+=m!==s[d+1]?(m-s[d+1])*_:0,s[d+2]+=m!==s[d+2]?(m-s[d+2])*_:0}},getUniformLocations:function(a,l){return{uVibrance:a.getUniformLocation(l,"uVibrance")}},sendUniformData:function(a,l){a.uniform1f(l.uVibrance,-this.vibrance)}}),i.Image.filters.Vibrance.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Blur=f(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(a){a.webgl?(this.aspectRatio=a.sourceWidth/a.sourceHeight,a.passes++,this._setupFrameBuffer(a),this.horizontal=!0,this.applyToWebGL(a),this._swapTextures(a),this._setupFrameBuffer(a),this.horizontal=!1,this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},applyTo2d:function(a){a.imageData=this.simpleBlur(a)},simpleBlur:function(a){var l=a.filterBackend.resources,s,h,g=a.imageData.width,d=a.imageData.height;l.blurLayer1||(l.blurLayer1=i.util.createCanvasElement(),l.blurLayer2=i.util.createCanvasElement()),s=l.blurLayer1,h=l.blurLayer2,(s.width!==g||s.height!==d)&&(h.width=s.width=g,h.height=s.height=d);var m=s.getContext("2d"),b=h.getContext("2d"),_=15,x,A,L,E,F=this.blur*.06*.5;for(m.putImageData(a.imageData,0,0),b.clearRect(0,0,g,d),E=-_;E<=_;E++)x=(Math.random()-.5)/4,A=E/_,L=F*A*g+x,b.globalAlpha=1-Math.abs(A),b.drawImage(s,L,x),m.drawImage(h,0,0),b.globalAlpha=1,b.clearRect(0,0,h.width,h.height);for(E=-_;E<=_;E++)x=(Math.random()-.5)/4,A=E/_,L=F*A*d+x,b.globalAlpha=1-Math.abs(A),b.drawImage(s,x,L),m.drawImage(h,0,0),b.globalAlpha=1,b.clearRect(0,0,h.width,h.height);a.ctx.drawImage(s,0,0);var Y=a.ctx.getImageData(0,0,s.width,s.height);return m.globalAlpha=1,m.clearRect(0,0,s.width,s.height),Y},getUniformLocations:function(a,l){return{delta:a.getUniformLocation(l,"uDelta")}},sendUniformData:function(a,l){var s=this.chooseRightDelta();a.uniform2fv(l.delta,s)},chooseRightDelta:function(){var a=1,l=[0,0],s;return this.horizontal?this.aspectRatio>1&&(a=1/this.aspectRatio):this.aspectRatio<1&&(a=this.aspectRatio),s=a*this.blur*.12,this.horizontal?l[0]=s:l[1]=s,l}}),u.Blur.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Gamma=f(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(a){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,a)},applyTo2d:function(a){var l=a.imageData,s=l.data,h=this.gamma,g=s.length,d=1/h[0],m=1/h[1],b=1/h[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,g=256;_<g;_++)this.rVals[_]=Math.pow(_/255,d)*255,this.gVals[_]=Math.pow(_/255,m)*255,this.bVals[_]=Math.pow(_/255,b)*255;for(_=0,g=s.length;_<g;_+=4)s[_]=this.rVals[s[_]],s[_+1]=this.gVals[s[_+1]],s[_+2]=this.bVals[s[_+2]]},getUniformLocations:function(a,l){return{uGamma:a.getUniformLocation(l,"uGamma")}},sendUniformData:function(a,l){a.uniform3fv(l.uGamma,this.gamma)}}),i.Image.filters.Gamma.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.Composed=f(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(a){this.callSuper("initialize",a),this.subFilters=this.subFilters.slice(0)},applyTo:function(a){a.passes+=this.subFilters.length-1,this.subFilters.forEach(function(l){l.applyTo(a)})},toObject:function(){return i.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(a){return a.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(a){return!a.isNeutralState()})}}),i.Image.filters.Composed.fromObject=function(a,l){var s=a.subFilters||[],h=s.map(function(d){return new i.Image.filters[d.type](d)}),g=new i.Image.filters.Composed({subFilters:h});return l&&l(g),g}}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.Image.filters,f=i.util.createClass;u.HueRotation=f(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var a=this.rotation*Math.PI,l=i.util.cos(a),s=i.util.sin(a),h=1/3,g=Math.sqrt(h)*s,d=1-l;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=l+d/3,this.matrix[1]=h*d-g,this.matrix[2]=h*d+g,this.matrix[5]=h*d+g,this.matrix[6]=l+h*d,this.matrix[7]=h*d-g,this.matrix[10]=h*d-g,this.matrix[11]=h*d+g,this.matrix[12]=l+h*d},isNeutralState:function(a){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,a)},applyTo:function(a){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,a)}}),i.Image.filters.HueRotation.fromObject=i.Image.filters.BaseFilter.fromObject}(e),function(o){var i=o.fabric||(o.fabric={}),u=i.util.object.clone;if(i.Text){i.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");i.Text=i.util.createClass(i.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:i.Object.prototype.stateProperties.concat(f),cacheProperties:i.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(a,l){this.styles=l?l.styles||{}:{},this.text=a,this.__skipDimension=!0,this.callSuper("initialize",l),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var a=this.path;a&&(a.segmentsInfo=i.util.getPathSegmentsInfo(a.path))},getMeasuringContext:function(){return i._measuringContext||(i._measuringContext=this.canvas&&this.canvas.contextCache||i.util.createCanvasElement().getContext("2d")),i._measuringContext},_splitText:function(){var a=this._splitTextIntoLines(this.text);return this.textLines=a.lines,this._textLines=a.graphemeLines,this._unwrappedTextLines=a._unwrappedLines,this._text=a.graphemeText,a},initDimensions:function(){if(!this.__skipDimension){if(this._splitText(),this._clearCache(),this.path){var a=this.getHeightOfLine(0)*1.1;this.width=this.path.width+a,this.height=this.path.height+a}else this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight();this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"})}},enlargeSpaces:function(){for(var a,l,s,h,g,d,m,b=0,_=this._textLines.length;b<_;b++)if(!(this.textAlign!=="justify"&&(b===_-1||this.isEndOfWrapping(b)))&&(h=0,g=this._textLines[b],l=this.getLineWidth(b),l<this.width&&(m=this.textLines[b].match(this._reSpacesAndTabs)))){s=m.length,a=(this.width-l)/s;for(var x=0,A=g.length;x<=A;x++)d=this.__charBounds[b][x],this._reSpaceAndTab.test(g[x])?(d.width+=a,d.kernedWidth+=a,d.left+=h,h+=a):d.left+=h}},isEndOfWrapping:function(a){return a===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var a=this.callSuper("_getCacheCanvasDimensions"),l=this.fontSize;return a.width+=l*a.zoomX,a.height+=l*a.zoomY,a},_render:function(a){var l=this.path;l&&!l.isNotVisible()&&l._render(a),this._setTextStyles(a),this._renderTextLinesBackground(a),this._renderTextDecoration(a,"underline"),this._renderText(a),this._renderTextDecoration(a,"overline"),this._renderTextDecoration(a,"linethrough")},_renderText:function(a){this.paintFirst==="stroke"?(this._renderTextStroke(a),this._renderTextFill(a)):(this._renderTextFill(a),this._renderTextStroke(a))},_setTextStyles:function(a,l,s){if(a.textBaseline="alphabetic",this.path)switch(this.pathAlign){case"center":a.textBaseline="middle";break;case"ascender":a.textBaseline="top";break;case"descender":a.textBaseline="bottom";break}a.font=this._getFontDeclaration(l,s)},calcTextWidth:function(){for(var a=this.getLineWidth(0),l=1,s=this._textLines.length;l<s;l++){var h=this.getLineWidth(l);h>a&&(a=h)}return a},_renderTextLine:function(a,l,s,h,g,d){this._renderChars(a,l,s,h,g,d)},_renderTextLinesBackground:function(a){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var l,s,h=a.fillStyle,g,d,m=this._getLeftOffset(),b=this._getTopOffset(),_=0,x=0,A,L,E=this.path,F,Y=0,et=this._textLines.length;Y<et;Y++){if(l=this.getHeightOfLine(Y),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Y)){b+=l;continue}g=this._textLines[Y],s=this._getLineLeftOffset(Y),x=0,_=0,d=this.getValueOfPropertyAt(Y,0,"textBackgroundColor");for(var j=0,M=g.length;j<M;j++)A=this.__charBounds[Y][j],L=this.getValueOfPropertyAt(Y,j,"textBackgroundColor"),E?(a.save(),a.translate(A.renderLeft,A.renderTop),a.rotate(A.angle),a.fillStyle=L,L&&a.fillRect(-A.width/2,-l/this.lineHeight*(1-this._fontSizeFraction),A.width,l/this.lineHeight),a.restore()):L!==d?(F=m+s+_,this.direction==="rtl"&&(F=this.width-F-x),a.fillStyle=d,d&&a.fillRect(F,b,x,l/this.lineHeight),_=A.left,x=A.width,d=L):x+=A.kernedWidth;L&&!E&&(F=m+s+_,this.direction==="rtl"&&(F=this.width-F-x),a.fillStyle=L,a.fillRect(F,b,x,l/this.lineHeight)),b+=l}a.fillStyle=h,this._removeShadow(a)}},getFontCache:function(a){var l=a.fontFamily.toLowerCase();i.charWidthsCache[l]||(i.charWidthsCache[l]={});var s=i.charWidthsCache[l],h=a.fontStyle.toLowerCase()+"_"+(a.fontWeight+"").toLowerCase();return s[h]||(s[h]={}),s[h]},_measureChar:function(a,l,s,h){var g=this.getFontCache(l),d=this._getFontDeclaration(l),m=this._getFontDeclaration(h),b=s+a,_=d===m,x,A,L,E=l.fontSize/this.CACHE_FONT_SIZE,F;if(s&&g[s]!==void 0&&(L=g[s]),g[a]!==void 0&&(F=x=g[a]),_&&g[b]!==void 0&&(A=g[b],F=A-L),x===void 0||L===void 0||A===void 0){var Y=this.getMeasuringContext();this._setTextStyles(Y,l,!0)}return x===void 0&&(F=x=Y.measureText(a).width,g[a]=x),L===void 0&&_&&s&&(L=Y.measureText(s).width,g[s]=L),_&&A===void 0&&(A=Y.measureText(b).width,g[b]=A,F=A-L),{width:x*E,kernedWidth:F*E}},getHeightOfChar:function(a,l){return this.getValueOfPropertyAt(a,l,"fontSize")},measureLine:function(a){var l=this._measureLine(a);return this.charSpacing!==0&&(l.width-=this._getWidthOfCharSpacing()),l.width<0&&(l.width=0),l},_measureLine:function(a){var l=0,s,h,g=this._textLines[a],d,m,b=0,_=new Array(g.length),x=0,A,L,E=this.path,F=this.pathSide==="right";for(this.__charBounds[a]=_,s=0;s<g.length;s++)h=g[s],m=this._getGraphemeBox(h,a,s,d),_[s]=m,l+=m.kernedWidth,d=h;if(_[s]={left:m?m.left+m.width:0,width:0,kernedWidth:0,height:this.fontSize},E){switch(L=E.segmentsInfo[E.segmentsInfo.length-1].length,A=i.util.getPointOnPath(E.path,0,E.segmentsInfo),A.x+=E.pathOffset.x,A.y+=E.pathOffset.y,this.textAlign){case"left":x=F?L-l:0;break;case"center":x=(L-l)/2;break;case"right":x=F?0:L-l;break}for(x+=this.pathStartOffset*(F?-1:1),s=F?g.length-1:0;F?s>=0:s<g.length;F?s--:s++)m=_[s],x>L?x%=L:x<0&&(x+=L),this._setGraphemeOnPath(x,m,A),x+=m.kernedWidth}return{width:l,numOfSpaces:b}},_setGraphemeOnPath:function(a,l,s){var h=a+l.kernedWidth/2,g=this.path,d=i.util.getPointOnPath(g.path,h,g.segmentsInfo);l.renderLeft=d.x-s.x,l.renderTop=d.y-s.y,l.angle=d.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(a,l,s,h,g){var d=this.getCompleteStyleDeclaration(l,s),m=h?this.getCompleteStyleDeclaration(l,s-1):{},b=this._measureChar(a,d,h,m),_=b.kernedWidth,x=b.width,A;this.charSpacing!==0&&(A=this._getWidthOfCharSpacing(),x+=A,_+=A);var L={width:x,left:0,height:d.fontSize,kernedWidth:_,deltaY:d.deltaY};if(s>0&&!g){var E=this.__charBounds[l][s-1];L.left=E.left+E.width+b.kernedWidth-b.width}return L},getHeightOfLine:function(a){if(this.__lineHeights[a])return this.__lineHeights[a];for(var l=this._textLines[a],s=this.getHeightOfChar(a,0),h=1,g=l.length;h<g;h++)s=Math.max(this.getHeightOfChar(a,h),s);return this.__lineHeights[a]=s*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var a,l=0,s=0,h=this._textLines.length;s<h;s++)a=this.getHeightOfLine(s),l+=s===h-1?a/this.lineHeight:a;return l},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(a,l){a.save();for(var s=0,h=this._getLeftOffset(),g=this._getTopOffset(),d=0,m=this._textLines.length;d<m;d++){var b=this.getHeightOfLine(d),_=b/this.lineHeight,x=this._getLineLeftOffset(d);this._renderTextLine(l,a,this._textLines[d],h+x,g+s+_,d),s+=b}a.restore()},_renderTextFill:function(a){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(a,"fillText")},_renderTextStroke:function(a){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(a),a.save(),this._setLineDash(a,this.strokeDashArray),a.beginPath(),this._renderTextCommon(a,"strokeText"),a.closePath(),a.restore())},_renderChars:function(a,l,s,h,g,d){var m=this.getHeightOfLine(d),b=this.textAlign.indexOf("justify")!==-1,_,x,A="",L,E=0,F,Y=this.path,et=!b&&this.charSpacing===0&&this.isEmptyStyles(d)&&!Y,j=this.direction==="ltr",M=this.direction==="ltr"?1:-1,tt,Z=l.canvas.getAttribute("dir");if(l.save(),Z!==this.direction&&(l.canvas.setAttribute("dir",j?"ltr":"rtl"),l.direction=j?"ltr":"rtl",l.textAlign=j?"left":"right"),g-=m*this._fontSizeFraction/this.lineHeight,et){this._renderChar(a,l,d,0,s.join(""),h,g,m),l.restore();return}for(var ft=0,ht=s.length-1;ft<=ht;ft++)F=ft===ht||this.charSpacing||Y,A+=s[ft],L=this.__charBounds[d][ft],E===0?(h+=M*(L.kernedWidth-L.width),E+=L.width):E+=L.kernedWidth,b&&!F&&this._reSpaceAndTab.test(s[ft])&&(F=!0),F||(_=_||this.getCompleteStyleDeclaration(d,ft),x=this.getCompleteStyleDeclaration(d,ft+1),F=i.util.hasStyleChanged(_,x,!1)),F&&(Y?(l.save(),l.translate(L.renderLeft,L.renderTop),l.rotate(L.angle),this._renderChar(a,l,d,ft,A,-E/2,0,m),l.restore()):(tt=h,this._renderChar(a,l,d,ft,A,tt,g,m)),A="",_=x,h+=M*E,E=0);l.restore()},_applyPatternGradientTransformText:function(a){var l=i.util.createCanvasElement(),s,h=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return l.width=h,l.height=g,s=l.getContext("2d"),s.beginPath(),s.moveTo(0,0),s.lineTo(h,0),s.lineTo(h,g),s.lineTo(0,g),s.closePath(),s.translate(h/2,g/2),s.fillStyle=a.toLive(s),this._applyPatternGradientTransform(s,a),s.fill(),s.createPattern(l,"no-repeat")},handleFiller:function(a,l,s){var h,g;return s.toLive?s.gradientUnits==="percentage"||s.gradientTransform||s.patternTransform?(h=-this.width/2,g=-this.height/2,a.translate(h,g),a[l]=this._applyPatternGradientTransformText(s),{offsetX:h,offsetY:g}):(a[l]=s.toLive(a,this),this._applyPatternGradientTransform(a,s)):(a[l]=s,{offsetX:0,offsetY:0})},_setStrokeStyles:function(a,l){return a.lineWidth=l.strokeWidth,a.lineCap=this.strokeLineCap,a.lineDashOffset=this.strokeDashOffset,a.lineJoin=this.strokeLineJoin,a.miterLimit=this.strokeMiterLimit,this.handleFiller(a,"strokeStyle",l.stroke)},_setFillStyles:function(a,l){return this.handleFiller(a,"fillStyle",l.fill)},_renderChar:function(a,l,s,h,g,d,m){var b=this._getStyleDeclaration(s,h),_=this.getCompleteStyleDeclaration(s,h),x=a==="fillText"&&_.fill,A=a==="strokeText"&&_.stroke&&_.strokeWidth,L,E;!A&&!x||(l.save(),x&&(L=this._setFillStyles(l,_)),A&&(E=this._setStrokeStyles(l,_)),l.font=this._getFontDeclaration(_),b&&b.textBackgroundColor&&this._removeShadow(l),b&&b.deltaY&&(m+=b.deltaY),x&&l.fillText(g,d-L.offsetX,m-L.offsetY),A&&l.strokeText(g,d-E.offsetX,m-E.offsetY),l.restore())},setSuperscript:function(a,l){return this._setScript(a,l,this.superscript)},setSubscript:function(a,l){return this._setScript(a,l,this.subscript)},_setScript:function(a,l,s){var h=this.get2DCursorLocation(a,!0),g=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"fontSize"),d=this.getValueOfPropertyAt(h.lineIndex,h.charIndex,"deltaY"),m={fontSize:g*s.size,deltaY:d+g*s.baseline};return this.setSelectionStyles(m,a,l),this},_getLineLeftOffset:function(a){var l=this.getLineWidth(a),s=this.width-l,h=this.textAlign,g=this.direction,m,d=0,m=this.isEndOfWrapping(a);return h==="justify"||h==="justify-center"&&!m||h==="justify-right"&&!m||h==="justify-left"&&!m?0:(h==="center"&&(d=s/2),h==="right"&&(d=s),h==="justify-center"&&(d=s/2),h==="justify-right"&&(d=s),g==="rtl"&&(d-=s),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var a=this._forceClearCache;return a||(a=this.hasStateChanged("_dimensionAffectingProps")),a&&(this.dirty=!0,this._forceClearCache=!1),a},getLineWidth:function(a){if(this.__lineWidths[a]!==void 0)return this.__lineWidths[a];var l=this.measureLine(a),s=l.width;return this.__lineWidths[a]=s,s},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(a,l,s){var h=this._getStyleDeclaration(a,l);return h&&typeof h[s]<"u"?h[s]:this[s]},_renderTextDecoration:function(a,l){if(!(!this[l]&&!this.styleHas(l))){a.save(),(l==="overline"||l==="linethrough")&&this._removeShadow(a);for(var s,h,g,d,m,b,_,x,A=this._getLeftOffset(),L=this._getTopOffset(),E,F,Y,et,j,M,tt,Z,ft=this.path,ht=this._getWidthOfCharSpacing(),pt=this.offsets[l],ct=0,D=this._textLines.length;ct<D;ct++){if(s=this.getHeightOfLine(ct),!this[l]&&!this.styleHas(l,ct)){L+=s;continue}_=this._textLines[ct],M=s/this.lineHeight,d=this._getLineLeftOffset(ct),F=0,Y=0,x=this.getValueOfPropertyAt(ct,0,l),Z=this.getValueOfPropertyAt(ct,0,"fill"),E=L+M*(1-this._fontSizeFraction),h=this.getHeightOfChar(ct,0),m=this.getValueOfPropertyAt(ct,0,"deltaY");for(var $=0,nt=_.length;$<nt;$++)if(et=this.__charBounds[ct][$],j=this.getValueOfPropertyAt(ct,$,l),tt=this.getValueOfPropertyAt(ct,$,"fill"),g=this.getHeightOfChar(ct,$),b=this.getValueOfPropertyAt(ct,$,"deltaY"),ft&&j&&tt)a.save(),a.fillStyle=Z,a.translate(et.renderLeft,et.renderTop),a.rotate(et.angle),a.fillRect(-et.kernedWidth/2,pt*g+b,et.kernedWidth,this.fontSize/15),a.restore();else if((j!==x||tt!==Z||g!==h||b!==m)&&Y>0){var T=A+d+F;this.direction==="rtl"&&(T=this.width-T-Y),x&&Z&&(a.fillStyle=Z,a.fillRect(T,E+pt*h+m,Y,this.fontSize/15)),F=et.left,Y=et.width,x=j,Z=tt,h=g,m=b}else Y+=et.kernedWidth;var T=A+d+F;this.direction==="rtl"&&(T=this.width-T-Y),a.fillStyle=tt,j&&tt&&a.fillRect(T,E+pt*h+m,Y-ht,this.fontSize/15),L+=s}a.restore()}},_getFontDeclaration:function(a,l){var s=a||this,h=this.fontFamily,g=i.Text.genericFonts.indexOf(h.toLowerCase())>-1,d=h===void 0||h.indexOf("'")>-1||h.indexOf(",")>-1||h.indexOf('"')>-1||g?s.fontFamily:'"'+s.fontFamily+'"';return[i.isLikelyNode?s.fontWeight:s.fontStyle,i.isLikelyNode?s.fontStyle:s.fontWeight,l?this.CACHE_FONT_SIZE+"px":s.fontSize+"px",d].join(" ")},render:function(a){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",a))},_splitTextIntoLines:function(a){for(var l=a.split(this._reNewline),s=new Array(l.length),h=[`
`],g=[],d=0;d<l.length;d++)s[d]=i.util.string.graphemeSplit(l[d]),g=g.concat(s[d],h);return g.pop(),{_unwrappedLines:s,lines:l,graphemeText:g,graphemeLines:s}},toObject:function(a){var l=f.concat(a),s=this.callSuper("toObject",l);return s.styles=i.util.stylesToArray(this.styles,this.text),s.path&&(s.path=this.path.toObject()),s},set:function(a,l){this.callSuper("set",a,l);var s=!1,h=!1;if(typeof a=="object")for(var g in a)g==="path"&&this.setPathInfo(),s=s||this._dimensionAffectingProps.indexOf(g)!==-1,h=h||g==="path";else s=this._dimensionAffectingProps.indexOf(a)!==-1,h=a==="path";return h&&this.setPathInfo(),s&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),i.Text.ATTRIBUTE_NAMES=i.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),i.Text.DEFAULT_SVG_FONT_SIZE=16,i.Text.fromElement=function(a,l,s){if(!a)return l(null);var h=i.parseAttributes(a,i.Text.ATTRIBUTE_NAMES),g=h.textAnchor||"left";if(s=i.util.object.extend(s?u(s):{},h),s.top=s.top||0,s.left=s.left||0,h.textDecoration){var d=h.textDecoration;d.indexOf("underline")!==-1&&(s.underline=!0),d.indexOf("overline")!==-1&&(s.overline=!0),d.indexOf("line-through")!==-1&&(s.linethrough=!0),delete s.textDecoration}"dx"in h&&(s.left+=h.dx),"dy"in h&&(s.top+=h.dy),"fontSize"in s||(s.fontSize=i.Text.DEFAULT_SVG_FONT_SIZE);var m="";"textContent"in a?m=a.textContent:"firstChild"in a&&a.firstChild!==null&&"data"in a.firstChild&&a.firstChild.data!==null&&(m=a.firstChild.data),m=m.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=s.strokeWidth;s.strokeWidth=0;var _=new i.Text(m,s),x=_.getScaledHeight()/_.height,A=(_.height+_.strokeWidth)*_.lineHeight-_.height,L=A*x,E=_.getScaledHeight()+L,F=0;g==="center"&&(F=_.getScaledWidth()/2),g==="right"&&(F=_.getScaledWidth()),_.set({left:_.left-F,top:_.top-(E-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof b<"u"?b:1}),l(_)},i.Text.fromObject=function(a,l){var s=u(a),h=a.path;return delete s.path,i.Object._fromObject("Text",s,function(g){g.styles=i.util.stylesFromArray(a.styles,a.text),h?i.Object._fromObject("Path",h,function(d){g.set("path",d),l(g)},"path"):l(g)},"text")},i.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],i.util.createAccessors&&i.util.createAccessors(i.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(o){if(!this.styles||typeof o<"u"&&!this.styles[o])return!0;var i=typeof o>"u"?this.styles:{line:this.styles[o]};for(var u in i)for(var f in i[u])for(var a in i[u][f])return!1;return!0},styleHas:function(o,i){if(!this.styles||!o||o===""||typeof i<"u"&&!this.styles[i])return!1;var u=typeof i>"u"?this.styles:{0:this.styles[i]};for(var f in u)for(var a in u[f])if(typeof u[f][a][o]<"u")return!0;return!1},cleanStyle:function(o){if(!this.styles||!o||o==="")return!1;var i=this.styles,u=0,f,a,l=!0,s=0,h;for(var g in i){f=0;for(var d in i[g]){var h=i[g][d],m=h.hasOwnProperty(o);u++,m?(a?h[o]!==a&&(l=!1):a=h[o],h[o]===this[o]&&delete h[o]):l=!1,Object.keys(h).length!==0?f++:delete i[g][d]}f===0&&delete i[g]}for(var b=0;b<this._textLines.length;b++)s+=this._textLines[b].length;l&&u===s&&(this[o]=a,this.removeStyle(o))},removeStyle:function(o){if(!(!this.styles||!o||o==="")){var i=this.styles,u,f,a;for(f in i){u=i[f];for(a in u)delete u[a][o],Object.keys(u[a]).length===0&&delete u[a];Object.keys(u).length===0&&delete i[f]}}},_extendStyles:function(o,i){var u=this.get2DCursorLocation(o);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),i)},get2DCursorLocation:function(o,i){typeof o>"u"&&(o=this.selectionStart);for(var u=i?this._unwrappedTextLines:this._textLines,f=u.length,a=0;a<f;a++){if(o<=u[a].length)return{lineIndex:a,charIndex:o};o-=u[a].length+this.missingNewlineOffset(a,i)}return{lineIndex:a-1,charIndex:u[a-1].length<o?u[a-1].length:o}},getSelectionStyles:function(o,i,u){typeof o>"u"&&(o=this.selectionStart||0),typeof i>"u"&&(i=this.selectionEnd||o);for(var f=[],a=o;a<i;a++)f.push(this.getStyleAtPosition(a,u));return f},getStyleAtPosition:function(o,i){var u=this.get2DCursorLocation(o),f=i?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return f||{}},setSelectionStyles:function(o,i,u){typeof i>"u"&&(i=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||i);for(var f=i;f<u;f++)this._extendStyles(f,o);return this._forceClearCache=!0,this},_getStyleDeclaration:function(o,i){var u=this.styles&&this.styles[o];return u?u[i]:null},getCompleteStyleDeclaration:function(o,i){for(var u=this._getStyleDeclaration(o,i)||{},f={},a,l=0;l<this._styleProperties.length;l++)a=this._styleProperties[l],f[a]=typeof u[a]>"u"?this[a]:u[a];return f},_setStyleDeclaration:function(o,i,u){this.styles[o][i]=u},_deleteStyleDeclaration:function(o,i){delete this.styles[o][i]},_getLineStyle:function(o){return!!this.styles[o]},_setLineStyle:function(o){this.styles[o]={}},_deleteLineStyle:function(o){delete this.styles[o]}})}(),function(){function o(i){i.textDecoration&&(i.textDecoration.indexOf("underline")>-1&&(i.underline=!0),i.textDecoration.indexOf("line-through")>-1&&(i.linethrough=!0),i.textDecoration.indexOf("overline")>-1&&(i.overline=!0),delete i.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(i,u){this.callSuper("initialize",i,u),this.initBehavior()},setSelectionStart:function(i){i=Math.max(i,0),this._updateAndFire("selectionStart",i)},setSelectionEnd:function(i){i=Math.min(i,this.text.length),this._updateAndFire("selectionEnd",i)},_updateAndFire:function(i,u){this[i]!==u&&(this._fireSelectionChanged(),this[i]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(i){this.clearContextTop(),this.callSuper("render",i),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(i){this.callSuper("_render",i)},clearContextTop:function(i){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,f=this.canvas.viewportTransform;u.save(),u.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(u),this._clearTextArea(u),i||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var i=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(i,u):this.renderSelection(i,u),u.restore()}},_clearTextArea:function(i){var u=this.width+4,f=this.height+4;i.clearRect(-u/2,-f/2,u,f)},_getCursorBoundaries:function(i){typeof i>"u"&&(i=this.selectionStart);var u=this._getLeftOffset(),f=this._getTopOffset(),a=this._getCursorBoundariesOffsets(i);return{left:u,top:f,leftOffset:a.left,topOffset:a.top}},_getCursorBoundariesOffsets:function(i){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,f,a,l=0,s=0,h,g=this.get2DCursorLocation(i);a=g.charIndex,f=g.lineIndex;for(var d=0;d<f;d++)l+=this.getHeightOfLine(d);u=this._getLineLeftOffset(f);var m=this.__charBounds[f][a];return m&&(s=m.left),this.charSpacing!==0&&a===this._textLines[f].length&&(s-=this._getWidthOfCharSpacing()),h={top:l,left:u+(s>0?s:0)},this.direction==="rtl"&&(h.left*=-1),this.cursorOffsetCache=h,this.cursorOffsetCache},renderCursor:function(i,u){var f=this.get2DCursorLocation(),a=f.lineIndex,l=f.charIndex>0?f.charIndex-1:0,s=this.getValueOfPropertyAt(a,l,"fontSize"),h=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/h,d=i.topOffset,m=this.getValueOfPropertyAt(a,l,"deltaY");d+=(1-this._fontSizeFraction)*this.getHeightOfLine(a)/this.lineHeight-s*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(i,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(a,l,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(i.left+i.leftOffset-g/2,d+i.top+m,g,s)},renderSelection:function(i,u){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,a=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,l=this.textAlign.indexOf("justify")!==-1,s=this.get2DCursorLocation(f),h=this.get2DCursorLocation(a),g=s.lineIndex,d=h.lineIndex,m=s.charIndex<0?0:s.charIndex,b=h.charIndex<0?0:h.charIndex,_=g;_<=d;_++){var x=this._getLineLeftOffset(_)||0,A=this.getHeightOfLine(_),L=0,E=0,F=0;if(_===g&&(E=this.__charBounds[g][m].left),_>=g&&_<d)F=l&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===d)if(b===0)F=this.__charBounds[d][b].left;else{var Y=this._getWidthOfCharSpacing();F=this.__charBounds[d][b-1].left+this.__charBounds[d][b-1].width-Y}L=A,(this.lineHeight<1||_===d&&this.lineHeight>1)&&(A/=this.lineHeight);var et=i.left+x+E,j=F-E,M=A,tt=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",M=1,tt=A):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(et=this.width-et-j),u.fillRect(et,i.top+i.topOffset+tt,j,M),i.topOffset+=L}},getCurrentCharFontSize:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fontSize")},getCurrentCharColor:function(){var i=this._getCurrentCharIndex();return this.getValueOfPropertyAt(i.l,i.c,"fill")},_getCurrentCharIndex:function(){var i=this.get2DCursorLocation(this.selectionStart,!0),u=i.charIndex>0?i.charIndex-1:0;return{l:i.lineIndex,c:u}}}),t.IText.fromObject=function(i,u){var f=t.util.stylesFromArray(i.styles,i.text),a=Object.assign({},i,{styles:f});if(delete a.path,o(a),a.styles)for(var l in a.styles)for(var s in a.styles[l])o(a.styles[l][s]);t.Object._fromObject("IText",a,function(h){i.path?t.Object._fromObject("Path",i.path,function(g){h.set("path",g),u(h)},"path"):u(h)},"text")}}(),function(){var o=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var i=this;this.on("added",function(){var u=i.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,i._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(i))})},initRemovedHandler:function(){var i=this;this.on("removed",function(){var u=i.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,i),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,i._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(i){i._mouseUpITextHandler=function(){i._iTextInstances&&i._iTextInstances.forEach(function(u){u.__isMousedown=!1})},i.on("mouse:up",i._mouseUpITextHandler)},_removeCanvasHandlers:function(i){i.off("mouse:up",i._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(i,u,f,a){var l;return l={isAborted:!1,abort:function(){this.isAborted=!0}},i.animate("_currentCursorOpacity",u,{duration:f,onComplete:function(){l.isAborted||i[a]()},onChange:function(){i.canvas&&i.selectionStart===i.selectionEnd&&i.renderCursorOrSelection()},abort:function(){return l.isAborted}}),l},_onTickComplete:function(){var i=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){i._currentTickCompleteState=i._animateCursor(i,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(i){var u=this,f=i?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},f)},abortCursorAnimation:function(){var i=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,i&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(i){var u=0,f=i-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)u++,f--;for(;/\S/.test(this._text[f])&&f>-1;)u++,f--;return i-u},findWordBoundaryRight:function(i){var u=0,f=i;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)u++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)u++,f++;return i+u},findLineBoundaryLeft:function(i){for(var u=0,f=i-1;!/\n/.test(this._text[f])&&f>-1;)u++,f--;return i-u},findLineBoundaryRight:function(i){for(var u=0,f=i;!/\n/.test(this._text[f])&&f<this._text.length;)u++,f++;return i+u},searchWordBoundary:function(i,u){for(var f=this._text,a=this._reSpace.test(f[i])?i-1:i,l=f[a],s=t.reNonWord;!s.test(l)&&a>0&&a<f.length;)a+=u,l=f[a];return s.test(l)&&(a+=u===1?0:1),a},selectWord:function(i){i=i||this.selectionStart;var u=this.searchWordBoundary(i,-1),f=this.searchWordBoundary(i,1);this.selectionStart=u,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(i){i=i||this.selectionStart;var u=this.findLineBoundaryLeft(i),f=this.findLineBoundaryRight(i);return this.selectionStart=u,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(i){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(i),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(i){i._iTextInstances&&i._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(i){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(i.e),f=this.selectionStart,a=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||f===a)&&(f===u||a===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==a)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(i,u,f){var a=f.slice(0,i),l=t.util.string.graphemeSplit(a).length;if(i===u)return{selectionStart:l,selectionEnd:l};var s=f.slice(i,u),h=t.util.string.graphemeSplit(s).length;return{selectionStart:l,selectionEnd:l+h}},fromGraphemeToStringSelection:function(i,u,f){var a=f.slice(0,i),l=a.join("").length;if(i===u)return{selectionStart:l,selectionEnd:l};var s=f.slice(i,u),h=s.join("").length;return{selectionStart:l,selectionEnd:l+h}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var i=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=i.selectionStart,this.hiddenTextarea.selectionEnd=i.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var i=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=i.selectionEnd,this.inCompositionMode||(this.selectionStart=i.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var i=this._calcTextareaPosition();this.hiddenTextarea.style.left=i.left,this.hiddenTextarea.style.top=i.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var i=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(i),f=this.get2DCursorLocation(i),a=f.lineIndex,l=f.charIndex,s=this.getValueOfPropertyAt(a,l,"fontSize")*this.lineHeight,h=u.leftOffset,g=this.calcTransformMatrix(),d={x:u.left+h,y:u.top+u.topOffset+s},m=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,_=b.width/m,x=b.height/m,A=_-s,L=x-s,E=b.clientWidth/_,F=b.clientHeight/x;return d=t.util.transformPoint(d,g),d=t.util.transformPoint(d,this.canvas.viewportTransform),d.x*=E,d.y*=F,d.x<0&&(d.x=0),d.x>A&&(d.x=A),d.y<0&&(d.y=0),d.y>L&&(d.y=L),d.x+=this.canvas._offset.left,d.y+=this.canvas._offset.top,{left:d.x+"px",top:d.y+"px",fontSize:s+"px",charHeight:s}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var i=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),i&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),i&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var i in this.styles)this._textLines[i]||delete this.styles[i]},removeStyleFromTo:function(i,u){var f=this.get2DCursorLocation(i,!0),a=this.get2DCursorLocation(u,!0),l=f.lineIndex,s=f.charIndex,h=a.lineIndex,g=a.charIndex,d,m;if(l!==h){if(this.styles[l])for(d=s;d<this._unwrappedTextLines[l].length;d++)delete this.styles[l][d];if(this.styles[h])for(d=g;d<this._unwrappedTextLines[h].length;d++)m=this.styles[h][d],m&&(this.styles[l]||(this.styles[l]={}),this.styles[l][s+d-g]=m);for(d=l+1;d<=h;d++)delete this.styles[d];this.shiftLineStyles(h,l-h)}else if(this.styles[l]){m=this.styles[l];var b=g-s,_,x;for(d=s;d<g;d++)delete m[d];for(x in this.styles[l])_=parseInt(x,10),_>=g&&(m[_-b]=m[x],delete m[x])}},shiftLineStyles:function(i,u){var f=o(this.styles);for(var a in this.styles){var l=parseInt(a,10);l>i&&(this.styles[l+u]=f[l],f[l-u]||delete this.styles[l])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(i,u,f,a){var l,s={},h=!1,g=this._unwrappedTextLines[i].length,d=g===u;f||(f=1),this.shiftLineStyles(i,f),this.styles[i]&&(l=this.styles[i][u===0?u:u-1]);for(var m in this.styles[i]){var b=parseInt(m,10);b>=u&&(h=!0,s[b-u]=this.styles[i][m],d&&u===0||delete this.styles[i][m])}var _=!1;for(h&&!d&&(this.styles[i+f]=s,_=!0),(_||g>u)&&f--;f>0;)a&&a[f-1]?this.styles[i+f]={0:o(a[f-1])}:l?this.styles[i+f]={0:o(l)}:delete this.styles[i+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(i,u,f,a){this.styles||(this.styles={});var l=this.styles[i],s=l?o(l):{};f||(f=1);for(var h in s){var g=parseInt(h,10);g>=u&&(l[g+f]=s[g],s[g-f]||delete l[g])}if(this._forceClearCache=!0,a){for(;f--;)!Object.keys(a[f]).length||(this.styles[i]||(this.styles[i]={}),this.styles[i][u+f]=o(a[f]));return}if(!!l)for(var d=l[u?u-1:1];d&&f--;)this.styles[i][u+f]=o(d)},insertNewStyleBlock:function(i,u,f){for(var a=this.get2DCursorLocation(u,!0),l=[0],s=0,h=0;h<i.length;h++)i[h]===`
`?(s++,l[s]=0):l[s]++;l[0]>0&&(this.insertCharStyleObject(a.lineIndex,a.charIndex,l[0],f),f=f&&f.slice(l[0]+1)),s&&this.insertNewlineStyleObject(a.lineIndex,a.charIndex+l[0],s);for(var h=1;h<s;h++)l[h]>0?this.insertCharStyleObject(a.lineIndex+h,0,l[h],f):f&&this.styles[a.lineIndex+h]&&f[0]&&(this.styles[a.lineIndex+h][0]=f[0]),f=f&&f.slice(l[h]+1);l[h]>0&&this.insertCharStyleObject(a.lineIndex+h,0,l[h],f)},setSelectionStartEndWithShift:function(i,u,f){f<=i?(u===i?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=i),this.selectionStart=f):f>i&&f<u?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(u===i?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=f)},setSelectionInBoundaries:function(){var i=this.text.length;this.selectionStart>i?this.selectionStart=i:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>i?this.selectionEnd=i:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(o){if(!!this.canvas){this.__newClickTime=+new Date;var i=o.pointer;this.isTripleClick(i)&&(this.fire("tripleclick",o),this._stopEvent(o.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=i,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(o){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===o.x&&this.__lastPointer.y===o.y},_stopEvent:function(o){o.preventDefault&&o.preventDefault(),o.stopPropagation&&o.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(o){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(o.e))},tripleClickHandler:function(o){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(o.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(o.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(o){!this.canvas||!this.editable||o.e.button&&o.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(o){if(this.__isMousedown=!1,!(!this.editable||this.group||o.transform&&o.transform.actionPerformed||o.e.button&&o.e.button!==1)){if(this.canvas){var i=this.canvas._activeObject;if(i&&i!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(o.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(o){var i=this.getSelectionStartFromPointer(o),u=this.selectionStart,f=this.selectionEnd;o.shiftKey?this.setSelectionStartEndWithShift(u,f,i):(this.selectionStart=i,this.selectionEnd=i),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(o){for(var i=this.getLocalPointer(o),u=0,f=0,a=0,l=0,s=0,h,g,d=0,m=this._textLines.length;d<m&&a<=i.y;d++)a+=this.getHeightOfLine(d)*this.scaleY,s=d,d>0&&(l+=this._textLines[d-1].length+this.missingNewlineOffset(d-1));h=this._getLineLeftOffset(s),f=h*this.scaleX,g=this._textLines[s],this.direction==="rtl"&&(i.x=this.width*this.scaleX-i.x+f);for(var b=0,_=g.length;b<_&&(u=f,f+=this.__charBounds[s][b].kernedWidth*this.scaleX,f<=i.x);b++)l++;return this._getNewSelectionStartFromOffset(i,u,f,l,_)},_getNewSelectionStartFromOffset:function(o,i,u,f,a){var l=o.x-i,s=u-o.x,h=s>l||s<0?0:1,g=f+h;return this.flipX&&(g=a-g),g>this._text.length&&(g=this._text.length),g}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var o=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+o.top+"; left: "+o.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+o.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(o){if(!!this.isEditing){var i=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(o.keyCode in i)this[i[o.keyCode]](o);else if(o.keyCode in this.ctrlKeysMapDown&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapDown[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),o.keyCode>=33&&o.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(o){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(o.keyCode in this.ctrlKeysMapUp&&(o.ctrlKey||o.metaKey))this[this.ctrlKeysMapUp[o.keyCode]](o);else return;o.stopImmediatePropagation(),o.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(o){var i=this.fromPaste;if(this.fromPaste=!1,o&&o.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,a=u.length,l,s,h=a-f,g=this.selectionStart,d=this.selectionEnd,m=g!==d,b,_,x;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var A=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),L=g>A.selectionStart;m?(l=this._text.slice(g,d),h+=d-g):a<f&&(L?l=this._text.slice(d+h,d):l=this._text.slice(g,g-h)),s=u.slice(A.selectionEnd-h,A.selectionEnd),l&&l.length&&(s.length&&(b=this.getSelectionStyles(g,g+1,!1),b=s.map(function(){return b[0]})),m?(_=g,x=d):L?(_=d-l.length,x=d):(_=d,x=d+l.length),this.removeStyleFromTo(_,x)),s.length&&(i&&s.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(b=t.copiedTextStyle),this.insertNewStyleBlock(s,g,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(o){this.compositionStart=o.target.selectionStart,this.compositionEnd=o.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(o){return o&&o.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(o,i){var u=this._getLineLeftOffset(o),f;return i>0&&(f=this.__charBounds[o][i-1],u+=f.left+f.width),u},getDownCursorOffset:function(o,i){var u=this._getSelectionForOffset(o,i),f=this.get2DCursorLocation(u),a=f.lineIndex;if(a===this._textLines.length-1||o.metaKey||o.keyCode===34)return this._text.length-u;var l=f.charIndex,s=this._getWidthBeforeCursor(a,l),h=this._getIndexOnLine(a+1,s),g=this._textLines[a].slice(l);return g.length+h+1+this.missingNewlineOffset(a)},_getSelectionForOffset:function(o,i){return o.shiftKey&&this.selectionStart!==this.selectionEnd&&i?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(o,i){var u=this._getSelectionForOffset(o,i),f=this.get2DCursorLocation(u),a=f.lineIndex;if(a===0||o.metaKey||o.keyCode===33)return-u;var l=f.charIndex,s=this._getWidthBeforeCursor(a,l),h=this._getIndexOnLine(a-1,s),g=this._textLines[a].slice(0,l),d=this.missingNewlineOffset(a-1);return-this._textLines[a-1].length+h-g.length+(1-d)},_getIndexOnLine:function(o,i){for(var u=this._textLines[o],f=this._getLineLeftOffset(o),a=f,l=0,s,h,g=0,d=u.length;g<d;g++)if(s=this.__charBounds[o][g].width,a+=s,a>i){h=!0;var m=a-s,b=a,_=Math.abs(m-i),x=Math.abs(b-i);l=x<_?g:g-1;break}return h||(l=u.length-1),l},moveCursorDown:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",o)},moveCursorUp:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",o)},_moveCursorUpOrDown:function(o,i){var u="get"+o+"CursorOffset",f=this[u](i,this._selectionDirection==="right");i.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(o){var i=this._selectionDirection==="left"?this.selectionStart+o:this.selectionEnd+o;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,i),o!==0},moveCursorWithoutShift:function(o){return o<0?(this.selectionStart+=o,this.selectionEnd=this.selectionStart):(this.selectionEnd+=o,this.selectionStart=this.selectionEnd),o!==0},moveCursorLeft:function(o){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",o)},_move:function(o,i,u){var f;if(o.altKey)f=this["findWordBoundary"+u](this[i]);else if(o.metaKey||o.keyCode===35||o.keyCode===36)f=this["findLineBoundary"+u](this[i]);else return this[i]+=u==="Left"?-1:1,!0;if(typeof f<"u"&&this[i]!==f)return this[i]=f,!0},_moveLeft:function(o,i){return this._move(o,i,"Left")},_moveRight:function(o,i){return this._move(o,i,"Right")},moveCursorLeftWithoutShift:function(o){var i=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(i=this._moveLeft(o,"selectionStart")),this.selectionEnd=this.selectionStart,i},moveCursorLeftWithShift:function(o){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(o,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(o,"selectionStart")},moveCursorRight:function(o){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",o)},_moveCursorLeftOrRight:function(o,i){var u="moveCursor"+o+"With";this._currentCursorOpacity=1,i.shiftKey?u+="Shift":u+="outShift",this[u](i)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(o){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(o,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(o,"selectionEnd")},moveCursorRightWithoutShift:function(o){var i=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(i=this._moveRight(o,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,i},removeChars:function(o,i){typeof i>"u"&&(i=o+1),this.removeStyleFromTo(o,i),this._text.splice(o,i-o),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(o,i,u,f){typeof f>"u"&&(f=u),f>u&&this.removeStyleFromTo(u,f);var a=t.util.string.graphemeSplit(o);this.insertNewStyleBlock(a,u,i),this._text=[].concat(this._text.slice(0,u),a,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var o=t.util.toFixed,i=t.util.radiansToDegrees,u=t.util.calcRotateMatrix,f=t.util.transformPoint,a=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var l=this._getSVGLeftTopOffsets(),s=this._getSVGTextAndBg(l.textTop,l.textLeft);return this._wrapSVGTextAndBg(s)},toSVG:function(l){var s=this._createBaseSVGMarkup(this._toSVG(),{reviver:l,noStyle:!0,withShadow:!0}),h=this.path;return h?s+h._createBaseSVGMarkup(h._toSVG(),{reviver:l,withShadow:!0}):s},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(l){var s=!0,h=this.getSvgTextDecoration(this);return[l.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",h?'text-decoration="'+h+'" ':"",'style="',this.getSvgStyles(s),'"',this.addPaintOrder()," >",l.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(l,s){var h=[],g=[],d=l,m;this._setSVGBg(g);for(var b=0,_=this._textLines.length;b<_;b++)m=this._getLineLeftOffset(b),(this.textBackgroundColor||this.styleHas("textBackgroundColor",b))&&this._setSVGTextLineBg(g,b,s+m,d),this._setSVGTextLineText(h,b,s+m,d),d+=this.getHeightOfLine(b);return{textSpans:h,textBgRects:g}},_createTextCharSpan:function(l,s,h,g,d){var m=l!==l.trim()||l.match(a),b=this.getSvgSpanStyles(s,m),_=b?'style="'+b+'"':"",x=s.deltaY,A="",L=t.Object.NUM_FRACTION_DIGITS,E="";if(x&&(A=' dy="'+o(x,L)+'" '),d.renderLeft!==void 0){var F=d.angle;E=' rotate="'+o(i(F),t.Object.NUM_FRACTION_DIGITS)+'" ';var Y=d.width/2,et=u({angle:i(F)});et[4]=d.renderLeft,et[5]=d.renderTop;var j=f({x:-Y,y:0},et);h=j.x,g=j.y}return['<tspan x="',o(h,L),'" y="',o(g,L),'" ',A,_,E,">",t.util.string.escapeXml(l),"</tspan>"].join("")},_setSVGTextLineText:function(l,s,h,g){var d=this.getHeightOfLine(s),m=this.textAlign.indexOf("justify")!==-1,b,_,x="",A,L,E=0,F=this._textLines[s],Y;g+=d*(1-this._fontSizeFraction)/this.lineHeight;for(var et=0,j=F.length-1;et<=j;et++)Y=et===j||this.charSpacing||this.path,x+=F[et],A=this.__charBounds[s][et],E===0?(h+=A.kernedWidth-A.width,E+=A.width):E+=A.kernedWidth,m&&!Y&&this._reSpaceAndTab.test(F[et])&&(Y=!0),Y||(b=b||this.getCompleteStyleDeclaration(s,et),_=this.getCompleteStyleDeclaration(s,et+1),Y=t.util.hasStyleChanged(b,_,!0)),Y&&(L=this._getStyleDeclaration(s,et)||{},l.push(this._createTextCharSpan(x,L,h,g,A)),x="",b=_,h+=E,E=0)},_pushTextBgRect:function(l,s,h,g,d,m){var b=t.Object.NUM_FRACTION_DIGITS;l.push("		<rect ",this._getFillAttributes(s),' x="',o(h,b),'" y="',o(g,b),'" width="',o(d,b),'" height="',o(m,b),`"></rect>
`)},_setSVGTextLineBg:function(l,s,h,g){for(var d=this._textLines[s],m=this.getHeightOfLine(s)/this.lineHeight,b=0,_=0,x,A,L=this.getValueOfPropertyAt(s,0,"textBackgroundColor"),E=0,F=d.length;E<F;E++)x=this.__charBounds[s][E],A=this.getValueOfPropertyAt(s,E,"textBackgroundColor"),A!==L?(L&&this._pushTextBgRect(l,L,h+_,g,b,m),_=x.left,b=x.width,L=A):b+=x.kernedWidth;A&&this._pushTextBgRect(l,A,h+_,g,b,m)},_getFillAttributes:function(l){var s=l&&typeof l=="string"?new t.Color(l):"";return!s||!s.getSource()||s.getAlpha()===1?'fill="'+l+'"':'opacity="'+s.getAlpha()+'" fill="'+s.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(l){for(var s=0,h=0,g=0;g<l;g++)s+=this.getHeightOfLine(g);return h=this.getHeightOfLine(g),{lineTop:s,offset:(this._fontSizeMult-this._fontSizeFraction)*h/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(l){var s=t.Object.prototype.getSvgStyles.call(this,l);return s+" white-space: pre;"}})}(),function(o){var i=o.fabric||(o.fabric={});i.Textbox=i.util.createClass(i.IText,i.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:i.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var f=0,a=0,l=0,s={},h=0;h<u.graphemeLines.length;h++)u.graphemeText[l]===`
`&&h>0?(a=0,l++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[l])&&h>0&&(a++,l++),s[h]={line:f,offset:a},l+=u.graphemeLines[h].length,a+=u.graphemeLines[h].length;return s},styleHas:function(u,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[f];a&&(f=a.line)}return i.Text.prototype.styleHas.call(this,u,f)},isEmptyStyles:function(u){if(!this.styles)return!0;var f=0,a=u+1,l,s,h=!1,g=this._styleMap[u],d=this._styleMap[u+1];g&&(u=g.line,f=g.offset),d&&(a=d.line,h=a===u,l=d.offset),s=typeof u>"u"?this.styles:{line:this.styles[u]};for(var m in s)for(var b in s[m])if(b>=f&&(!h||b<l))for(var _ in s[m][b])return!1;return!0},_getStyleDeclaration:function(u,f){if(this._styleMap&&!this.isWrapping){var a=this._styleMap[u];if(!a)return null;u=a.line,f=a.offset+f}return this.callSuper("_getStyleDeclaration",u,f)},_setStyleDeclaration:function(u,f,a){var l=this._styleMap[u];u=l.line,f=l.offset+f,this.styles[u][f]=a},_deleteStyleDeclaration:function(u,f){var a=this._styleMap[u];u=a.line,f=a.offset+f,delete this.styles[u][f]},_getLineStyle:function(u){var f=this._styleMap[u];return!!this.styles[f.line]},_setLineStyle:function(u){var f=this._styleMap[u];this.styles[f.line]={}},_wrapText:function(u,f){var a=[],l;for(this.isWrapping=!0,l=0;l<u.length;l++)a=a.concat(this._wrapLine(u[l],l,f));return this.isWrapping=!1,a},_measureWord:function(u,f,a){var l=0,s,h=!0;a=a||0;for(var g=0,d=u.length;g<d;g++){var m=this._getGraphemeBox(u[g],f,g+a,s,h);l+=m.kernedWidth,s=u[g]}return l},_wrapLine:function(u,f,a,et){var s=0,h=this.splitByGrapheme,g=[],d=[],m=h?i.util.string.graphemeSplit(u):u.split(this._wordJoiners),b="",_=0,x=h?"":" ",A=0,L=0,E=0,F=!0,Y=this._getWidthOfCharSpacing(),et=et||0;m.length===0&&m.push([]),a-=et;for(var j=0;j<m.length;j++)b=h?m[j]:i.util.string.graphemeSplit(m[j]),A=this._measureWord(b,f,_),_+=b.length,s+=L+A-Y,s>a&&!F?(g.push(d),d=[],s=A,F=!0):s+=Y,!F&&!h&&d.push(x),d=d.concat(b),L=h?0:this._measureWord([x],f,_),_++,F=!1,A>E&&(E=A);return j&&g.push(d),E+et>this.dynamicMinWidth&&(this.dynamicMinWidth=E-Y+et),g},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u,f){return this.splitByGrapheme&&!f?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var f=i.Text.prototype._splitTextIntoLines.call(this,u),a=this._wrapText(f.lines,this.width),l=new Array(a.length),s=0;s<a.length;s++)l[s]=a[s].join("");return f.lines=l,f.graphemeLines=a,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var f in this._styleMap)this._textLines[f]&&(u[this._styleMap[f].line]=1);for(var f in this.styles)u[f]||delete this.styles[f]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),i.Textbox.fromObject=function(u,f){var a=i.util.stylesFromArray(u.styles,u.text),l=Object.assign({},u,{styles:a});return delete l.path,i.Object._fromObject("Textbox",l,function(s){u.path?i.Object._fromObject("Path",u.path,function(h){s.set("path",h),f(s)},"path"):f(s)},"text")}}(e),function(){var o=t.controlsUtils,i=o.scaleSkewCursorStyleHandler,u=o.scaleCursorStyleHandler,f=o.scalingEqually,a=o.scalingYOrSkewingX,l=o.scalingXOrSkewingY,s=o.scaleOrSkewActionName,h=t.Object.prototype.controls;if(h.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:s}),h.mr=new t.Control({x:.5,y:0,cursorStyleHandler:i,actionHandler:l,getActionName:s}),h.mb=new t.Control({x:0,y:.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),h.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:i,actionHandler:a,getActionName:s}),h.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:f}),h.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:f}),h.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:f}),h.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:f}),h.mtr=new t.Control({x:0,y:-.5,actionHandler:o.rotationWithSnapping,cursorStyleHandler:o.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var g=t.Textbox.prototype.controls={};g.mtr=h.mtr,g.tr=h.tr,g.br=h.br,g.tl=h.tl,g.bl=h.bl,g.mt=h.mt,g.mb=h.mb,g.mr=new t.Control({x:.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:i,actionName:"resizing"}),g.ml=new t.Control({x:-.5,y:0,actionHandler:o.changeWidth,cursorStyleHandler:i,actionName:"resizing"})}}()})(Rs);const ub="modulepreload",fb=function(e){return"/SIGN/"+e},ag={},Ha=function(t,n,r){if(!n||n.length===0)return t();const c=document.getElementsByTagName("link");return Promise.all(n.map(p=>{if(p=fb(p),p in ag)return;ag[p]=!0;const v=p.endsWith(".css"),o=v?'[rel="stylesheet"]':"";if(!!r)for(let f=c.length-1;f>=0;f--){const a=c[f];if(a.href===p&&(!v||a.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${p}"]${o}`))return;const u=document.createElement("link");if(u.rel=v?"stylesheet":ub,v||(u.as="script",u.crossOrigin=""),u.href=p,document.head.appendChild(u),v)return new Promise((f,a)=>{u.addEventListener("load",f),u.addEventListener("error",()=>a(new Error(`Unable to preload CSS for ${p}`)))})})).then(()=>t())};function Ee(e){return Ee=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ee(e)}var Dn=Uint8Array,li=Uint16Array,xd=Int32Array,xu=new Dn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Su=new Dn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),yh=new Dn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Z1=function(e,t){for(var n=new li(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var c=new xd(n[30]),r=1;r<30;++r)for(var p=n[r];p<n[r+1];++p)c[p]=p-n[r]<<5|r;return{b:n,r:c}},t0=Z1(xu,2),e0=t0.b,bh=t0.r;e0[28]=258,bh[258]=28;var n0=Z1(Su,0),hb=n0.b,og=n0.r,wh=new li(32768);for(var Ue=0;Ue<32768;++Ue){var Qr=(Ue&43690)>>1|(Ue&21845)<<1;Qr=(Qr&52428)>>2|(Qr&13107)<<2,Qr=(Qr&61680)>>4|(Qr&3855)<<4,wh[Ue]=((Qr&65280)>>8|(Qr&255)<<8)>>1}var fr=function(e,t,n){for(var r=e.length,c=0,p=new li(t);c<r;++c)e[c]&&++p[e[c]-1];var v=new li(t);for(c=1;c<t;++c)v[c]=v[c-1]+p[c-1]<<1;var o;if(n){o=new li(1<<t);var i=15-t;for(c=0;c<r;++c)if(e[c])for(var u=c<<4|e[c],f=t-e[c],a=v[e[c]-1]++<<f,l=a|(1<<f)-1;a<=l;++a)o[wh[a]>>i]=u}else for(o=new li(r),c=0;c<r;++c)e[c]&&(o[c]=wh[v[e[c]-1]++]>>15-e[c]);return o},hs=new Dn(288);for(var Ue=0;Ue<144;++Ue)hs[Ue]=8;for(var Ue=144;Ue<256;++Ue)hs[Ue]=9;for(var Ue=256;Ue<280;++Ue)hs[Ue]=7;for(var Ue=280;Ue<288;++Ue)hs[Ue]=8;var ml=new Dn(32);for(var Ue=0;Ue<32;++Ue)ml[Ue]=5;var db=fr(hs,9,0),pb=fr(hs,9,1),gb=fr(ml,5,0),mb=fr(ml,5,1),zf=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},Ni=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},qf=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},Sd=function(e){return(e+7)/8|0},i0=function(e,t,n){return(t==null||t<0)&&(t=0),(n==null||n>e.length)&&(n=e.length),new Dn(e.subarray(t,n))},vb=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ii=function(e,t,n){var r=new Error(t||vb[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,Ii),!n)throw r;return r},yb=function(e,t,n,r){var c=e.length,p=r?r.length:0;if(!c||t.f&&!t.l)return n||new Dn(0);var v=!n,o=v||t.i!=2,i=t.i;v&&(n=new Dn(c*3));var u=function(dt){var xt=n.length;if(dt>xt){var N=new Dn(Math.max(xt*2,dt));N.set(n),n=N}},f=t.f||0,a=t.p||0,l=t.b||0,s=t.l,h=t.d,g=t.m,d=t.n,m=c*8;do{if(!s){f=Ni(e,a,1);var b=Ni(e,a+1,3);if(a+=3,b)if(b==1)s=pb,h=mb,g=9,d=5;else if(b==2){var L=Ni(e,a,31)+257,E=Ni(e,a+10,15)+4,F=L+Ni(e,a+5,31)+1;a+=14;for(var Y=new Dn(F),et=new Dn(19),j=0;j<E;++j)et[yh[j]]=Ni(e,a+j*3,7);a+=E*3;for(var M=zf(et),tt=(1<<M)-1,Z=fr(et,M,1),j=0;j<F;){var ft=Z[Ni(e,a,tt)];a+=ft&15;var _=ft>>4;if(_<16)Y[j++]=_;else{var ht=0,pt=0;for(_==16?(pt=3+Ni(e,a,3),a+=2,ht=Y[j-1]):_==17?(pt=3+Ni(e,a,7),a+=3):_==18&&(pt=11+Ni(e,a,127),a+=7);pt--;)Y[j++]=ht}}var ct=Y.subarray(0,L),D=Y.subarray(L);g=zf(ct),d=zf(D),s=fr(ct,g,1),h=fr(D,d,1)}else Ii(1);else{var _=Sd(a)+4,x=e[_-4]|e[_-3]<<8,A=_+x;if(A>c){i&&Ii(0);break}o&&u(l+x),n.set(e.subarray(_,A),l),t.b=l+=x,t.p=a=A*8,t.f=f;continue}if(a>m){i&&Ii(0);break}}o&&u(l+131072);for(var $=(1<<g)-1,nt=(1<<d)-1,T=a;;T=a){var ht=s[qf(e,a)&$],q=ht>>4;if(a+=ht&15,a>m){i&&Ii(0);break}if(ht||Ii(2),q<256)n[l++]=q;else if(q==256){T=a,s=null;break}else{var k=q-254;if(q>264){var j=q-257,O=xu[j];k=Ni(e,a,(1<<O)-1)+e0[j],a+=O}var W=h[qf(e,a)&nt],B=W>>4;W||Ii(3),a+=W&15;var D=hb[B];if(B>3){var O=Su[B];D+=qf(e,a)&(1<<O)-1,a+=O}if(a>m){i&&Ii(0);break}o&&u(l+131072);var J=l+k;if(l<D){var G=p-D,lt=Math.min(D,J);for(G+l<0&&Ii(3);l<lt;++l)n[l]=r[G+l]}for(;l<J;++l)n[l]=n[l-D]}}t.l=s,t.p=T,t.b=l,t.f=f,s&&(f=1,t.m=g,t.d=h,t.n=d)}while(!f);return l!=n.length&&v?i0(n,0,l):n.subarray(0,l)},Pr=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},zo=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Hf=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var c=n.length,p=n.slice();if(!c)return{t:s0,l:0};if(c==1){var v=new Dn(n[0].s+1);return v[n[0].s]=1,{t:v,l:1}}n.sort(function(A,L){return A.f-L.f}),n.push({s:-1,f:25001});var o=n[0],i=n[1],u=0,f=1,a=2;for(n[0]={s:-1,f:o.f+i.f,l:o,r:i};f!=c-1;)o=n[n[u].f<n[a].f?u++:a++],i=n[u!=f&&n[u].f<n[a].f?u++:a++],n[f++]={s:-1,f:o.f+i.f,l:o,r:i};for(var l=p[0].s,r=1;r<c;++r)p[r].s>l&&(l=p[r].s);var s=new li(l+1),h=_h(n[f-1],s,0);if(h>t){var r=0,g=0,d=h-t,m=1<<d;for(p.sort(function(L,E){return s[E.s]-s[L.s]||L.f-E.f});r<c;++r){var b=p[r].s;if(s[b]>t)g+=m-(1<<h-s[b]),s[b]=t;else break}for(g>>=d;g>0;){var _=p[r].s;s[_]<t?g-=1<<t-s[_]++-1:++r}for(;r>=0&&g;--r){var x=p[r].s;s[x]==t&&(--s[x],++g)}h=t}return{t:new Dn(s),l:h}},_h=function(e,t,n){return e.s==-1?Math.max(_h(e.l,t,n+1),_h(e.r,t,n+1)):t[e.s]=n},lg=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new li(++t),r=0,c=e[0],p=1,v=function(i){n[r++]=i},o=1;o<=t;++o)if(e[o]==c&&o!=t)++p;else{if(!c&&p>2){for(;p>138;p-=138)v(32754);p>2&&(v(p>10?p-11<<5|28690:p-3<<5|12305),p=0)}else if(p>3){for(v(c),--p;p>6;p-=6)v(8304);p>2&&(v(p-3<<5|8208),p=0)}for(;p--;)v(c);p=1,c=e[o]}return{c:n.subarray(0,r),n:t}},qo=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},r0=function(e,t,n){var r=n.length,c=Sd(t+2);e[c]=r&255,e[c+1]=r>>8,e[c+2]=e[c]^255,e[c+3]=e[c+1]^255;for(var p=0;p<r;++p)e[c+p+4]=n[p];return(c+4+r)*8},cg=function(e,t,n,r,c,p,v,o,i,u,f){Pr(t,f++,n),++c[256];for(var a=Hf(c,15),l=a.t,s=a.l,h=Hf(p,15),g=h.t,d=h.l,m=lg(l),b=m.c,_=m.n,x=lg(g),A=x.c,L=x.n,E=new li(19),F=0;F<b.length;++F)++E[b[F]&31];for(var F=0;F<A.length;++F)++E[A[F]&31];for(var Y=Hf(E,7),et=Y.t,j=Y.l,M=19;M>4&&!et[yh[M-1]];--M);var tt=u+5<<3,Z=qo(c,hs)+qo(p,ml)+v,ft=qo(c,l)+qo(p,g)+v+14+3*M+qo(E,et)+2*E[16]+3*E[17]+7*E[18];if(i>=0&&tt<=Z&&tt<=ft)return r0(t,f,e.subarray(i,i+u));var ht,pt,ct,D;if(Pr(t,f,1+(ft<Z)),f+=2,ft<Z){ht=fr(l,s,0),pt=l,ct=fr(g,d,0),D=g;var $=fr(et,j,0);Pr(t,f,_-257),Pr(t,f+5,L-1),Pr(t,f+10,M-4),f+=14;for(var F=0;F<M;++F)Pr(t,f+3*F,et[yh[F]]);f+=3*M;for(var nt=[b,A],T=0;T<2;++T)for(var q=nt[T],F=0;F<q.length;++F){var k=q[F]&31;Pr(t,f,$[k]),f+=et[k],k>15&&(Pr(t,f,q[F]>>5&127),f+=q[F]>>12)}}else ht=db,pt=hs,ct=gb,D=ml;for(var F=0;F<o;++F){var O=r[F];if(O>255){var k=O>>18&31;zo(t,f,ht[k+257]),f+=pt[k+257],k>7&&(Pr(t,f,O>>23&31),f+=xu[k]);var W=O&31;zo(t,f,ct[W]),f+=D[W],W>3&&(zo(t,f,O>>5&8191),f+=Su[W])}else zo(t,f,ht[O]),f+=pt[O]}return zo(t,f,ht[256]),f+pt[256]},bb=new xd([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),s0=new Dn(0),wb=function(e,t,n,r,c,p){var v=p.z||e.length,o=new Dn(r+v+5*(1+Math.ceil(v/7e3))+c),i=o.subarray(r,o.length-c),u=p.l,f=(p.r||0)&7;if(t){f&&(i[0]=p.r>>3);for(var a=bb[t-1],l=a>>13,s=a&8191,h=(1<<n)-1,g=p.p||new li(32768),d=p.h||new li(h+1),m=Math.ceil(n/3),b=2*m,_=function(R){return(e[R]^e[R+1]<<m^e[R+2]<<b)&h},x=new xd(25e3),A=new li(288),L=new li(32),E=0,F=0,Y=p.i||0,et=0,j=p.w||0,M=0;Y+2<v;++Y){var tt=_(Y),Z=Y&32767,ft=d[tt];if(g[Z]=ft,d[tt]=Z,j<=Y){var ht=v-Y;if((E>7e3||et>24576)&&(ht>423||!u)){f=cg(e,i,0,x,A,L,F,et,M,Y-M,f),et=E=F=0,M=Y;for(var pt=0;pt<286;++pt)A[pt]=0;for(var pt=0;pt<30;++pt)L[pt]=0}var ct=2,D=0,$=s,nt=Z-ft&32767;if(ht>2&&tt==_(Y-nt))for(var T=Math.min(l,ht)-1,q=Math.min(32767,Y),k=Math.min(258,ht);nt<=q&&--$&&Z!=ft;){if(e[Y+ct]==e[Y+ct-nt]){for(var O=0;O<k&&e[Y+O]==e[Y+O-nt];++O);if(O>ct){if(ct=O,D=nt,O>T)break;for(var W=Math.min(nt,O-2),B=0,pt=0;pt<W;++pt){var J=Y-nt+pt&32767,G=g[J],lt=J-G&32767;lt>B&&(B=lt,ft=J)}}}Z=ft,ft=g[Z],nt+=Z-ft&32767}if(D){x[et++]=268435456|bh[ct]<<18|og[D];var dt=bh[ct]&31,xt=og[D]&31;F+=xu[dt]+Su[xt],++A[257+dt],++L[xt],j=Y+ct,++E}else x[et++]=e[Y],++A[e[Y]]}}for(Y=Math.max(Y,j);Y<v;++Y)x[et++]=e[Y],++A[e[Y]];f=cg(e,i,u,x,A,L,F,et,M,Y-M,f),u||(p.r=f&7|i[f/8|0]<<3,f-=7,p.h=d,p.p=g,p.i=Y,p.w=j)}else{for(var Y=p.w||0;Y<v+u;Y+=65535){var N=Y+65535;N>=v&&(i[f/8|0]=u,N=v),f=r0(i,f+1,e.subarray(Y,N))}p.i=v}return i0(o,0,r+Sd(f)+c)},a0=function(){var e=1,t=0;return{p:function(n){for(var r=e,c=t,p=n.length|0,v=0;v!=p;){for(var o=Math.min(v+2655,p);v<o;++v)c+=r+=n[v];r=(r&65535)+15*(r>>16),c=(c&65535)+15*(c>>16)}e=r,t=c},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},_b=function(e,t,n,r,c){if(!c&&(c={l:1},t.dictionary)){var p=t.dictionary.subarray(-32768),v=new Dn(p.length+e.length);v.set(p),v.set(e,p.length),e=v,c.w=p.length}return wb(e,t.level==null?6:t.level,t.mem==null?c.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,c)},o0=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},xb=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var c=a0();c.p(t.dictionary),o0(e,2,c.d())}},Sb=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&Ii(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&Ii(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function xh(e,t){t||(t={});var n=a0();n.p(e);var r=_b(e,t,t.dictionary?6:2,4);return xb(r,t),o0(r,r.length-4,n.d()),r}function Cb(e,t){return yb(e.subarray(Sb(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var Ab=typeof TextDecoder<"u"&&new TextDecoder,Tb=0;try{Ab.decode(s0,{stream:!0}),Tb=1}catch{}var re=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Wf(){re.console&&typeof re.console.log=="function"&&re.console.log.apply(re.console,arguments)}var Ie={log:Wf,warn:function(e){re.console&&(typeof re.console.warn=="function"?re.console.warn.apply(re.console,arguments):Wf.call(null,arguments))},error:function(e){re.console&&(typeof re.console.error=="function"?re.console.error.apply(re.console,arguments):Wf(e))}};function Vf(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){js(r.response,t,n)},r.onerror=function(){Ie.error("could not download file")},r.send()}function ug(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ac(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var tl,Sh,js=re.saveAs||((typeof window>"u"?"undefined":Ee(window))!=="object"||window!==re?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=re.URL||re.webkitURL,c=document.createElement("a");t=t||e.name||"download",c.download=t,c.rel="noopener",typeof e=="string"?(c.href=e,c.origin!==location.origin?ug(c.href)?Vf(e,t,n):Ac(c,c.target="_blank"):Ac(c)):(c.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(c.href)},4e4),setTimeout(function(){Ac(c)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(ug(e))Vf(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Ac(r)})}else navigator.msSaveOrOpenBlob(function(c,p){return p===void 0?p={autoBom:!1}:Ee(p)!=="object"&&(Ie.warn("Deprecated: Expected third argument to be a object"),p={autoBom:!p}),p.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(c.type)?new Blob([String.fromCharCode(65279),c],{type:c.type}):c}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Vf(e,t,n);var c=e.type==="application/octet-stream",p=/constructor/i.test(re.HTMLElement)||re.safari,v=/CriOS\/[\d]+/.test(navigator.userAgent);if((v||c&&p)&&(typeof FileReader>"u"?"undefined":Ee(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var f=o.result;f=v?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=f:location=f,r=null},o.readAsDataURL(e)}else{var i=re.URL||re.webkitURL,u=i.createObjectURL(e);r?r.location=u:location.href=u,r=null,setTimeout(function(){i.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function l0(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var c=n[r].re,p=n[r].process,v=c.exec(e);v&&(t=p(v),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),i=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),i.length==1&&(i="0"+i),u.length==1&&(u="0"+u),"#"+o+i+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Yf(e,t){var n=e[0],r=e[1],c=e[2],p=e[3];n=Ln(n,r,c,p,t[0],7,-680876936),p=Ln(p,n,r,c,t[1],12,-389564586),c=Ln(c,p,n,r,t[2],17,606105819),r=Ln(r,c,p,n,t[3],22,-1044525330),n=Ln(n,r,c,p,t[4],7,-176418897),p=Ln(p,n,r,c,t[5],12,1200080426),c=Ln(c,p,n,r,t[6],17,-1473231341),r=Ln(r,c,p,n,t[7],22,-45705983),n=Ln(n,r,c,p,t[8],7,1770035416),p=Ln(p,n,r,c,t[9],12,-1958414417),c=Ln(c,p,n,r,t[10],17,-42063),r=Ln(r,c,p,n,t[11],22,-1990404162),n=Ln(n,r,c,p,t[12],7,1804603682),p=Ln(p,n,r,c,t[13],12,-40341101),c=Ln(c,p,n,r,t[14],17,-1502002290),n=kn(n,r=Ln(r,c,p,n,t[15],22,1236535329),c,p,t[1],5,-165796510),p=kn(p,n,r,c,t[6],9,-1069501632),c=kn(c,p,n,r,t[11],14,643717713),r=kn(r,c,p,n,t[0],20,-373897302),n=kn(n,r,c,p,t[5],5,-701558691),p=kn(p,n,r,c,t[10],9,38016083),c=kn(c,p,n,r,t[15],14,-660478335),r=kn(r,c,p,n,t[4],20,-405537848),n=kn(n,r,c,p,t[9],5,568446438),p=kn(p,n,r,c,t[14],9,-1019803690),c=kn(c,p,n,r,t[3],14,-187363961),r=kn(r,c,p,n,t[8],20,1163531501),n=kn(n,r,c,p,t[13],5,-1444681467),p=kn(p,n,r,c,t[2],9,-51403784),c=kn(c,p,n,r,t[7],14,1735328473),n=En(n,r=kn(r,c,p,n,t[12],20,-1926607734),c,p,t[5],4,-378558),p=En(p,n,r,c,t[8],11,-2022574463),c=En(c,p,n,r,t[11],16,1839030562),r=En(r,c,p,n,t[14],23,-35309556),n=En(n,r,c,p,t[1],4,-1530992060),p=En(p,n,r,c,t[4],11,1272893353),c=En(c,p,n,r,t[7],16,-155497632),r=En(r,c,p,n,t[10],23,-1094730640),n=En(n,r,c,p,t[13],4,681279174),p=En(p,n,r,c,t[0],11,-358537222),c=En(c,p,n,r,t[3],16,-722521979),r=En(r,c,p,n,t[6],23,76029189),n=En(n,r,c,p,t[9],4,-640364487),p=En(p,n,r,c,t[12],11,-421815835),c=En(c,p,n,r,t[15],16,530742520),n=Nn(n,r=En(r,c,p,n,t[2],23,-995338651),c,p,t[0],6,-198630844),p=Nn(p,n,r,c,t[7],10,1126891415),c=Nn(c,p,n,r,t[14],15,-1416354905),r=Nn(r,c,p,n,t[5],21,-57434055),n=Nn(n,r,c,p,t[12],6,1700485571),p=Nn(p,n,r,c,t[3],10,-1894986606),c=Nn(c,p,n,r,t[10],15,-1051523),r=Nn(r,c,p,n,t[1],21,-2054922799),n=Nn(n,r,c,p,t[8],6,1873313359),p=Nn(p,n,r,c,t[15],10,-30611744),c=Nn(c,p,n,r,t[6],15,-1560198380),r=Nn(r,c,p,n,t[13],21,1309151649),n=Nn(n,r,c,p,t[4],6,-145523070),p=Nn(p,n,r,c,t[11],10,-1120210379),c=Nn(c,p,n,r,t[2],15,718787259),r=Nn(r,c,p,n,t[9],21,-343485551),e[0]=ls(n,e[0]),e[1]=ls(r,e[1]),e[2]=ls(c,e[2]),e[3]=ls(p,e[3])}function Cu(e,t,n,r,c,p){return t=ls(ls(t,e),ls(r,p)),ls(t<<c|t>>>32-c,n)}function Ln(e,t,n,r,c,p,v){return Cu(t&n|~t&r,e,t,c,p,v)}function kn(e,t,n,r,c,p,v){return Cu(t&r|n&~r,e,t,c,p,v)}function En(e,t,n,r,c,p,v){return Cu(t^n^r,e,t,c,p,v)}function Nn(e,t,n,r,c,p,v){return Cu(n^(t|~r),e,t,c,p,v)}function c0(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Yf(r,Pb(e.substring(t-64,t)));e=e.substring(t-64);var c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)c[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(c[t>>2]|=128<<(t%4<<3),t>55)for(Yf(r,c),t=0;t<16;t++)c[t]=0;return c[14]=8*n,Yf(r,c),r}function Pb(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}tl=re.atob.bind(re),Sh=re.btoa.bind(re);var fg="0123456789abcdef".split("");function Ob(e){for(var t="",n=0;n<4;n++)t+=fg[e>>8*n+4&15]+fg[e>>8*n&15];return t}function Lb(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function Ch(e){return c0(e).map(Lb).join("")}var kb=function(e){for(var t=0;t<e.length;t++)e[t]=Ob(e[t]);return e.join("")}(c0("hello"))!="5d41402abc4b2a76b9719d911017c592";function ls(e,t){if(kb){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Ah(e,t){var n,r,c,p;if(e!==n){for(var v=(c=e,p=1+(256/e.length>>0),new Array(p+1).join(c)),o=[],i=0;i<256;i++)o[i]=i;var u=0;for(i=0;i<256;i++){var f=o[i];u=(u+f+v.charCodeAt(i))%256,o[i]=o[u],o[u]=f}n=e,r=o}else o=r;var a=t.length,l=0,s=0,h="";for(i=0;i<a;i++)s=(s+(f=o[l=(l+1)%256]))%256,o[l]=o[s],o[s]=f,v=o[(o[l]+o[s])%256],h+=String.fromCharCode(t.charCodeAt(i)^v);return h}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var hg={print:4,modify:8,copy:16,"annot-forms":32};function Ea(e,t,n,r){this.v=1,this.r=2;var c=192;e.forEach(function(o){if(hg.perm!==void 0)throw new Error("Invalid permission: "+o);c+=hg[o]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var p=(t+this.padding).substr(0,32),v=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(p,v),this.P=-(1+(255^c)),this.encryptionKey=Ch(p+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ah(this.encryptionKey,this.padding)}function Na(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var c=e.charCodeAt(r);c<33||c===35||c===37||c===40||c===41||c===47||c===60||c===62||c===91||c===93||c===123||c===125||c>126?t+="#"+("0"+c.toString(16)).slice(-2):t+=e[r]}return t}function dg(e){if(Ee(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,c){if(c=c||!1,typeof n!="string"||typeof r!="function"||typeof c!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var p=Math.random().toString(35);return t[n][p]=[r,!!c],p},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),c=[];for(var p in t[n]){var v=t[n][p];try{v[0].apply(e,r)}catch(o){re.console&&Ie.error("jsPDF PubSub Error",o.message,o)}v[1]&&c.push(p)}c.length&&c.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function eu(e){if(!(this instanceof eu))return new eu(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function u0(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Us(e,t,n,r,c){if(!(this instanceof Us))return new Us(e,t,n,r,c);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,u0.call(this,r,c)}function Ia(e,t,n,r,c){if(!(this instanceof Ia))return new Ia(e,t,n,r,c);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,u0.call(this,r,c)}function ie(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],c=arguments[2],p=arguments[3],v=[],o=1,i=16,u="S",f=null;Ee(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,c=e.format||c,p=e.compress||e.compressPdf||p,(f=e.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),o=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(i=e.floatPrecision),u=e.defaultPathOperation||"S"),v=e.filters||(p===!0?["FlateEncode"]:v),r=r||"mm",n=(""+(n||"P")).toLowerCase();var a=e.putOnlyUsedFonts||!1,l={},s={internal:{},__private__:{}};s.__private__.PubSub=dg;var h="1.3",g=s.__private__.getPdfVersion=function(){return h};s.__private__.setPdfVersion=function(S){h=S};var d={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};s.__private__.getPageFormats=function(){return d};var m=s.__private__.getPageFormat=function(S){return d[S]};c=c||"a4";var b={COMPAT:"compat",ADVANCED:"advanced"},_=b.COMPAT;function x(){this.saveGraphicsState(),I(new ne(zt,0,0,-zt,0,Br()*zt).toString()+" cm"),this.setFontSize(this.getFontSize()/zt),u="n",_=b.ADVANCED}function A(){this.restoreGraphicsState(),u="S",_=b.COMPAT}var L=s.__private__.combineFontStyleAndFontWeight=function(S,z){if(S=="bold"&&z=="normal"||S=="bold"&&z==400||S=="normal"&&z=="italic"||S=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(S=z==400||z==="normal"?S==="italic"?"italic":"normal":z!=700&&z!=="bold"||S!=="normal"?(z==700?"bold":z)+""+S:"bold"),S};s.advancedAPI=function(S){var z=_===b.COMPAT;return z&&x.call(this),typeof S!="function"||(S(this),z&&A.call(this)),this},s.compatAPI=function(S){var z=_===b.ADVANCED;return z&&A.call(this),typeof S!="function"||(S(this),z&&x.call(this)),this},s.isAdvancedAPI=function(){return _===b.ADVANCED};var E,F=function(S){if(_!==b.ADVANCED)throw new Error(S+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Y=s.roundToPrecision=s.__private__.roundToPrecision=function(S,z){var ot=t||z;if(isNaN(S)||isNaN(ot))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return S.toFixed(ot).replace(/0+$/,"")};E=s.hpf=s.__private__.hpf=typeof i=="number"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,i)}:i==="smart"?function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,S>-1&&S<1?16:5)}:function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.hpf");return Y(S,16)};var et=s.f2=s.__private__.f2=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f2");return Y(S,2)},j=s.__private__.f3=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.f3");return Y(S,3)},M=s.scale=s.__private__.scale=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.scale");return _===b.COMPAT?S*zt:_===b.ADVANCED?S:void 0},tt=function(S){return _===b.COMPAT?Br()-S:_===b.ADVANCED?S:void 0},Z=function(S){return M(tt(S))};s.__private__.setPrecision=s.setPrecision=function(S){typeof parseInt(S,10)=="number"&&(t=parseInt(S,10))};var ft,ht="00000000000000000000000000000000",pt=s.__private__.getFileId=function(){return ht},ct=s.__private__.setFileId=function(S){return ht=S!==void 0&&/^[a-fA-F0-9]{32}$/.test(S)?S.toUpperCase():ht.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Pn=new Ea(f.userPermissions,f.userPassword,f.ownerPassword,ht)),ht};s.setFileId=function(S){return ct(S),this},s.getFileId=function(){return pt()};var D=s.__private__.convertDateToPDFDate=function(S){var z=S.getTimezoneOffset(),ot=z<0?"+":"-",mt=Math.floor(Math.abs(z/60)),St=Math.abs(z%60),Nt=[ot,k(mt),"'",k(St),"'"].join("");return["D:",S.getFullYear(),k(S.getMonth()+1),k(S.getDate()),k(S.getHours()),k(S.getMinutes()),k(S.getSeconds()),Nt].join("")},$=s.__private__.convertPDFDateToDate=function(S){var z=parseInt(S.substr(2,4),10),ot=parseInt(S.substr(6,2),10)-1,mt=parseInt(S.substr(8,2),10),St=parseInt(S.substr(10,2),10),Nt=parseInt(S.substr(12,2),10),jt=parseInt(S.substr(14,2),10);return new Date(z,ot,mt,St,Nt,jt,0)},nt=s.__private__.setCreationDate=function(S){var z;if(S===void 0&&(S=new Date),S instanceof Date)z=D(S);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(S))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=S}return ft=z},T=s.__private__.getCreationDate=function(S){var z=ft;return S==="jsDate"&&(z=$(ft)),z};s.setCreationDate=function(S){return nt(S),this},s.getCreationDate=function(S){return T(S)};var q,k=s.__private__.padd2=function(S){return("0"+parseInt(S)).slice(-2)},O=s.__private__.padd2Hex=function(S){return("00"+(S=S.toString())).substr(S.length)},W=0,B=[],J=[],G=0,lt=[],dt=[],xt=!1,N=J,R=function(){W=0,G=0,J=[],B=[],lt=[],gr=sn(),Ci=sn()};s.__private__.setCustomOutputDestination=function(S){xt=!0,N=S};var H=function(S){xt||(N=S)};s.__private__.resetCustomOutputDestination=function(){xt=!1,N=J};var I=s.__private__.out=function(S){return S=S.toString(),G+=S.length+1,N.push(S),N},it=s.__private__.write=function(S){return I(arguments.length===1?S.toString():Array.prototype.join.call(arguments," "))},at=s.__private__.getArrayBuffer=function(S){for(var z=S.length,ot=new ArrayBuffer(z),mt=new Uint8Array(ot);z--;)mt[z]=S.charCodeAt(z);return ot},ut=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];s.__private__.getStandardFonts=function(){return ut};var vt=e.fontSize||16;s.__private__.setFontSize=s.setFontSize=function(S){return vt=_===b.ADVANCED?S/zt:S,this};var gt,rt=s.__private__.getFontSize=s.getFontSize=function(){return _===b.COMPAT?vt:vt*zt},Ct=e.R2L||!1;s.__private__.setR2L=s.setR2L=function(S){return Ct=S,this},s.__private__.getR2L=s.getR2L=function(){return Ct};var Ot,Et=s.__private__.setZoomMode=function(S){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(S))gt=S;else if(isNaN(S)){if(z.indexOf(S)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+S+'" is not recognized.');gt=S}else gt=parseInt(S,10)};s.__private__.getZoomMode=function(){return gt};var Mt,Bt=s.__private__.setPageMode=function(S){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(S)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+S+'" is not recognized.');Ot=S};s.__private__.getPageMode=function(){return Ot};var Vt=s.__private__.setLayoutMode=function(S){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(S)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+S+'" is not recognized.');Mt=S};s.__private__.getLayoutMode=function(){return Mt},s.__private__.setDisplayMode=s.setDisplayMode=function(S,z,ot){return Et(S),Vt(z),Bt(ot),this};var Ut={title:"",subject:"",author:"",keywords:"",creator:""};s.__private__.getDocumentProperty=function(S){if(Object.keys(Ut).indexOf(S)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ut[S]},s.__private__.getDocumentProperties=function(){return Ut},s.__private__.setDocumentProperties=s.setProperties=s.setDocumentProperties=function(S){for(var z in Ut)Ut.hasOwnProperty(z)&&S[z]&&(Ut[z]=S[z]);return this},s.__private__.setDocumentProperty=function(S,z){if(Object.keys(Ut).indexOf(S)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ut[S]=z};var Kt,zt,ve,se,rn,Se={},me={},Ke=[],_e={},bs={},We={},xi={},pr=null,Ve=0,le=[],Te=new dg(s),ws=e.hotfixes||[],xn={},Yi={},Xi=[],ne=function S(z,ot,mt,St,Nt,jt){if(!(this instanceof S))return new S(z,ot,mt,St,Nt,jt);isNaN(z)&&(z=1),isNaN(ot)&&(ot=0),isNaN(mt)&&(mt=0),isNaN(St)&&(St=1),isNaN(Nt)&&(Nt=0),isNaN(jt)&&(jt=0),this._matrix=[z,ot,mt,St,Nt,jt]};Object.defineProperty(ne.prototype,"sx",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ne.prototype,"shy",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ne.prototype,"shx",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ne.prototype,"sy",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ne.prototype,"tx",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ne.prototype,"ty",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ne.prototype,"a",{get:function(){return this._matrix[0]},set:function(S){this._matrix[0]=S}}),Object.defineProperty(ne.prototype,"b",{get:function(){return this._matrix[1]},set:function(S){this._matrix[1]=S}}),Object.defineProperty(ne.prototype,"c",{get:function(){return this._matrix[2]},set:function(S){this._matrix[2]=S}}),Object.defineProperty(ne.prototype,"d",{get:function(){return this._matrix[3]},set:function(S){this._matrix[3]=S}}),Object.defineProperty(ne.prototype,"e",{get:function(){return this._matrix[4]},set:function(S){this._matrix[4]=S}}),Object.defineProperty(ne.prototype,"f",{get:function(){return this._matrix[5]},set:function(S){this._matrix[5]=S}}),Object.defineProperty(ne.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ne.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ne.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ne.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ne.prototype.join=function(S){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(E).join(S)},ne.prototype.multiply=function(S){var z=S.sx*this.sx+S.shy*this.shx,ot=S.sx*this.shy+S.shy*this.sy,mt=S.shx*this.sx+S.sy*this.shx,St=S.shx*this.shy+S.sy*this.sy,Nt=S.tx*this.sx+S.ty*this.shx+this.tx,jt=S.tx*this.shy+S.ty*this.sy+this.ty;return new ne(z,ot,mt,St,Nt,jt)},ne.prototype.decompose=function(){var S=this.sx,z=this.shy,ot=this.shx,mt=this.sy,St=this.tx,Nt=this.ty,jt=Math.sqrt(S*S+z*z),Yt=(S/=jt)*ot+(z/=jt)*mt;ot-=S*Yt,mt-=z*Yt;var Jt=Math.sqrt(ot*ot+mt*mt);return Yt/=Jt,S*(mt/=Jt)<z*(ot/=Jt)&&(S=-S,z=-z,Yt=-Yt,jt=-jt),{scale:new ne(jt,0,0,Jt,0,0),translate:new ne(1,0,0,1,St,Nt),rotate:new ne(S,z,-z,S,0,0),skew:new ne(1,0,Yt,1,0,0)}},ne.prototype.toString=function(S){return this.join(" ")},ne.prototype.inversed=function(){var S=this.sx,z=this.shy,ot=this.shx,mt=this.sy,St=this.tx,Nt=this.ty,jt=1/(S*mt-z*ot),Yt=mt*jt,Jt=-z*jt,he=-ot*jt,ce=S*jt;return new ne(Yt,Jt,he,ce,-Yt*St-he*Nt,-Jt*St-ce*Nt)},ne.prototype.applyToPoint=function(S){var z=S.x*this.sx+S.y*this.shx+this.tx,ot=S.x*this.shy+S.y*this.sy+this.ty;return new fa(z,ot)},ne.prototype.applyToRectangle=function(S){var z=this.applyToPoint(S),ot=this.applyToPoint(new fa(S.x+S.w,S.y+S.h));return new yo(z.x,z.y,ot.x-z.x,ot.y-z.y)},ne.prototype.clone=function(){var S=this.sx,z=this.shy,ot=this.shx,mt=this.sy,St=this.tx,Nt=this.ty;return new ne(S,z,ot,mt,St,Nt)},s.Matrix=ne;var Si=s.matrixMult=function(S,z){return z.multiply(S)},Gi=new ne(1,0,0,1,0,0);s.unitMatrix=s.identityMatrix=Gi;var Vn=function(S,z){if(!bs[S]){var ot=(z instanceof Us?"Sh":"P")+(Object.keys(_e).length+1).toString(10);z.id=ot,bs[S]=ot,_e[ot]=z,Te.publish("addPattern",z)}};s.ShadingPattern=Us,s.TilingPattern=Ia,s.addShadingPattern=function(S,z){return F("addShadingPattern()"),Vn(S,z),this},s.beginTilingPattern=function(S){F("beginTilingPattern()"),Gl(S.boundingBox[0],S.boundingBox[1],S.boundingBox[2]-S.boundingBox[0],S.boundingBox[3]-S.boundingBox[1],S.matrix)},s.endTilingPattern=function(S,z){F("endTilingPattern()"),z.stream=dt[q].join(`
`),Vn(S,z),Te.publish("endTilingPattern",z),Xi.pop().restore()};var dn=s.__private__.newObject=function(){var S=sn();return Zn(S,!0),S},sn=s.__private__.newObjectDeferred=function(){return W++,B[W]=function(){return G},W},Zn=function(S,z){return z=typeof z=="boolean"&&z,B[S]=G,z&&I(S+" 0 obj"),S},Qs=s.__private__.newAdditionalObject=function(){var S={objId:sn(),content:""};return lt.push(S),S},gr=sn(),Ci=sn(),Ai=s.__private__.decodeColorString=function(S){var z=S.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var ot=parseFloat(z[0]);z=[ot,ot,ot,"r"]}for(var mt="#",St=0;St<3;St++)mt+=("0"+Math.floor(255*parseFloat(z[St])).toString(16)).slice(-2);return mt},Ti=s.__private__.encodeColorString=function(S){var z;typeof S=="string"&&(S={ch1:S});var ot=S.ch1,mt=S.ch2,St=S.ch3,Nt=S.ch4,jt=S.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ot=="string"&&ot.charAt(0)!=="#"){var Yt=new l0(ot);if(Yt.ok)ot=Yt.toHex();else if(!/^\d*\.?\d*$/.test(ot))throw new Error('Invalid color "'+ot+'" passed to jsPDF.encodeColorString.')}if(typeof ot=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ot)&&(ot="#"+ot[1]+ot[1]+ot[2]+ot[2]+ot[3]+ot[3]),typeof ot=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ot)){var Jt=parseInt(ot.substr(1),16);ot=Jt>>16&255,mt=Jt>>8&255,St=255&Jt}if(mt===void 0||Nt===void 0&&ot===mt&&mt===St)if(typeof ot=="string")z=ot+" "+jt[0];else switch(S.precision){case 2:z=et(ot/255)+" "+jt[0];break;case 3:default:z=j(ot/255)+" "+jt[0]}else if(Nt===void 0||Ee(Nt)==="object"){if(Nt&&!isNaN(Nt.a)&&Nt.a===0)return z=["1.","1.","1.",jt[1]].join(" ");if(typeof ot=="string")z=[ot,mt,St,jt[1]].join(" ");else switch(S.precision){case 2:z=[et(ot/255),et(mt/255),et(St/255),jt[1]].join(" ");break;default:case 3:z=[j(ot/255),j(mt/255),j(St/255),jt[1]].join(" ")}}else if(typeof ot=="string")z=[ot,mt,St,Nt,jt[2]].join(" ");else switch(S.precision){case 2:z=[et(ot),et(mt),et(St),et(Nt),jt[2]].join(" ");break;case 3:default:z=[j(ot),j(mt),j(St),j(Nt),jt[2]].join(" ")}return z},Ki=s.__private__.getFilters=function(){return v},fi=s.__private__.putStream=function(S){var z=(S=S||{}).data||"",ot=S.filters||Ki(),mt=S.alreadyAppliedFilters||[],St=S.addLength1||!1,Nt=z.length,jt=S.objectId,Yt=function(On){return On};if(f!==null&&jt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Yt=Pn.encryptor(jt,0));var Jt={};ot===!0&&(ot=["FlateEncode"]);var he=S.additionalKeyValues||[],ce=(Jt=ie.API.processDataByFilters!==void 0?ie.API.processDataByFilters(z,ot):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(mt)?mt.join(" "):mt.toString());if(Jt.data.length!==0&&(he.push({key:"Length",value:Jt.data.length}),St===!0&&he.push({key:"Length1",value:Nt})),ce.length!=0)if(ce.split("/").length-1==1)he.push({key:"Filter",value:ce});else{he.push({key:"Filter",value:"["+ce+"]"});for(var we=0;we<he.length;we+=1)if(he[we].key==="DecodeParms"){for(var He=[],Ye=0;Ye<Jt.reverseChain.split("/").length-1;Ye+=1)He.push("null");He.push(he[we].value),he[we].value="["+He.join(" ")+"]"}}I("<<");for(var an=0;an<he.length;an++)I("/"+he[an].key+" "+he[an].value);I(">>"),Jt.data.length!==0&&(I("stream"),I(Yt(Jt.data)),I("endstream"))},$i=s.__private__.putPage=function(S){var z=S.number,ot=S.data,mt=S.objId,St=S.contentsObjId;Zn(mt,!0),I("<</Type /Page"),I("/Parent "+S.rootDictionaryObjId+" 0 R"),I("/Resources "+S.resourceDictionaryObjId+" 0 R"),I("/MediaBox ["+parseFloat(E(S.mediaBox.bottomLeftX))+" "+parseFloat(E(S.mediaBox.bottomLeftY))+" "+E(S.mediaBox.topRightX)+" "+E(S.mediaBox.topRightY)+"]"),S.cropBox!==null&&I("/CropBox ["+E(S.cropBox.bottomLeftX)+" "+E(S.cropBox.bottomLeftY)+" "+E(S.cropBox.topRightX)+" "+E(S.cropBox.topRightY)+"]"),S.bleedBox!==null&&I("/BleedBox ["+E(S.bleedBox.bottomLeftX)+" "+E(S.bleedBox.bottomLeftY)+" "+E(S.bleedBox.topRightX)+" "+E(S.bleedBox.topRightY)+"]"),S.trimBox!==null&&I("/TrimBox ["+E(S.trimBox.bottomLeftX)+" "+E(S.trimBox.bottomLeftY)+" "+E(S.trimBox.topRightX)+" "+E(S.trimBox.topRightY)+"]"),S.artBox!==null&&I("/ArtBox ["+E(S.artBox.bottomLeftX)+" "+E(S.artBox.bottomLeftY)+" "+E(S.artBox.topRightX)+" "+E(S.artBox.topRightY)+"]"),typeof S.userUnit=="number"&&S.userUnit!==1&&I("/UserUnit "+S.userUnit),Te.publish("putPage",{objId:mt,pageContext:le[z],pageNumber:z,page:ot}),I("/Contents "+St+" 0 R"),I(">>"),I("endobj");var Nt=ot.join(`
`);return _===b.ADVANCED&&(Nt+=`
Q`),Zn(St,!0),fi({data:Nt,filters:Ki(),objectId:St}),I("endobj"),mt},_s=s.__private__.putPages=function(){var S,z,ot=[];for(S=1;S<=Ve;S++)le[S].objId=sn(),le[S].contentsObjId=sn();for(S=1;S<=Ve;S++)ot.push($i({number:S,data:dt[S],objId:le[S].objId,contentsObjId:le[S].contentsObjId,mediaBox:le[S].mediaBox,cropBox:le[S].cropBox,bleedBox:le[S].bleedBox,trimBox:le[S].trimBox,artBox:le[S].artBox,userUnit:le[S].userUnit,rootDictionaryObjId:gr,resourceDictionaryObjId:Ci}));Zn(gr,!0),I("<</Type /Pages");var mt="/Kids [";for(z=0;z<Ve;z++)mt+=ot[z]+" 0 R ";I(mt+"]"),I("/Count "+Ve),I(">>"),I("endobj"),Te.publish("postPutPages")},Zs=function(S){Te.publish("putFont",{font:S,out:I,newObject:dn,putStream:fi}),S.isAlreadyPutted!==!0&&(S.objectNumber=dn(),I("<<"),I("/Type /Font"),I("/BaseFont /"+Na(S.postScriptName)),I("/Subtype /Type1"),typeof S.encoding=="string"&&I("/Encoding /"+S.encoding),I("/FirstChar 32"),I("/LastChar 255"),I(">>"),I("endobj"))},ta=function(){for(var S in Se)Se.hasOwnProperty(S)&&(a===!1||a===!0&&l.hasOwnProperty(S))&&Zs(Se[S])},ea=function(S){S.objectNumber=dn();var z=[];z.push({key:"Type",value:"/XObject"}),z.push({key:"Subtype",value:"/Form"}),z.push({key:"BBox",value:"["+[E(S.x),E(S.y),E(S.x+S.width),E(S.y+S.height)].join(" ")+"]"}),z.push({key:"Matrix",value:"["+S.matrix.toString()+"]"});var ot=S.pages[1].join(`
`);fi({data:ot,additionalKeyValues:z,objectId:S.objectNumber}),I("endobj")},na=function(){for(var S in xn)xn.hasOwnProperty(S)&&ea(xn[S])},kl=function(S,z){var ot,mt=[],St=1/(z-1);for(ot=0;ot<1;ot+=St)mt.push(ot);if(mt.push(1),S[0].offset!=0){var Nt={offset:0,color:S[0].color};S.unshift(Nt)}if(S[S.length-1].offset!=1){var jt={offset:1,color:S[S.length-1].color};S.push(jt)}for(var Yt="",Jt=0,he=0;he<mt.length;he++){for(ot=mt[he];ot>S[Jt+1].offset;)Jt++;var ce=S[Jt].offset,we=(ot-ce)/(S[Jt+1].offset-ce),He=S[Jt].color,Ye=S[Jt+1].color;Yt+=O(Math.round((1-we)*He[0]+we*Ye[0]).toString(16))+O(Math.round((1-we)*He[1]+we*Ye[1]).toString(16))+O(Math.round((1-we)*He[2]+we*Ye[2]).toString(16))}return Yt.trim()},Bu=function(S,z){z||(z=21);var ot=dn(),mt=kl(S.colors,z),St=[];St.push({key:"FunctionType",value:"0"}),St.push({key:"Domain",value:"[0.0 1.0]"}),St.push({key:"Size",value:"["+z+"]"}),St.push({key:"BitsPerSample",value:"8"}),St.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),St.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),fi({data:mt,additionalKeyValues:St,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ot}),I("endobj"),S.objectNumber=dn(),I("<< /ShadingType "+S.type),I("/ColorSpace /DeviceRGB");var Nt="/Coords ["+E(parseFloat(S.coords[0]))+" "+E(parseFloat(S.coords[1]))+" ";S.type===2?Nt+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3])):Nt+=E(parseFloat(S.coords[2]))+" "+E(parseFloat(S.coords[3]))+" "+E(parseFloat(S.coords[4]))+" "+E(parseFloat(S.coords[5])),I(Nt+="]"),S.matrix&&I("/Matrix ["+S.matrix.toString()+"]"),I("/Function "+ot+" 0 R"),I("/Extend [true true]"),I(">>"),I("endobj")},Uu=function(S,z){var ot=sn(),mt=dn();z.push({resourcesOid:ot,objectOid:mt}),S.objectNumber=mt;var St=[];St.push({key:"Type",value:"/Pattern"}),St.push({key:"PatternType",value:"1"}),St.push({key:"PaintType",value:"1"}),St.push({key:"TilingType",value:"1"}),St.push({key:"BBox",value:"["+S.boundingBox.map(E).join(" ")+"]"}),St.push({key:"XStep",value:E(S.xStep)}),St.push({key:"YStep",value:E(S.yStep)}),St.push({key:"Resources",value:ot+" 0 R"}),S.matrix&&St.push({key:"Matrix",value:"["+S.matrix.toString()+"]"}),fi({data:S.stream,additionalKeyValues:St,objectId:S.objectNumber}),I("endobj")},ia=function(S){var z;for(z in _e)_e.hasOwnProperty(z)&&(_e[z]instanceof Us?Bu(_e[z]):_e[z]instanceof Ia&&Uu(_e[z],S))},El=function(S){for(var z in S.objectNumber=dn(),I("<<"),S)switch(z){case"opacity":I("/ca "+et(S[z]));break;case"stroke-opacity":I("/CA "+et(S[z]))}I(">>"),I("endobj")},zu=function(){var S;for(S in We)We.hasOwnProperty(S)&&El(We[S])},oo=function(){for(var S in I("/XObject <<"),xn)xn.hasOwnProperty(S)&&xn[S].objectNumber>=0&&I("/"+S+" "+xn[S].objectNumber+" 0 R");Te.publish("putXobjectDict"),I(">>")},qu=function(){Pn.oid=dn(),I("<<"),I("/Filter /Standard"),I("/V "+Pn.v),I("/R "+Pn.r),I("/U <"+Pn.toHexString(Pn.U)+">"),I("/O <"+Pn.toHexString(Pn.O)+">"),I("/P "+Pn.P),I(">>"),I("endobj")},Nl=function(){for(var S in I("/Font <<"),Se)Se.hasOwnProperty(S)&&(a===!1||a===!0&&l.hasOwnProperty(S))&&I("/"+S+" "+Se[S].objectNumber+" 0 R");I(">>")},Hu=function(){if(Object.keys(_e).length>0){for(var S in I("/Shading <<"),_e)_e.hasOwnProperty(S)&&_e[S]instanceof Us&&_e[S].objectNumber>=0&&I("/"+S+" "+_e[S].objectNumber+" 0 R");Te.publish("putShadingPatternDict"),I(">>")}},ra=function(S){if(Object.keys(_e).length>0){for(var z in I("/Pattern <<"),_e)_e.hasOwnProperty(z)&&_e[z]instanceof s.TilingPattern&&_e[z].objectNumber>=0&&_e[z].objectNumber<S&&I("/"+z+" "+_e[z].objectNumber+" 0 R");Te.publish("putTilingPatternDict"),I(">>")}},Wu=function(){if(Object.keys(We).length>0){var S;for(S in I("/ExtGState <<"),We)We.hasOwnProperty(S)&&We[S].objectNumber>=0&&I("/"+S+" "+We[S].objectNumber+" 0 R");Te.publish("putGStateDict"),I(">>")}},$e=function(S){Zn(S.resourcesOid,!0),I("<<"),I("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Nl(),Hu(),ra(S.objectOid),Wu(),oo(),I(">>"),I("endobj")},Fl=function(){var S=[];ta(),zu(),na(),ia(S),Te.publish("putResources"),S.forEach($e),$e({resourcesOid:Ci,objectOid:Number.MAX_SAFE_INTEGER}),Te.publish("postPutResources")},Il=function(){Te.publish("putAdditionalObjects");for(var S=0;S<lt.length;S++){var z=lt[S];Zn(z.objId,!0),I(z.content),I("endobj")}Te.publish("postPutAdditionalObjects")},Dl=function(S){me[S.fontName]=me[S.fontName]||{},me[S.fontName][S.fontStyle]=S.id},lo=function(S,z,ot,mt,St){var Nt={id:"F"+(Object.keys(Se).length+1).toString(10),postScriptName:S,fontName:z,fontStyle:ot,encoding:mt,isStandardFont:St||!1,metadata:{}};return Te.publish("addFont",{font:Nt,instance:this}),Se[Nt.id]=Nt,Dl(Nt),Nt.id},Vu=function(S){for(var z=0,ot=ut.length;z<ot;z++){var mt=lo.call(this,S[z][0],S[z][1],S[z][2],ut[z][3],!0);a===!1&&(l[mt]=!0);var St=S[z][0].split("-");Dl({id:mt,fontName:St[0],fontStyle:St[1]||""})}Te.publish("addFonts",{fonts:Se,dictionary:me})},Pi=function(S){return S.foo=function(){try{return S.apply(this,arguments)}catch(mt){var z=mt.stack||"";~z.indexOf(" at ")&&(z=z.split(" at ")[1]);var ot="Error in function "+z.split(`
`)[0].split("<")[0]+": "+mt.message;if(!re.console)throw new Error(ot);re.console.error(ot,mt),re.alert&&alert(ot)}},S.foo.bar=S,S.foo},sa=function(S,z){var ot,mt,St,Nt,jt,Yt,Jt,he,ce;if(St=(z=z||{}).sourceEncoding||"Unicode",jt=z.outputEncoding,(z.autoencode||jt)&&Se[Kt].metadata&&Se[Kt].metadata[St]&&Se[Kt].metadata[St].encoding&&(Nt=Se[Kt].metadata[St].encoding,!jt&&Se[Kt].encoding&&(jt=Se[Kt].encoding),!jt&&Nt.codePages&&(jt=Nt.codePages[0]),typeof jt=="string"&&(jt=Nt[jt]),jt)){for(Jt=!1,Yt=[],ot=0,mt=S.length;ot<mt;ot++)(he=jt[S.charCodeAt(ot)])?Yt.push(String.fromCharCode(he)):Yt.push(S[ot]),Yt[ot].charCodeAt(0)>>8&&(Jt=!0);S=Yt.join("")}for(ot=S.length;Jt===void 0&&ot!==0;)S.charCodeAt(ot-1)>>8&&(Jt=!0),ot--;if(!Jt)return S;for(Yt=z.noBOM?[]:[254,255],ot=0,mt=S.length;ot<mt;ot++){if((ce=(he=S.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+S+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Yt.push(ce),Yt.push(he-(ce<<8))}return String.fromCharCode.apply(void 0,Yt)},Yn=s.__private__.pdfEscape=s.pdfEscape=function(S,z){return sa(S,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},co=s.__private__.beginPage=function(S){dt[++Ve]=[],le[Ve]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(S[0]),topRightY:Number(S[1])}},Rl(Ve),H(dt[q])},Ml=function(S,z){var ot,mt,St;switch(n=z||n,typeof S=="string"&&(ot=m(S.toLowerCase()),Array.isArray(ot)&&(mt=ot[0],St=ot[1])),Array.isArray(S)&&(mt=S[0]*zt,St=S[1]*zt),isNaN(mt)&&(mt=c[0],St=c[1]),(mt>14400||St>14400)&&(Ie.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),mt=Math.min(14400,mt),St=Math.min(14400,St)),c=[mt,St],n.substr(0,1)){case"l":St>mt&&(c=[St,mt]);break;case"p":mt>St&&(c=[St,mt])}co(c),Hl(po),I(Oi),mo!==0&&I(mo+" J"),vo!==0&&I(vo+" j"),Te.publish("addPage",{pageNumber:Ve})},Yu=function(S){S>0&&S<=Ve&&(dt.splice(S,1),le.splice(S,1),Ve--,q>Ve&&(q=Ve),this.setPage(q))},Rl=function(S){S>0&&S<=Ve&&(q=S)},Xu=s.__private__.getNumberOfPages=s.getNumberOfPages=function(){return dt.length-1},jl=function(S,z,ot){var mt,St=void 0;return ot=ot||{},S=S!==void 0?S:Se[Kt].fontName,z=z!==void 0?z:Se[Kt].fontStyle,mt=S.toLowerCase(),me[mt]!==void 0&&me[mt][z]!==void 0?St=me[mt][z]:me[S]!==void 0&&me[S][z]!==void 0?St=me[S][z]:ot.disableWarning===!1&&Ie.warn("Unable to look up font label for font '"+S+"', '"+z+"'. Refer to getFontList() for available fonts."),St||ot.noFallback||(St=me.times[z])==null&&(St=me.times.normal),St},Gu=s.__private__.putInfo=function(){var S=dn(),z=function(mt){return mt};for(var ot in f!==null&&(z=Pn.encryptor(S,0)),I("<<"),I("/Producer ("+Yn(z("jsPDF "+ie.version))+")"),Ut)Ut.hasOwnProperty(ot)&&Ut[ot]&&I("/"+ot.substr(0,1).toUpperCase()+ot.substr(1)+" ("+Yn(z(Ut[ot]))+")");I("/CreationDate ("+Yn(z(ft))+")"),I(">>"),I("endobj")},uo=s.__private__.putCatalog=function(S){var z=(S=S||{}).rootDictionaryObjId||gr;switch(dn(),I("<<"),I("/Type /Catalog"),I("/Pages "+z+" 0 R"),gt||(gt="fullwidth"),gt){case"fullwidth":I("/OpenAction [3 0 R /FitH null]");break;case"fullheight":I("/OpenAction [3 0 R /FitV null]");break;case"fullpage":I("/OpenAction [3 0 R /Fit]");break;case"original":I("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ot=""+gt;ot.substr(ot.length-1)==="%"&&(gt=parseInt(gt)/100),typeof gt=="number"&&I("/OpenAction [3 0 R /XYZ null null "+et(gt)+"]")}switch(Mt||(Mt="continuous"),Mt){case"continuous":I("/PageLayout /OneColumn");break;case"single":I("/PageLayout /SinglePage");break;case"two":case"twoleft":I("/PageLayout /TwoColumnLeft");break;case"tworight":I("/PageLayout /TwoColumnRight")}Ot&&I("/PageMode /"+Ot),Te.publish("putCatalog"),I(">>"),I("endobj")},Ku=s.__private__.putTrailer=function(){I("trailer"),I("<<"),I("/Size "+(W+1)),I("/Root "+W+" 0 R"),I("/Info "+(W-1)+" 0 R"),f!==null&&I("/Encrypt "+Pn.oid+" 0 R"),I("/ID [ <"+ht+"> <"+ht+"> ]"),I(">>")},$u=s.__private__.putHeader=function(){I("%PDF-"+h),I("%\xBA\xDF\xAC\xE0")},Ju=s.__private__.putXRef=function(){var S="0000000000";I("xref"),I("0 "+(W+1)),I("0000000000 65535 f ");for(var z=1;z<=W;z++)typeof B[z]=="function"?I((S+B[z]()).slice(-10)+" 00000 n "):B[z]!==void 0?I((S+B[z]).slice(-10)+" 00000 n "):I("0000000000 00000 n ")},mr=s.__private__.buildDocument=function(){R(),H(J),Te.publish("buildDocument"),$u(),_s(),Il(),Fl(),f!==null&&qu(),Gu(),uo();var S=G;return Ju(),Ku(),I("startxref"),I(""+S),I("%%EOF"),H(dt[q]),J.join(`
`)},aa=s.__private__.getBlob=function(S){return new Blob([at(S)],{type:"application/pdf"})},oa=s.output=s.__private__.output=Pi(function(S,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",S){case void 0:return mr();case"save":s.save(z.filename);break;case"arraybuffer":return at(mr());case"blob":return aa(mr());case"bloburi":case"bloburl":if(re.URL!==void 0&&typeof re.URL.createObjectURL=="function")return re.URL&&re.URL.createObjectURL(aa(mr()))||void 0;Ie.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ot="",mt=mr();try{ot=Sh(mt)}catch{ot=Sh(unescape(encodeURIComponent(mt)))}return"data:application/pdf;filename="+z.filename+";base64,"+ot;case"pdfobjectnewwindow":if(Object.prototype.toString.call(re)==="[object Window]"){var St="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Nt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(St=z.pdfObjectUrl,Nt="");var jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+St+'"'+Nt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");<\/script></body></html>",Yt=re.open();return Yt!==null&&Yt.document.write(jt),Yt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(re)==="[object Window]"){var Jt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',he=re.open();if(he!==null){he.document.write(Jt);var ce=this;he.document.documentElement.querySelector("#pdfViewer").onload=function(){he.document.title=z.filename,he.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(ce.output("bloburl"))}}return he}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(re)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var we='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',He=re.open();if(He!==null&&(He.document.write(we),He.document.title=z.filename),He||typeof safari>"u")return He;break;case"datauri":case"dataurl":return re.document.location.href=this.output("datauristring",z);default:return null}}),Bl=function(S){return Array.isArray(ws)===!0&&ws.indexOf(S)>-1};switch(r){case"pt":zt=1;break;case"mm":zt=72/25.4;break;case"cm":zt=72/2.54;break;case"in":zt=72;break;case"px":zt=Bl("px_scaling")==1?.75:96/72;break;case"pc":case"em":zt=12;break;case"ex":zt=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);zt=r}var Pn=null;nt(),ct();var Qu=function(S){return f!==null?Pn.encryptor(S,0):function(z){return z}},Ul=s.__private__.getPageInfo=s.getPageInfo=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:le[S].objId,pageNumber:S,pageContext:le[S]}},oe=s.__private__.getPageInfoByObjId=function(S){if(isNaN(S)||S%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in le)if(le[z].objId===S)break;return Ul(z)},Zu=s.__private__.getCurrentPageInfo=s.getCurrentPageInfo=function(){return{objId:le[q].objId,pageNumber:q,pageContext:le[q]}};s.addPage=function(){return Ml.apply(this,arguments),this},s.setPage=function(){return Rl.apply(this,arguments),H.call(this,dt[q]),this},s.insertPage=function(S){return this.addPage(),this.movePage(q,S),this},s.movePage=function(S,z){var ot,mt;if(S>z){ot=dt[S],mt=le[S];for(var St=S;St>z;St--)dt[St]=dt[St-1],le[St]=le[St-1];dt[z]=ot,le[z]=mt,this.setPage(z)}else if(S<z){ot=dt[S],mt=le[S];for(var Nt=S;Nt<z;Nt++)dt[Nt]=dt[Nt+1],le[Nt]=le[Nt+1];dt[z]=ot,le[z]=mt,this.setPage(z)}return this},s.deletePage=function(){return Yu.apply(this,arguments),this},s.__private__.text=s.text=function(S,z,ot,mt,St){var Nt,jt,Yt,Jt,he,ce,we,He,Ye,an=(mt=mt||{}).scope||this;if(typeof S=="number"&&typeof z=="number"&&(typeof ot=="string"||Array.isArray(ot))){var On=ot;ot=z,z=S,S=On}if(arguments[3]instanceof ne?(F("The transform parameter of text() with a Matrix value"),Ye=St):(Yt=arguments[4],Jt=arguments[5],Ee(we=arguments[3])==="object"&&we!==null||(typeof Yt=="string"&&(Jt=Yt,Yt=null),typeof we=="string"&&(Jt=we,we=null),typeof we=="number"&&(Yt=we,we=null),mt={flags:we,angle:Yt,align:Jt})),isNaN(z)||isNaN(ot)||S==null)throw new Error("Invalid arguments passed to jsPDF.text");if(S.length===0)return an;var mn="",Li=!1,ti=typeof mt.lineHeightFactor=="number"?mt.lineHeightFactor:Ss,Zi=an.internal.scaleFactor;function Kl(Re){return Re=Re.split("	").join(Array(mt.TabLen||9).join(" ")),Yn(Re,we)}function xo(Re){for(var je,Qe=Re.concat(),pn=[],_r=Qe.length;_r--;)typeof(je=Qe.shift())=="string"?pn.push(je):Array.isArray(Re)&&(je.length===1||je[1]===void 0&&je[2]===void 0)?pn.push(je[0]):pn.push([je[0],je[1],je[2]]);return pn}function So(Re,je){var Qe;if(typeof Re=="string")Qe=je(Re)[0];else if(Array.isArray(Re)){for(var pn,_r,Eo=Re.concat(),xa=[],tc=Eo.length;tc--;)typeof(pn=Eo.shift())=="string"?xa.push(je(pn)[0]):Array.isArray(pn)&&typeof pn[0]=="string"&&(_r=je(pn[0],pn[1],pn[2]),xa.push([_r[0],_r[1],_r[2]]));Qe=xa}return Qe}var da=!1,Co=!0;if(typeof S=="string")da=!0;else if(Array.isArray(S)){var Ao=S.concat();jt=[];for(var pa,Sn=Ao.length;Sn--;)(typeof(pa=Ao.shift())!="string"||Array.isArray(pa)&&typeof pa[0]!="string")&&(Co=!1);da=Co}if(da===!1)throw new Error('Type of text must be string or Array. "'+S+'" is not recognized.');typeof S=="string"&&(S=S.match(/[\r?\n]/)?S.split(/\r\n|\r|\n/g):[S]);var ga=vt/an.internal.scaleFactor,ma=ga*(ti-1);switch(mt.baseline){case"bottom":ot-=ma;break;case"top":ot+=ga-ma;break;case"hanging":ot+=ga-2*ma;break;case"middle":ot+=ga/2-ma}if((ce=mt.maxWidth||0)>0&&(typeof S=="string"?S=an.splitTextToSize(S,ce):Object.prototype.toString.call(S)==="[object Array]"&&(S=S.reduce(function(Re,je){return Re.concat(an.splitTextToSize(je,ce))},[]))),Nt={text:S,x:z,y:ot,options:mt,mutex:{pdfEscape:Yn,activeFontKey:Kt,fonts:Se,activeFontSize:vt}},Te.publish("preProcessText",Nt),S=Nt.text,Yt=(mt=Nt.options).angle,!(Ye instanceof ne)&&Yt&&typeof Yt=="number"){Yt*=Math.PI/180,mt.rotationDirection===0&&(Yt=-Yt),_===b.ADVANCED&&(Yt=-Yt);var va=Math.cos(Yt),To=Math.sin(Yt);Ye=new ne(va,To,-To,va,0,0)}else Yt&&Yt instanceof ne&&(Ye=Yt);_!==b.ADVANCED||Ye||(Ye=Gi),(he=mt.charSpace||ua)!==void 0&&(mn+=E(M(he))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(He=mt.horizontalScale)!==void 0&&(mn+=E(100*He)+` Tz
`),mt.lang;var Xn=-1,uf=mt.renderingMode!==void 0?mt.renderingMode:mt.stroke,Po=an.internal.getCurrentPageInfo().pageContext;switch(uf){case 0:case!1:case"fill":Xn=0;break;case 1:case!0:case"stroke":Xn=1;break;case 2:case"fillThenStroke":Xn=2;break;case 3:case"invisible":Xn=3;break;case 4:case"fillAndAddForClipping":Xn=4;break;case 5:case"strokeAndAddPathForClipping":Xn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xn=6;break;case 7:case"addToPathForClipping":Xn=7}var $l=Po.usedRenderingMode!==void 0?Po.usedRenderingMode:-1;Xn!==-1?mn+=Xn+` Tr
`:$l!==-1&&(mn+=`0 Tr
`),Xn!==-1&&(Po.usedRenderingMode=Xn),Jt=mt.align||"left";var hi,ya=vt*ti,Jl=an.internal.pageSize.getWidth(),Ql=Se[Kt];he=mt.charSpace||ua,ce=mt.maxWidth||0,we=Object.assign({autoencode:!0,noBOM:!0},mt.flags);var Ur=[],Ts=function(Re){return an.getStringUnitWidth(Re,{font:Ql,charSpace:he,fontSize:vt,doKerning:!1})*vt/Zi};if(Object.prototype.toString.call(S)==="[object Array]"){var Gn;jt=xo(S),Jt!=="left"&&(hi=jt.map(Ts));var jn,zr=0;if(Jt==="right"){z-=hi[0],S=[],Sn=jt.length;for(var yr=0;yr<Sn;yr++)yr===0?(jn=Qi(z),Gn=vr(ot)):(jn=M(zr-hi[yr]),Gn=-ya),S.push([jt[yr],jn,Gn]),zr=hi[yr]}else if(Jt==="center"){z-=hi[0]/2,S=[],Sn=jt.length;for(var br=0;br<Sn;br++)br===0?(jn=Qi(z),Gn=vr(ot)):(jn=M((zr-hi[br])/2),Gn=-ya),S.push([jt[br],jn,Gn]),zr=hi[br]}else if(Jt==="left"){S=[],Sn=jt.length;for(var ba=0;ba<Sn;ba++)S.push(jt[ba])}else if(Jt==="justify"&&Ql.encoding==="Identity-H"){S=[],Sn=jt.length,ce=ce!==0?ce:Jl;for(var wr=0,Je=0;Je<Sn;Je++)if(Gn=Je===0?vr(ot):-ya,jn=Je===0?Qi(z):wr,Je<Sn-1){var Oo=M((ce-hi[Je])/(jt[Je].split(" ").length-1)),Bn=jt[Je].split(" ");S.push([Bn[0]+" ",jn,Gn]),wr=0;for(var di=1;di<Bn.length;di++){var wa=(Ts(Bn[di-1]+" "+Bn[di])-Ts(Bn[di]))*Zi+Oo;di==Bn.length-1?S.push([Bn[di],wa,0]):S.push([Bn[di]+" ",wa,0]),wr-=wa}}else S.push([jt[Je],jn,Gn]);S.push(["",wr,0])}else{if(Jt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(S=[],Sn=jt.length,ce=ce!==0?ce:Jl,Je=0;Je<Sn;Je++)Gn=Je===0?vr(ot):-ya,jn=Je===0?Qi(z):0,Je<Sn-1?Ur.push(E(M((ce-hi[Je])/(jt[Je].split(" ").length-1)))):Ur.push(0),S.push([jt[Je],jn,Gn])}}var Zl=typeof mt.R2L=="boolean"?mt.R2L:Ct;Zl===!0&&(S=So(S,function(Re,je,Qe){return[Re.split("").reverse().join(""),je,Qe]})),Nt={text:S,x:z,y:ot,options:mt,mutex:{pdfEscape:Yn,activeFontKey:Kt,fonts:Se,activeFontSize:vt}},Te.publish("postProcessText",Nt),S=Nt.text,Li=Nt.mutex.isHex||!1;var Lo=Se[Kt].encoding;Lo!=="WinAnsiEncoding"&&Lo!=="StandardEncoding"||(S=So(S,function(Re,je,Qe){return[Kl(Re),je,Qe]})),jt=xo(S),S=[];for(var Ps,Os,qr,Ls=0,_a=1,ks=Array.isArray(jt[0])?_a:Ls,Hr="",ko=function(Re,je,Qe){var pn="";return Qe instanceof ne?(Qe=typeof mt.angle=="number"?Si(Qe,new ne(1,0,0,1,Re,je)):Si(new ne(1,0,0,1,Re,je),Qe),_===b.ADVANCED&&(Qe=Si(new ne(1,0,0,-1,0,0),Qe)),pn=Qe.join(" ")+` Tm
`):pn=E(Re)+" "+E(je)+` Td
`,pn},pi=0;pi<jt.length;pi++){switch(Hr="",ks){case _a:qr=(Li?"<":"(")+jt[pi][0]+(Li?">":")"),Ps=parseFloat(jt[pi][1]),Os=parseFloat(jt[pi][2]);break;case Ls:qr=(Li?"<":"(")+jt[pi]+(Li?">":")"),Ps=Qi(z),Os=vr(ot)}Ur!==void 0&&Ur[pi]!==void 0&&(Hr=Ur[pi]+` Tw
`),pi===0?S.push(Hr+ko(Ps,Os,Ye)+qr):ks===Ls?S.push(Hr+qr):ks===_a&&S.push(Hr+ko(Ps,Os,Ye)+qr)}S=ks===Ls?S.join(` Tj
T* `):S.join(` Tj
`),S+=` Tj
`;var gi=`BT
/`;return gi+=Kt+" "+vt+` Tf
`,gi+=E(vt*ti)+` TL
`,gi+=Cs+`
`,gi+=mn,gi+=S,I(gi+="ET"),l[Kt]=!0,an};var tf=s.__private__.clip=s.clip=function(S){return I(S==="evenodd"?"W*":"W"),this};s.clipEvenOdd=function(){return tf("evenodd")},s.__private__.discardPath=s.discardPath=function(){return I("n"),this};var Ji=s.__private__.isValidStyle=function(S){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(S)!==-1&&(z=!0),z};s.__private__.setDefaultPathOperation=s.setDefaultPathOperation=function(S){return Ji(S)&&(u=S),this};var zl=s.__private__.getStyle=s.getStyle=function(S){var z=u;switch(S){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=S}return z},ql=s.close=function(){return I("h"),this};s.stroke=function(){return I("S"),this},s.fill=function(S){return la("f",S),this},s.fillEvenOdd=function(S){return la("f*",S),this},s.fillStroke=function(S){return la("B",S),this},s.fillStrokeEvenOdd=function(S){return la("B*",S),this};var la=function(S,z){Ee(z)==="object"?nf(z,S):I(S)},fo=function(S){S===null||_===b.ADVANCED&&S===void 0||(S=zl(S),I(S))};function ef(S,z,ot,mt,St){var Nt=new Ia(z||this.boundingBox,ot||this.xStep,mt||this.yStep,this.gState,St||this.matrix);Nt.stream=this.stream;var jt=S+"$$"+this.cloneIndex+++"$$";return Vn(jt,Nt),Nt}var nf=function(S,z){var ot=bs[S.key],mt=_e[ot];if(mt instanceof Us)I("q"),I(rf(z)),mt.gState&&s.setGState(mt.gState),I(S.matrix.toString()+" cm"),I("/"+ot+" sh"),I("Q");else if(mt instanceof Ia){var St=new ne(1,0,0,-1,0,Br());S.matrix&&(St=St.multiply(S.matrix||Gi),ot=ef.call(mt,S.key,S.boundingBox,S.xStep,S.yStep,St).id),I("q"),I("/Pattern cs"),I("/"+ot+" scn"),mt.gState&&s.setGState(mt.gState),I(z),I("Q")}},rf=function(S){switch(S){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ho=s.moveTo=function(S,z){return I(E(M(S))+" "+E(Z(z))+" m"),this},xs=s.lineTo=function(S,z){return I(E(M(S))+" "+E(Z(z))+" l"),this},Rr=s.curveTo=function(S,z,ot,mt,St,Nt){return I([E(M(S)),E(Z(z)),E(M(ot)),E(Z(mt)),E(M(St)),E(Z(Nt)),"c"].join(" ")),this};s.__private__.line=s.line=function(S,z,ot,mt,St){if(isNaN(S)||isNaN(z)||isNaN(ot)||isNaN(mt)||!Ji(St))throw new Error("Invalid arguments passed to jsPDF.line");return _===b.COMPAT?this.lines([[ot-S,mt-z]],S,z,[1,1],St||"S"):this.lines([[ot-S,mt-z]],S,z,[1,1]).stroke()},s.__private__.lines=s.lines=function(S,z,ot,mt,St,Nt){var jt,Yt,Jt,he,ce,we,He,Ye,an,On,mn,Li;if(typeof S=="number"&&(Li=ot,ot=z,z=S,S=Li),mt=mt||[1,1],Nt=Nt||!1,isNaN(z)||isNaN(ot)||!Array.isArray(S)||!Array.isArray(mt)||!Ji(St)||typeof Nt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ho(z,ot),jt=mt[0],Yt=mt[1],he=S.length,On=z,mn=ot,Jt=0;Jt<he;Jt++)(ce=S[Jt]).length===2?(On=ce[0]*jt+On,mn=ce[1]*Yt+mn,xs(On,mn)):(we=ce[0]*jt+On,He=ce[1]*Yt+mn,Ye=ce[2]*jt+On,an=ce[3]*Yt+mn,On=ce[4]*jt+On,mn=ce[5]*Yt+mn,Rr(we,He,Ye,an,On,mn));return Nt&&ql(),fo(St),this},s.path=function(S){for(var z=0;z<S.length;z++){var ot=S[z],mt=ot.c;switch(ot.op){case"m":ho(mt[0],mt[1]);break;case"l":xs(mt[0],mt[1]);break;case"c":Rr.apply(this,mt);break;case"h":ql()}}return this},s.__private__.rect=s.rect=function(S,z,ot,mt,St){if(isNaN(S)||isNaN(z)||isNaN(ot)||isNaN(mt)||!Ji(St))throw new Error("Invalid arguments passed to jsPDF.rect");return _===b.COMPAT&&(mt=-mt),I([E(M(S)),E(Z(z)),E(M(ot)),E(M(mt)),"re"].join(" ")),fo(St),this},s.__private__.triangle=s.triangle=function(S,z,ot,mt,St,Nt,jt){if(isNaN(S)||isNaN(z)||isNaN(ot)||isNaN(mt)||isNaN(St)||isNaN(Nt)||!Ji(jt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ot-S,mt-z],[St-ot,Nt-mt],[S-St,z-Nt]],S,z,[1,1],jt,!0),this},s.__private__.roundedRect=s.roundedRect=function(S,z,ot,mt,St,Nt,jt){if(isNaN(S)||isNaN(z)||isNaN(ot)||isNaN(mt)||isNaN(St)||isNaN(Nt)||!Ji(jt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Yt=4/3*(Math.SQRT2-1);return St=Math.min(St,.5*ot),Nt=Math.min(Nt,.5*mt),this.lines([[ot-2*St,0],[St*Yt,0,St,Nt-Nt*Yt,St,Nt],[0,mt-2*Nt],[0,Nt*Yt,-St*Yt,Nt,-St,Nt],[2*St-ot,0],[-St*Yt,0,-St,-Nt*Yt,-St,-Nt],[0,2*Nt-mt],[0,-Nt*Yt,St*Yt,-Nt,St,-Nt]],S+St,z,[1,1],jt,!0),this},s.__private__.ellipse=s.ellipse=function(S,z,ot,mt,St){if(isNaN(S)||isNaN(z)||isNaN(ot)||isNaN(mt)||!Ji(St))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Nt=4/3*(Math.SQRT2-1)*ot,jt=4/3*(Math.SQRT2-1)*mt;return ho(S+ot,z),Rr(S+ot,z-jt,S+Nt,z-mt,S,z-mt),Rr(S-Nt,z-mt,S-ot,z-jt,S-ot,z),Rr(S-ot,z+jt,S-Nt,z+mt,S,z+mt),Rr(S+Nt,z+mt,S+ot,z+jt,S+ot,z),fo(St),this},s.__private__.circle=s.circle=function(S,z,ot,mt){if(isNaN(S)||isNaN(z)||isNaN(ot)||!Ji(mt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(S,z,ot,ot,mt)},s.setFont=function(S,z,ot){return ot&&(z=L(z,ot)),Kt=jl(S,z,{disableWarning:!1}),this};var sf=s.__private__.getFont=s.getFont=function(){return Se[jl.apply(s,arguments)]};s.__private__.getFontList=s.getFontList=function(){var S,z,ot={};for(S in me)if(me.hasOwnProperty(S))for(z in ot[S]=[],me[S])me[S].hasOwnProperty(z)&&ot[S].push(z);return ot},s.addFont=function(S,z,ot,mt,St){var Nt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Nt.indexOf(arguments[3])!==-1?St=arguments[3]:arguments[3]&&Nt.indexOf(arguments[3])==-1&&(ot=L(ot,mt)),St=St||"Identity-H",lo.call(this,S,z,ot,St)};var Ss,po=e.lineWidth||.200025,ca=s.__private__.getLineWidth=s.getLineWidth=function(){return po},Hl=s.__private__.setLineWidth=s.setLineWidth=function(S){return po=S,I(E(M(S))+" w"),this};s.__private__.setLineDash=ie.API.setLineDash=ie.API.setLineDashPattern=function(S,z){if(S=S||[],z=z||0,isNaN(z)||!Array.isArray(S))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return S=S.map(function(ot){return E(M(ot))}).join(" "),z=E(M(z)),I("["+S+"] "+z+" d"),this};var Wl=s.__private__.getLineHeight=s.getLineHeight=function(){return vt*Ss};s.__private__.getLineHeight=s.getLineHeight=function(){return vt*Ss};var Vl=s.__private__.setLineHeightFactor=s.setLineHeightFactor=function(S){return typeof(S=S||1.15)=="number"&&(Ss=S),this},Yl=s.__private__.getLineHeightFactor=s.getLineHeightFactor=function(){return Ss};Vl(e.lineHeight);var Qi=s.__private__.getHorizontalCoordinate=function(S){return M(S)},vr=s.__private__.getVerticalCoordinate=function(S){return _===b.ADVANCED?S:le[q].mediaBox.topRightY-le[q].mediaBox.bottomLeftY-M(S)},af=s.__private__.getHorizontalCoordinateString=s.getHorizontalCoordinateString=function(S){return E(Qi(S))},jr=s.__private__.getVerticalCoordinateString=s.getVerticalCoordinateString=function(S){return E(vr(S))},Oi=e.strokeColor||"0 G";s.__private__.getStrokeColor=s.getDrawColor=function(){return Ai(Oi)},s.__private__.setStrokeColor=s.setDrawColor=function(S,z,ot,mt){return Oi=Ti({ch1:S,ch2:z,ch3:ot,ch4:mt,pdfColorType:"draw",precision:2}),I(Oi),this};var go=e.fillColor||"0 g";s.__private__.getFillColor=s.getFillColor=function(){return Ai(go)},s.__private__.setFillColor=s.setFillColor=function(S,z,ot,mt){return go=Ti({ch1:S,ch2:z,ch3:ot,ch4:mt,pdfColorType:"fill",precision:2}),I(go),this};var Cs=e.textColor||"0 g",of=s.__private__.getTextColor=s.getTextColor=function(){return Ai(Cs)};s.__private__.setTextColor=s.setTextColor=function(S,z,ot,mt){return Cs=Ti({ch1:S,ch2:z,ch3:ot,ch4:mt,pdfColorType:"text",precision:3}),this};var ua=e.charSpace,lf=s.__private__.getCharSpace=s.getCharSpace=function(){return parseFloat(ua||0)};s.__private__.setCharSpace=s.setCharSpace=function(S){if(isNaN(S))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ua=S,this};var mo=0;s.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},s.__private__.setLineCap=s.setLineCap=function(S){var z=s.CapJoinStyles[S];if(z===void 0)throw new Error("Line cap style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return mo=z,I(z+" J"),this};var vo=0;s.__private__.setLineJoin=s.setLineJoin=function(S){var z=s.CapJoinStyles[S];if(z===void 0)throw new Error("Line join style of '"+S+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vo=z,I(z+" j"),this},s.__private__.setLineMiterLimit=s.__private__.setMiterLimit=s.setLineMiterLimit=s.setMiterLimit=function(S){if(S=S||0,isNaN(S))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return I(E(M(S))+" M"),this},s.GState=eu,s.setGState=function(S){(S=typeof S=="string"?We[xi[S]]:Xl(null,S)).equals(pr)||(I("/"+S.id+" gs"),pr=S)};var Xl=function(S,z){if(!S||!xi[S]){var ot=!1;for(var mt in We)if(We.hasOwnProperty(mt)&&We[mt].equals(z)){ot=!0;break}if(ot)z=We[mt];else{var St="GS"+(Object.keys(We).length+1).toString(10);We[St]=z,z.id=St}return S&&(xi[S]=z.id),Te.publish("addGState",z),z}};s.addGState=function(S,z){return Xl(S,z),this},s.saveGraphicsState=function(){return I("q"),Ke.push({key:Kt,size:vt,color:Cs}),this},s.restoreGraphicsState=function(){I("Q");var S=Ke.pop();return Kt=S.key,vt=S.size,Cs=S.color,pr=null,this},s.setCurrentTransformationMatrix=function(S){return I(S.toString()+" cm"),this},s.comment=function(S){return I("#"+S),this};var fa=function(S,z){var ot=S||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ot},set:function(Nt){isNaN(Nt)||(ot=parseFloat(Nt))}});var mt=z||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return mt},set:function(Nt){isNaN(Nt)||(mt=parseFloat(Nt))}});var St="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return St},set:function(Nt){St=Nt.toString()}}),this},yo=function(S,z,ot,mt){fa.call(this,S,z),this.type="rect";var St=ot||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return St},set:function(jt){isNaN(jt)||(St=parseFloat(jt))}});var Nt=mt||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Nt},set:function(jt){isNaN(jt)||(Nt=parseFloat(jt))}}),this},bo=function(){this.page=Ve,this.currentPage=q,this.pages=dt.slice(0),this.pagesContext=le.slice(0),this.x=ve,this.y=se,this.matrix=rn,this.width=As(q),this.height=Br(q),this.outputDestination=N,this.id="",this.objectNumber=-1};bo.prototype.restore=function(){Ve=this.page,q=this.currentPage,le=this.pagesContext,dt=this.pages,ve=this.x,se=this.y,rn=this.matrix,wo(q,this.width),_o(q,this.height),N=this.outputDestination};var Gl=function(S,z,ot,mt,St){Xi.push(new bo),Ve=q=0,dt=[],ve=S,se=z,rn=St,co([ot,mt])},cf=function(S){if(Yi[S])Xi.pop().restore();else{var z=new bo,ot="Xo"+(Object.keys(xn).length+1).toString(10);z.id=ot,Yi[S]=ot,xn[ot]=z,Te.publish("addFormObject",z),Xi.pop().restore()}};for(var ha in s.beginFormObject=function(S,z,ot,mt,St){return Gl(S,z,ot,mt,St),this},s.endFormObject=function(S){return cf(S),this},s.doFormObject=function(S,z){var ot=xn[Yi[S]];return I("q"),I(z.toString()+" cm"),I("/"+ot.id+" Do"),I("Q"),this},s.getFormObject=function(S){var z=xn[Yi[S]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},s.save=function(S,z){return S=S||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(js(aa(mr()),S),typeof js.unload=="function"&&re.setTimeout&&setTimeout(js.unload,911),this):new Promise(function(ot,mt){try{var St=js(aa(mr()),S);typeof js.unload=="function"&&re.setTimeout&&setTimeout(js.unload,911),ot(St)}catch(Nt){mt(Nt.message)}})},ie.API)ie.API.hasOwnProperty(ha)&&(ha==="events"&&ie.API.events.length?function(S,z){var ot,mt,St;for(St=z.length-1;St!==-1;St--)ot=z[St][0],mt=z[St][1],S.subscribe.apply(S,[ot].concat(typeof mt=="function"?[mt]:mt))}(Te,ie.API.events):s[ha]=ie.API[ha]);var As=s.getPageWidth=function(S){return(le[S=S||q].mediaBox.topRightX-le[S].mediaBox.bottomLeftX)/zt},wo=s.setPageWidth=function(S,z){le[S].mediaBox.topRightX=z*zt+le[S].mediaBox.bottomLeftX},Br=s.getPageHeight=function(S){return(le[S=S||q].mediaBox.topRightY-le[S].mediaBox.bottomLeftY)/zt},_o=s.setPageHeight=function(S,z){le[S].mediaBox.topRightY=z*zt+le[S].mediaBox.bottomLeftY};return s.internal={pdfEscape:Yn,getStyle:zl,getFont:sf,getFontSize:rt,getCharSpace:lf,getTextColor:of,getLineHeight:Wl,getLineHeightFactor:Yl,getLineWidth:ca,write:it,getHorizontalCoordinate:Qi,getVerticalCoordinate:vr,getCoordinateString:af,getVerticalCoordinateString:jr,collections:{},newObject:dn,newAdditionalObject:Qs,newObjectDeferred:sn,newObjectDeferredBegin:Zn,getFilters:Ki,putStream:fi,events:Te,scaleFactor:zt,pageSize:{getWidth:function(){return As(q)},setWidth:function(S){wo(q,S)},getHeight:function(){return Br(q)},setHeight:function(S){_o(q,S)}},encryptionOptions:f,encryption:Pn,getEncryptor:Qu,output:oa,getNumberOfPages:Xu,pages:dt,out:I,f2:et,f3:j,getPageInfo:Ul,getPageInfoByObjId:oe,getCurrentPageInfo:Zu,getPDFVersion:g,Point:fa,Rectangle:yo,Matrix:ne,hasHotfix:Bl},Object.defineProperty(s.internal.pageSize,"width",{get:function(){return As(q)},set:function(S){wo(q,S)},enumerable:!0,configurable:!0}),Object.defineProperty(s.internal.pageSize,"height",{get:function(){return Br(q)},set:function(S){_o(q,S)},enumerable:!0,configurable:!0}),Vu.call(s,ut),Kt="F1",Ml(c,n),Te.publish("initialized"),s}Ea.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},Ea.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ea.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ea.prototype.processOwnerPassword=function(e,t){return Ah(Ch(t).substr(0,5),e)},Ea.prototype.encryptor=function(e,t){var n=Ch(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return Ah(n,r)}},eu.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||Ee(e)!==Ee(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ie.API={events:[]},ie.version="2.5.2";var Ge=ie.API,Cd=1,Js=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oa=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ue=function(e){return e.toFixed(2)},Zr=function(e){return e.toFixed(5)};Ge.__acroform__={};var Qn=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},pg=function(e){return e*Cd},ir=function(e){var t=new h0,n=Gt.internal.getHeight(e)||0,r=Gt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(ue(r)),Number(ue(n))],t},Eb=Ge.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},Nb=Ge.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},Fb=Ge.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(e&1<<t)==0?0:1},Ze=Ge.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Fb(e,t-1)},tn=Ge.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Eb(e,t-1)},en=Ge.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Nb(e,t-1)},Ib=Ge.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,c=e[0],p=e[1],v=e[2],o=e[3],i={};return i.lowerLeft_X=n(c)||0,i.lowerLeft_Y=r(p+o)||0,i.upperRight_X=n(c+v)||0,i.upperRight_Y=r(p)||0,[Number(ue(i.lowerLeft_X)),Number(ue(i.lowerLeft_Y)),Number(ue(i.upperRight_X)),Number(ue(i.upperRight_Y))]},Db=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Th(e,n),c=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+c+" "+ue(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var p=ir(e);return p.scope=e.scope,p.stream=t.join(`
`),p}},Th=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},c=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");c=e.multiline?c.map(function(j){return j.split(`
`)}):c.map(function(j){return[j]});var p=n,v=Gt.internal.getHeight(e)||0;v=v<0?-v:v;var o=Gt.internal.getWidth(e)||0;o=o<0?-o:o;var i=function(j,M,tt){if(j+1<c.length){var Z=M+" "+c[j+1][0];return Tc(Z,e,tt).width<=o-4}return!1};p++;t:for(;p>0;){t="",p--;var u,f,a=Tc("3",e,p).height,l=e.multiline?v-p:(v-a)/2,s=l+=2,h=0,g=0,d=0;if(p<=0){t=`(...) Tj
`,t+="% Width of Text: "+Tc(t,e,p=12).width+", FieldWidth:"+o+`
`;break}for(var m="",b=0,_=0;_<c.length;_++)if(c.hasOwnProperty(_)){var x=!1;if(c[_].length!==1&&d!==c[_].length-1){if((a+2)*(b+2)+2>v)continue t;m+=c[_][d],x=!0,g=_,_--}else{m=(m+=c[_][d]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var A=parseInt(_),L=i(A,m,p),E=_>=c.length-1;if(L&&!E){m+=" ",d=0;continue}if(L||E){if(E)g=A;else if(e.multiline&&(a+2)*(b+2)+2>v)continue t}else{if(!e.multiline||(a+2)*(b+2)+2>v)continue t;g=A}}for(var F="",Y=h;Y<=g;Y++){var et=c[Y];if(e.multiline){if(Y===g){F+=et[d]+" ",d=(d+1)%et.length;continue}if(Y===h){F+=et[et.length-1]+" ";continue}}F+=et[0]+" "}switch(F=F.substr(F.length-1)==" "?F.substr(0,F.length-1):F,f=Tc(F,e,p).width,e.textAlign){case"right":u=o-f-2;break;case"center":u=(o-f)/2;break;case"left":default:u=2}t+=ue(u)+" "+ue(s)+` Td
`,t+="("+Js(F)+`) Tj
`,t+=-ue(u)+` 0 Td
`,s=-(p+2),f=0,h=x?g:g+1,b++,m=""}break}return r.text=t,r.fontSize=p,r},Tc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),c=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:c}},Mb={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},Rb=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},jb=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,c=e[n];t.internal.newObjectDeferredBegin(c.objId,!0),Ee(c)==="object"&&typeof c.putStream=="function"&&c.putStream(),delete e[r]}},Bb=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Hi.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(Mb)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Cd=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new d0,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var c in r)if(r.hasOwnProperty(c)){var p=r[c];p.objId=void 0,p.hasAnnotation&&Rb(p,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,c){var p=!r;for(var v in r||(c.internal.newObjectDeferredBegin(c.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),c.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||c.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(v)){var o=r[v],i=[],u=o.Rect;if(o.Rect&&(o.Rect=Ib(o.Rect,c)),c.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Gt.createDefaultAppearanceStream(o),Ee(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(i=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var f=Db(o);i.push({key:"AP",value:"<</N "+f+">>"}),c.internal.acroformPlugin.xForms.push(f)}if(o.appearanceStreamContent){var a="";for(var l in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(l)){var s=o.appearanceStreamContent[l];if(a+="/"+l+" ",a+="<<",Object.keys(s).length>=1||Array.isArray(s)){for(var v in s)if(s.hasOwnProperty(v)){var h=s[v];typeof h=="function"&&(h=h.call(c,o)),a+="/"+v+" "+h+" ",c.internal.acroformPlugin.xForms.indexOf(h)>=0||c.internal.acroformPlugin.xForms.push(h)}}else typeof(h=s)=="function"&&(h=h.call(c,o)),a+="/"+v+" "+h,c.internal.acroformPlugin.xForms.indexOf(h)>=0||c.internal.acroformPlugin.xForms.push(h);a+=">>"}i.push({key:"AP",value:`<<
`+a+">>"})}c.internal.putStream({additionalKeyValues:i,objectId:o.objId}),c.internal.out("endobj")}p&&jb(c.internal.acroformPlugin.xForms,c)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},f0=Ge.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(v){return v};if(Array.isArray(e)){for(var c="[",p=0;p<e.length;p++)switch(p!==0&&(c+=" "),Ee(e[p])){case"boolean":case"number":case"object":c+=e[p].toString();break;case"string":e[p].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),c+="("+Js(r(e[p].toString()))+")"):c+=e[p].toString()}return c+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Xf=function(e,t,n){var r=function(c){return c};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+Js(r(e))+")"},or=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};or.prototype.toString=function(){return this.objId+" 0 R"},or.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},or.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(p){return p!="content"&&p!="appearanceStreamContent"&&p!="scope"&&p!="objId"&&p.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],c=this[r];c&&(Array.isArray(c)?e.push({key:r,value:f0(c,this.objId,this.scope)}):c instanceof or?(c.scope=this.scope,e.push({key:r,value:c.objId+" 0 R"})):typeof c!="function"&&e.push({key:r,value:c}))}return e};var h0=function(){or.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Qn(h0,or);var d0=function(){or.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Js(n(e))+")"}},set:function(n){e=n}})};Qn(d0,or);var Hi=function e(){or.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');t=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(t,3))},set:function(m){Boolean(m)===!0?this.F=tn(t,3):this.F=en(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var c="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return c},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":c=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var p=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!p||p.length<1){if(this instanceof nu)return;p="FieldObject"+e.FieldNum++}var m=function(b){return b};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+Js(m(p))+")"},set:function(m){p=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return p},set:function(m){p=m}});var v="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return v},set:function(m){v=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var i=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return i},set:function(m){i=m}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/Cd:u},set:function(m){u=m}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(m){f=m}});var a="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!a||this instanceof nu||this instanceof Vs))return Xf(a,this.objId,this.scope)},set:function(m){m=m.toString(),a=m}});var l=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(l)return this instanceof bn?l:Xf(l,this.objId,this.scope)},set:function(m){m=m.toString(),l=this instanceof bn?m:m.substr(0,1)==="("?Oa(m.substr(1,m.length-2)):Oa(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof bn?Oa(l.substr(1,l.length-1)):l},set:function(m){m=m.toString(),l=this instanceof bn?"/"+m:m}});var s=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(s)return s},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(s)return this instanceof bn?s:Xf(s,this.objId,this.scope)},set:function(m){m=m.toString(),s=this instanceof bn?m:m.substr(0,1)==="("?Oa(m.substr(1,m.length-2)):Oa(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof bn?Oa(s.substr(1,s.length-1)):s},set:function(m){m=m.toString(),s=this instanceof bn?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var h,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(m){m=Boolean(m),g=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(h)return h},set:function(m){h=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,1))},set:function(m){Boolean(m)===!0?this.Ff=tn(this.Ff,1):this.Ff=en(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,2))},set:function(m){Boolean(m)===!0?this.Ff=tn(this.Ff,2):this.Ff=en(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,3))},set:function(m){Boolean(m)===!0?this.Ff=tn(this.Ff,3):this.Ff=en(this.Ff,3)}});var d=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(d!==null)return d},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');d=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(d){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:d=2;break;case"center":case 1:d=1;break;case"left":case 0:default:d=0}}})};Qn(Hi,or);var Wa=function(){Hi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return f0(t,this.objId,this.scope)},set:function(n){var r,c;c=[],typeof(r=n)=="string"&&(c=function(p,v,o){o||(o=1);for(var i,u=[];i=v.exec(p);)u.push(i[o]);return u}(r,/\((.*?)\)/g)),t=c}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,18))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,18):this.Ff=en(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,19))},set:function(n){this.combo===!0&&(Boolean(n)===!0?this.Ff=tn(this.Ff,19):this.Ff=en(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,20))},set:function(n){Boolean(n)===!0?(this.Ff=tn(this.Ff,20),t.sort()):this.Ff=en(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,22))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,22):this.Ff=en(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,23))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,27))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,27):this.Ff=en(this.Ff,27)}}),this.hasAppearanceStream=!1};Qn(Wa,Hi);var Va=function(){Wa.call(this),this.fontName="helvetica",this.combo=!1};Qn(Va,Wa);var Ya=function(){Va.call(this),this.combo=!0};Qn(Ya,Va);var Mc=function(){Ya.call(this),this.edit=!0};Qn(Mc,Ya);var bn=function(){Hi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,15))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,15):this.Ff=en(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,16))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,16):this.Ff=en(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,17))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,17):this.Ff=en(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,26))},set:function(n){Boolean(n)===!0?this.Ff=tn(this.Ff,26):this.Ff=en(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(p){return p};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,c=[];for(r in c.push("<<"),t)c.push("/"+r+" ("+Js(n(t[r]))+")");return c.push(">>"),c.join(`
`)}},set:function(n){Ee(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Qn(bn,Hi);var Rc=function(){bn.call(this),this.pushButton=!0};Qn(Rc,bn);var Xa=function(){bn.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Qn(Xa,bn);var nu=function(){var e,t;Hi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(c){e=c}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(c){t=c}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var c=function(o){return o};this.scope&&(c=this.scope.internal.getEncryptor(this.objId));var p,v=[];for(p in v.push("<<"),r)v.push("/"+p+" ("+Js(c(r[p]))+")");return v.push(">>"),v.join(`
`)},set:function(c){Ee(c)==="object"&&(r=c)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(c){typeof c=="string"&&(r.CA=c)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(c){n=c}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(c){n="/"+c}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Gt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Qn(nu,Hi),Xa.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Xa.prototype.createOption=function(e){var t=new nu;return t.Parent=this,t.optionName=e,this.Kids.push(t),Ub.call(this.scope,t),t};var jc=function(){bn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Gt.CheckBox.createAppearanceStream()};Qn(jc,bn);var Vs=function(){Hi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,13))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,13):this.Ff=en(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,21))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,21):this.Ff=en(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,23))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,23):this.Ff=en(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,24))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,24):this.Ff=en(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,25))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,25):this.Ff=en(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,26))},set:function(t){Boolean(t)===!0?this.Ff=tn(this.Ff,26):this.Ff=en(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Qn(Vs,Hi);var Bc=function(){Vs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ze(this.Ff,14))},set:function(e){Boolean(e)===!0?this.Ff=tn(this.Ff,14):this.Ff=en(this.Ff,14)}}),this.password=!0};Qn(Bc,Vs);var Gt={CheckBox:{createAppearanceStream:function(){return{N:{On:Gt.CheckBox.YesNormal},D:{On:Gt.CheckBox.YesPushDown,Off:Gt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,c=e.scope.__private__.encodeColorString(e.color),p=Th(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+ue(Gt.internal.getWidth(e))+" "+ue(Gt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+ue(p.fontSize)+" Tf "+c),n.push("BT"),n.push(p.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=ir(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),c=[],p=Gt.internal.getHeight(e),v=Gt.internal.getWidth(e),o=Th(e,e.caption);return c.push("1 g"),c.push("0 0 "+ue(v)+" "+ue(p)+" re"),c.push("f"),c.push("q"),c.push("0 0 1 rg"),c.push("0 0 "+ue(v-1)+" "+ue(p-1)+" re"),c.push("W"),c.push("n"),c.push("0 g"),c.push("BT"),c.push("/"+n+" "+ue(o.fontSize)+" Tf "+r),c.push(o.text),c.push("ET"),c.push("Q"),t.stream=c.join(`
`),t},OffPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ue(Gt.internal.getWidth(e))+" "+ue(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Circle.YesNormal,t.D[e]=Gt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ir(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var c=Gt.internal.Bezier_C,p=Number((r*c).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Zr(Gt.internal.getWidth(e)/2)+" "+Zr(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+p+" "+p+" "+r+" 0 "+r+" c"),n.push("-"+p+" "+r+" -"+r+" "+p+" -"+r+" 0 c"),n.push("-"+r+" -"+p+" -"+p+" -"+r+" 0 -"+r+" c"),n.push(p+" -"+r+" "+r+" -"+p+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var c=Number((2*r).toFixed(5)),p=Number((c*Gt.internal.Bezier_C).toFixed(5)),v=Number((r*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zr(Gt.internal.getWidth(e)/2)+" "+Zr(Gt.internal.getHeight(e)/2)+" cm"),n.push(c+" 0 m"),n.push(c+" "+p+" "+p+" "+c+" 0 "+c+" c"),n.push("-"+p+" "+c+" -"+c+" "+p+" -"+c+" 0 c"),n.push("-"+c+" -"+p+" -"+p+" -"+c+" 0 -"+c+" c"),n.push(p+" -"+c+" "+c+" -"+p+" "+c+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Zr(Gt.internal.getWidth(e)/2)+" "+Zr(Gt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+v+" "+v+" "+r+" 0 "+r+" c"),n.push("-"+v+" "+r+" -"+r+" "+v+" -"+r+" 0 c"),n.push("-"+r+" -"+v+" -"+v+" -"+r+" 0 -"+r+" c"),n.push(v+" -"+r+" "+r+" -"+v+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=[],r=Gt.internal.getWidth(e)<=Gt.internal.getHeight(e)?Gt.internal.getWidth(e)/4:Gt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var c=Number((2*r).toFixed(5)),p=Number((c*Gt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Zr(Gt.internal.getWidth(e)/2)+" "+Zr(Gt.internal.getHeight(e)/2)+" cm"),n.push(c+" 0 m"),n.push(c+" "+p+" "+p+" "+c+" 0 "+c+" c"),n.push("-"+p+" "+c+" -"+c+" "+p+" -"+c+" 0 c"),n.push("-"+c+" -"+p+" -"+p+" -"+c+" 0 -"+c+" c"),n.push(p+" -"+c+" "+c+" -"+p+" "+c+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:Gt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=Gt.RadioButton.Cross.YesNormal,t.D[e]=Gt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ir(e);t.scope=e.scope;var n=[],r=Gt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+ue(Gt.internal.getWidth(e)-2)+" "+ue(Gt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(ue(r.x1.x)+" "+ue(r.x1.y)+" m"),n.push(ue(r.x2.x)+" "+ue(r.x2.y)+" l"),n.push(ue(r.x4.x)+" "+ue(r.x4.y)+" m"),n.push(ue(r.x3.x)+" "+ue(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=Gt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+ue(Gt.internal.getWidth(e))+" "+ue(Gt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+ue(Gt.internal.getWidth(e)-2)+" "+ue(Gt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(ue(n.x1.x)+" "+ue(n.x1.y)+" m"),r.push(ue(n.x2.x)+" "+ue(n.x2.y)+" l"),r.push(ue(n.x4.x)+" "+ue(n.x4.y)+" m"),r.push(ue(n.x3.x)+" "+ue(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=ir(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+ue(Gt.internal.getWidth(e))+" "+ue(Gt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};Gt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=Gt.internal.getWidth(e),n=Gt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},Gt.internal.getWidth=function(e){var t=0;return Ee(e)==="object"&&(t=pg(e.Rect[2])),t},Gt.internal.getHeight=function(e){var t=0;return Ee(e)==="object"&&(t=pg(e.Rect[3])),t};var Ub=Ge.addField=function(e){if(Bb(this,e),!(e instanceof Hi))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ge.AcroFormChoiceField=Wa,Ge.AcroFormListBox=Va,Ge.AcroFormComboBox=Ya,Ge.AcroFormEditBox=Mc,Ge.AcroFormButton=bn,Ge.AcroFormPushButton=Rc,Ge.AcroFormRadioButton=Xa,Ge.AcroFormCheckBox=jc,Ge.AcroFormTextField=Vs,Ge.AcroFormPasswordField=Bc,Ge.AcroFormAppearance=Gt,Ge.AcroForm={ChoiceField:Wa,ListBox:Va,ComboBox:Ya,EditBox:Mc,Button:bn,PushButton:Rc,RadioButton:Xa,CheckBox:jc,TextField:Vs,PasswordField:Bc,Appearance:Gt},ie.AcroForm={ChoiceField:Wa,ListBox:Va,ComboBox:Ya,EditBox:Mc,Button:bn,PushButton:Rc,RadioButton:Xa,CheckBox:jc,TextField:Vs,PasswordField:Bc,Appearance:Gt};ie.AcroForm;function p0(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(j,M){var tt,Z,ft,ht,pt,ct=t;if((M=M||t)==="RGBA"||j.data!==void 0&&j.data instanceof Uint8ClampedArray&&"height"in j&&"width"in j)return"RGBA";if(L(j))for(pt in n)for(ft=n[pt],tt=0;tt<ft.length;tt+=1){for(ht=!0,Z=0;Z<ft[tt].length;Z+=1)if(ft[tt][Z]!==void 0&&ft[tt][Z]!==j[Z]){ht=!1;break}if(ht===!0){ct=pt;break}}else for(pt in n)for(ft=n[pt],tt=0;tt<ft.length;tt+=1){for(ht=!0,Z=0;Z<ft[tt].length;Z+=1)if(ft[tt][Z]!==void 0&&ft[tt][Z]!==j.charCodeAt(Z)){ht=!1;break}if(ht===!0){ct=pt;break}}return ct===t&&M!==t&&(ct=M),ct},c=function j(M){for(var tt=this.internal.write,Z=this.internal.putStream,ft=(0,this.internal.getFilters)();ft.indexOf("FlateEncode")!==-1;)ft.splice(ft.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var ht=[];if(ht.push({key:"Type",value:"/XObject"}),ht.push({key:"Subtype",value:"/Image"}),ht.push({key:"Width",value:M.width}),ht.push({key:"Height",value:M.height}),M.colorSpace===d.INDEXED?ht.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(ht.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===d.DEVICE_CMYK&&ht.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ht.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&ht.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)){for(var pt="",ct=0,D=M.transparency.length;ct<D;ct++)pt+=M.transparency[ct]+" "+M.transparency[ct]+" ";ht.push({key:"Mask",value:"["+pt+"]"})}M.sMask!==void 0&&ht.push({key:"SMask",value:M.objectId+1+" 0 R"});var $=M.filter!==void 0?["/"+M.filter]:void 0;if(Z({data:M.data,additionalKeyValues:ht,alreadyAppliedFilters:$,objectId:M.objectId}),tt("endobj"),"sMask"in M&&M.sMask!==void 0){var nt="/Predictor "+M.predictor+" /Colors 1 /BitsPerComponent "+M.bitsPerComponent+" /Columns "+M.width,T={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:M.bitsPerComponent,decodeParameters:nt,data:M.sMask};"filter"in M&&(T.filter=M.filter),j.call(this,T)}if(M.colorSpace===d.INDEXED){var q=this.internal.newObject();Z({data:F(new Uint8Array(M.palette)),objectId:q}),tt("endobj")}},p=function(){var j=this.internal.collections.addImage_images;for(var M in j)c.call(this,j[M])},v=function(){var j,M=this.internal.collections.addImage_images,tt=this.internal.write;for(var Z in M)tt("/I"+(j=M[Z]).index,j.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",p),this.internal.events.subscribe("putXobjectDict",v))},i=function(){var j=this.internal.collections.addImage_images;return o.call(this),j},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(j){return typeof e["process"+j.toUpperCase()]=="function"},a=function(j){return Ee(j)==="object"&&j.nodeType===1},l=function(j,M){if(j.nodeName==="IMG"&&j.hasAttribute("src")){var tt=""+j.getAttribute("src");if(tt.indexOf("data:image/")===0)return tl(unescape(tt).split("base64,").pop());var Z=e.loadFile(tt,!0);if(Z!==void 0)return Z}if(j.nodeName==="CANVAS"){if(j.width===0||j.height===0)throw new Error("Given canvas must have data. Canvas width: "+j.width+", height: "+j.height);var ft;switch(M){case"PNG":ft="image/png";break;case"WEBP":ft="image/webp";break;case"JPEG":case"JPG":default:ft="image/jpeg"}return tl(j.toDataURL(ft,1).split("base64,").pop())}},s=function(j){var M=this.internal.collections.addImage_images;if(M){for(var tt in M)if(j===M[tt].alias)return M[tt]}},h=function(j,M,tt){return j||M||(j=-96,M=-96),j<0&&(j=-1*tt.width*72/j/this.internal.scaleFactor),M<0&&(M=-1*tt.height*72/M/this.internal.scaleFactor),j===0&&(j=M*tt.width/tt.height),M===0&&(M=j*tt.height/tt.width),[j,M]},g=function(j,M,tt,Z,ft,ht){var pt=h.call(this,tt,Z,ft),ct=this.internal.getCoordinateString,D=this.internal.getVerticalCoordinateString,$=i.call(this);if(tt=pt[0],Z=pt[1],$[ft.index]=ft,ht){ht*=Math.PI/180;var nt=Math.cos(ht),T=Math.sin(ht),q=function(O){return O.toFixed(4)},k=[q(nt),q(T),q(-1*T),q(nt),0,0,"cm"]}this.internal.write("q"),ht?(this.internal.write([1,"0","0",1,ct(j),D(M+Z),"cm"].join(" ")),this.internal.write(k.join(" ")),this.internal.write([ct(tt),"0","0",ct(Z),"0","0","cm"].join(" "))):this.internal.write([ct(tt),"0","0",ct(Z),ct(j),D(M+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ft.index+" Do"),this.internal.write("Q")},d=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(j){var M,tt,Z=0;if(typeof j=="string")for(tt=j.length,M=0;M<tt;M++)Z=(Z<<5)-Z+j.charCodeAt(M),Z|=0;else if(L(j))for(tt=j.byteLength/2,M=0;M<tt;M++)Z=(Z<<5)-Z+j[M],Z|=0;return Z},_=e.__addimage__.validateStringAsBase64=function(j){(j=j||"").toString().trim();var M=!0;return j.length===0&&(M=!1),j.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(j.substr(0,j.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(j.substr(-2))===!1&&(M=!1),M},x=e.__addimage__.extractImageFromDataUrl=function(j){var M=(j=j||"").split("base64,"),tt=null;if(M.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(M[0]);Array.isArray(Z)&&(tt={mimeType:Z[1],charset:Z[2],data:M[1]})}return tt},A=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(j){return A()&&j instanceof ArrayBuffer};var L=e.__addimage__.isArrayBufferView=function(j){return A()&&typeof Uint32Array<"u"&&(j instanceof Int8Array||j instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&j instanceof Uint8ClampedArray||j instanceof Int16Array||j instanceof Uint16Array||j instanceof Int32Array||j instanceof Uint32Array||j instanceof Float32Array||j instanceof Float64Array)},E=e.__addimage__.binaryStringToUint8Array=function(j){for(var M=j.length,tt=new Uint8Array(M),Z=0;Z<M;Z++)tt[Z]=j.charCodeAt(Z);return tt},F=e.__addimage__.arrayBufferToBinaryString=function(j){for(var M="",tt=L(j)?j:new Uint8Array(j),Z=0;Z<tt.length;Z+=8192)M+=String.fromCharCode.apply(null,tt.subarray(Z,Z+8192));return M};e.addImage=function(){var j,M,tt,Z,ft,ht,pt,ct,D;if(typeof arguments[1]=="number"?(M=t,tt=arguments[1],Z=arguments[2],ft=arguments[3],ht=arguments[4],pt=arguments[5],ct=arguments[6],D=arguments[7]):(M=arguments[1],tt=arguments[2],Z=arguments[3],ft=arguments[4],ht=arguments[5],pt=arguments[6],ct=arguments[7],D=arguments[8]),Ee(j=arguments[0])==="object"&&!a(j)&&"imageData"in j){var $=j;j=$.imageData,M=$.format||M||t,tt=$.x||tt||0,Z=$.y||Z||0,ft=$.w||$.width||ft,ht=$.h||$.height||ht,pt=$.alias||pt,ct=$.compression||ct,D=$.rotation||$.angle||D}var nt=this.internal.getFilters();if(ct===void 0&&nt.indexOf("FlateEncode")!==-1&&(ct="SLOW"),isNaN(tt)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var T=Y.call(this,j,M,pt,ct);return g.call(this,tt,Z,ft,ht,T,D),this};var Y=function(j,M,tt,Z){var ft,ht,pt;if(typeof j=="string"&&r(j)===t){j=unescape(j);var ct=et(j,!1);(ct!==""||(ct=e.loadFile(j,!0))!==void 0)&&(j=ct)}if(a(j)&&(j=l(j,M)),M=r(j,M),!f(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((pt=tt)==null||pt.length===0)&&(tt=function(D){return typeof D=="string"||L(D)?b(D):L(D.data)?b(D.data):null}(j)),(ft=s.call(this,tt))||(A()&&(j instanceof Uint8Array||M==="RGBA"||(ht=j,j=E(j))),ft=this["process"+M.toUpperCase()](j,u.call(this),tt,function(D){return D&&typeof D=="string"&&(D=D.toUpperCase()),D in e.image_compression?D:m.NONE}(Z),ht)),!ft)throw new Error("An unknown error occurred whilst processing the image.");return ft},et=e.__addimage__.convertBase64ToBinaryString=function(j,M){var tt;M=typeof M!="boolean"||M;var Z,ft="";if(typeof j=="string"){Z=(tt=x(j))!==null?tt.data:j;try{ft=tl(Z)}catch(ht){if(M)throw _(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ht.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ft};e.getImageProperties=function(j){var M,tt,Z="";if(a(j)&&(j=l(j)),typeof j=="string"&&r(j)===t&&((Z=et(j,!1))===""&&(Z=e.loadFile(j)||""),j=Z),tt=r(j),!f(tt))throw new Error("addImage does not support files of type '"+tt+"', please ensure that a plugin for '"+tt+"' support is added.");if(!A()||j instanceof Uint8Array||(j=E(j)),!(M=this["process"+tt.toUpperCase()](j)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=tt,M}})(ie.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ie.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,c,p,v=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,i=this.internal.getPageInfoByObjId(n.objId),u=n.pageContext.annotations,f=!1,a=0;a<u.length&&!f;a++)switch((r=u[a]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var l=0;l<u.length;l++){r=u[l];var s=this.internal.pdfEscape,h=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),d=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(g.objId),b=r.title||"Note";p="<</Type /Annot /Subtype /Text "+(c="/Rect ["+v(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+v(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+s(m(r.contents))+")",p+=" /Popup "+d.objId+" 0 R",p+=" /P "+i.objId+" 0 R",p+=" /T ("+s(m(b))+") >>",g.content=p;var _=g.objId+" 0 R";p="<</Type /Annot /Subtype /Popup "+(c="/Rect ["+v(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+v(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(p+=" /Open true"),p+=" >>",d.content=p,this.internal.write(g.objId,"0 R",d.objId,"0 R");break;case"freetext":c="/Rect ["+v(r.bounds.x)+" "+o(r.bounds.y)+" "+v(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var x=r.color||"#000000";p="<</Type /Annot /Subtype /FreeText "+c+"/Contents ("+s(h(r.contents))+")",p+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+x+")",p+=" /Border [0 0 0]",p+=" >>",this.internal.write(p);break;case"link":if(r.options.name){var A=this.annotations._nameMap[r.options.name];r.options.pageNumber=A.page,r.options.top=A.y}else r.options.top||(r.options.top=0);if(c="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",p="",r.options.url)p="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /A <</S /URI /URI ("+s(h(r.options.url))+") >>";else if(r.options.pageNumber)switch(p="<</Type /Annot /Subtype /Link "+c+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":p+=" /Fit]";break;case"FitH":p+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,p+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var L=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),p+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}p!=""&&(p+=" >>",this.internal.write(p))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,c,p,v){var o=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:i(n),y:u(r),w:i(n+c),h:u(r+p)},options:v,type:"link"})},e.textWithLink=function(n,r,c,p){var v,o,i=this.getTextWidth(n),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(p.maxWidth!==void 0){o=p.maxWidth;var f=this.splitTextToSize(n,o).length;v=Math.ceil(u*f)}else o=i,v=u;return this.text(n,r,c,p),c+=.2*u,p.align==="center"&&(r-=i/2),p.align==="right"&&(r-=i),this.link(r,c-u,o,v,p),i},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ie.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},c=[1570,1571,1573,1575];e.__arabicParser__={};var p=e.__arabicParser__.isInArabicSubstitutionA=function(g){return t[g.charCodeAt(0)]!==void 0},v=e.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},o=e.__arabicParser__.isArabicEndLetter=function(g){return v(g)&&p(g)&&t[g.charCodeAt(0)].length<=2},i=e.__arabicParser__.isArabicAlfLetter=function(g){return v(g)&&c.indexOf(g.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return v(g)&&p(g)&&t[g.charCodeAt(0)].length>=1};var u=e.__arabicParser__.arabicLetterHasFinalForm=function(g){return v(g)&&p(g)&&t[g.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(g){return v(g)&&p(g)&&t[g.charCodeAt(0)].length>=3};var f=e.__arabicParser__.arabicLetterHasMedialForm=function(g){return v(g)&&p(g)&&t[g.charCodeAt(0)].length==4},a=e.__arabicParser__.resolveLigatures=function(g){var d=0,m=n,b="",_=0;for(d=0;d<g.length;d+=1)m[g.charCodeAt(d)]!==void 0?(_++,typeof(m=m[g.charCodeAt(d)])=="number"&&(b+=String.fromCharCode(m),m=n,_=0),d===g.length-1&&(m=n,b+=g.charAt(d-(_-1)),d-=_-1,_=0)):(m=n,b+=g.charAt(d-_),d-=_,_=0);return b};e.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var l=e.__arabicParser__.getCorrectForm=function(g,d,m){return v(g)?p(g)===!1?-1:!u(g)||!v(d)&&!v(m)||!v(m)&&o(d)||o(g)&&!v(d)||o(g)&&i(d)||o(g)&&o(d)?0:f(g)&&v(d)&&!o(d)&&v(m)&&u(m)?3:o(g)||!v(m)?1:2:-1},s=function(g){var d=0,m=0,b=0,_="",x="",A="",L=(g=g||"").split("\\s+"),E=[];for(d=0;d<L.length;d+=1){for(E.push(""),m=0;m<L[d].length;m+=1)_=L[d][m],x=L[d][m-1],A=L[d][m+1],v(_)?(b=l(_,x,A),E[d]+=b!==-1?String.fromCharCode(t[_.charCodeAt(0)][b]):_):E[d]+=_;E[d]=a(E[d])}return E.join(" ")},h=e.__arabicParser__.processArabic=e.processArabic=function(){var g,d=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(d)){var b=0;for(m=[],b=0;b<d.length;b+=1)Array.isArray(d[b])?m.push([s(d[b][0]),d[b][1],d[b][2]]):m.push([s(d[b])]);g=m}else g=s(d);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};e.events.push(["preProcessText",h])}(ie.API),ie.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var c=300;Object.defineProperty(this,"height",{get:function(){return c},set:function(o){c=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=c+1)}});var p=[];Object.defineProperty(this,"childNodes",{get:function(){return p},set:function(o){p=o}});var v={};Object.defineProperty(this,"style",{get:function(){return v},set:function(o){v=o}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var c;if((n=n||"2d")!=="2d")return null;for(c in r)this.pdf.context2d.hasOwnProperty(c)&&(this.pdf.context2d[c]=r[c]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ie.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),c.call(this))},c=function(){this.internal.__cell__.lastCell=new p,this.internal.__cell__.pages=1},p=function(){var i=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return i},set:function(g){i=g}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var a=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return a},set:function(g){a=g}});var l=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var s=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return s},set:function(g){s=g}});var h=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return h},set:function(g){h=g}}),this};p.prototype.clone=function(){return new p(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},p.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(i){return r.call(this),this.internal.__cell__.headerFunction=typeof i=="function"?i:void 0,this},e.getTextDimensions=function(i,u){r.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),a=u.font||this.getFont(),l=u.scaleFactor||this.internal.scaleFactor,s=0,h=0,g=0,d=this;if(!Array.isArray(i)&&typeof i!="string"){if(typeof i!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");i=String(i)}var m=u.maxWidth;m>0?typeof i=="string"?i=this.splitTextToSize(i,m):Object.prototype.toString.call(i)==="[object Array]"&&(i=i.reduce(function(_,x){return _.concat(d.splitTextToSize(x,m))},[])):i=Array.isArray(i)?i:[i];for(var b=0;b<i.length;b++)s<(g=this.getStringUnitWidth(i[b],{font:a})*f)&&(s=g);return s!==0&&(h=i.length),{w:s/=l,h:Math.max((h*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/l,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var i=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new p(i.left,i.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var v=e.cell=function(){var i;i=arguments[0]instanceof p?arguments[0]:new p(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,a=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,s=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===i.lineNumber?(i.x=(u.x||0)+(u.width||0),i.y=u.y||0):u.y+u.height+i.height+a.bottom>this.getPageHeight()?(this.cellAddPage(),i.y=a.top,s&&l&&(this.printHeaderRow(i.lineNumber,!0),i.y+=l[0].height)):i.y=u.y+u.height||i.y),i.text[0]!==void 0&&(this.rect(i.x,i.y,i.width,i.height,n===!0?"FD":void 0),i.align==="right"?this.text(i.text,i.x+i.width-f,i.y+f,{align:"right",baseline:"top"}):i.align==="center"?this.text(i.text,i.x+i.width/2,i.y+f,{align:"center",baseline:"top",maxWidth:i.width-f-f}):this.text(i.text,i.x+f,i.y+f,{align:"left",baseline:"top",maxWidth:i.width-f-f})),this.internal.__cell__.lastCell=i,this};e.table=function(i,u,f,a,l){if(r.call(this),!f)throw new Error("No data for PDF table.");var s,h,g,d,m=[],b=[],_=[],x={},A={},L=[],E=[],F=(l=l||{}).autoSize||!1,Y=l.printHeaders!==!1,et=l.css&&l.css["font-size"]!==void 0?16*l.css["font-size"]:l.fontSize||12,j=l.margins||Object.assign({width:this.getPageWidth()},t),M=typeof l.padding=="number"?l.padding:3,tt=l.headerBackgroundColor||"#c8c8c8",Z=l.headerTextColor||"#000";if(c.call(this),this.internal.__cell__.printHeaders=Y,this.internal.__cell__.margins=j,this.internal.__cell__.table_font_size=et,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=tt,this.internal.__cell__.headerTextColor=Z,this.setFontSize(et),a==null)b=m=Object.keys(f[0]),_=m.map(function(){return"left"});else if(Array.isArray(a)&&Ee(a[0])==="object")for(m=a.map(function($){return $.name}),b=a.map(function($){return $.prompt||$.name||""}),_=a.map(function($){return $.align||"left"}),s=0;s<a.length;s+=1)A[a[s].name]=a[s].width*(19.049976/25.4);else Array.isArray(a)&&typeof a[0]=="string"&&(b=m=a,_=m.map(function(){return"left"}));if(F||Array.isArray(a)&&typeof a[0]=="string")for(s=0;s<m.length;s+=1){for(x[d=m[s]]=f.map(function($){return $[d]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(b[s],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),h=x[d],this.setFont(void 0,"normal"),g=0;g<h.length;g+=1)L.push(this.getTextDimensions(h[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);A[d]=Math.max.apply(null,L)+M+M,L=[]}if(Y){var ft={};for(s=0;s<m.length;s+=1)ft[m[s]]={},ft[m[s]].text=b[s],ft[m[s]].align=_[s];var ht=o.call(this,ft,A);E=m.map(function($){return new p(i,u,A[$],ht,ft[$].text,void 0,ft[$].align)}),this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}var pt=a.reduce(function($,nt){return $[nt.name]=nt.align,$},{});for(s=0;s<f.length;s+=1){"rowStart"in l&&l.rowStart instanceof Function&&l.rowStart({row:s,data:f[s]},this);var ct=o.call(this,f[s],A);for(g=0;g<m.length;g+=1){var D=f[s][m[g]];"cellStart"in l&&l.cellStart instanceof Function&&l.cellStart({row:s,col:g,data:D},this),v.call(this,new p(i,u,A[m[g]],ct,D,s+2,pt[m[g]]))}}return this.internal.__cell__.table_x=i,this.internal.__cell__.table_y=u,this};var o=function(i,u){var f=this.internal.__cell__.padding,a=this.internal.__cell__.table_font_size,l=this.internal.scaleFactor;return Object.keys(i).map(function(s){var h=i[s];return this.splitTextToSize(h.hasOwnProperty("text")?h.text:h,u[s]-f-f)},this).map(function(s){return this.getLineHeightFactor()*s.length*a/l+f+f},this).reduce(function(s,h){return Math.max(s,h)},0)};e.setTableHeaderRow=function(i){r.call(this),this.internal.__cell__.tableHeaderRow=i},e.printHeaderRow=function(i,u){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new p(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],s=0;s<this.internal.__cell__.tableHeaderRow.length;s+=1){f=this.internal.__cell__.tableHeaderRow[s].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,l.push(f)),f.lineNumber=i;var h=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),v.call(this,f),this.setTextColor(h)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(ie.API);var g0={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},m0=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Ph=p0(m0),v0=[100,200,300,400,500,600,700,800,900],zb=p0(v0);function Oh(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(p){return g0[p=p||"normal"]?p:"normal"}(e.style),r=function(p){if(!p)return 400;if(typeof p=="number")return p>=100&&p<=900&&p%100==0?p:400;if(/^\d00$/.test(p))return parseInt(p);switch(p){case"bold":return 700;case"normal":default:return 400}}(e.weight),c=function(p){return typeof Ph[p=p||"normal"]=="number"?p:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:c,src:e.src||[],ref:e.ref||{name:t,style:[c,n,r].join(" ")}}}function gg(e,t,n,r){var c;for(c=n;c>=0&&c<t.length;c+=r)if(e[t[c]])return e[t[c]];for(c=n;c>=0&&c<t.length;c-=r)if(e[t[c]])return e[t[c]]}var qb={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},mg={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function vg(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Hb(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",c=Object.assign({},qb,n.genericFontFamilies||{}),p=null,v=null,o=0;o<t.length;++o)if(c[(p=Oh(t[o])).family]&&(p.family=c[p.family]),e.hasOwnProperty(p.family)){v=e[p.family];break}if(!(v=v||e[r]))throw new Error("Could not find a font-family for the rule '"+vg(p)+"' and default family '"+r+"'.");if(v=function(i,u){if(u[i])return u[i];var f=Ph[i],a=f<=Ph.normal?-1:1,l=gg(u,m0,f,a);if(!l)throw new Error("Could not find a matching font-stretch value for "+i);return l}(p.stretch,v),v=function(i,u){if(u[i])return u[i];for(var f=g0[i],a=0;a<f.length;++a)if(u[f[a]])return u[f[a]];throw new Error("Could not find a matching font-style for "+i)}(p.style,v),!(v=function(i,u){if(u[i])return u[i];if(i===400&&u[500])return u[500];if(i===500&&u[400])return u[400];var f=zb[i],a=gg(u,v0,f,i<400?-1:1);if(!a)throw new Error("Could not find a matching font-weight for value "+i);return a}(p.weight,v)))throw new Error("Failed to resolve a font for the rule '"+vg(p)+"'.");return v}function yg(e){return e.trimLeft()}function Wb(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Vb(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var Pc,bg,wg,Gf=["times"];(function(e){var t,n,r,c,p,v,o,i,u,f=function(T){return T=T||{},this.isStrokeTransparent=T.isStrokeTransparent||!1,this.strokeOpacity=T.strokeOpacity||1,this.strokeStyle=T.strokeStyle||"#000000",this.fillStyle=T.fillStyle||"#000000",this.isFillTransparent=T.isFillTransparent||!1,this.fillOpacity=T.fillOpacity||1,this.font=T.font||"10px sans-serif",this.textBaseline=T.textBaseline||"alphabetic",this.textAlign=T.textAlign||"left",this.lineWidth=T.lineWidth||1,this.lineJoin=T.lineJoin||"miter",this.lineCap=T.lineCap||"butt",this.path=T.path||[],this.transform=T.transform!==void 0?T.transform.clone():new i,this.globalCompositeOperation=T.globalCompositeOperation||"normal",this.globalAlpha=T.globalAlpha||1,this.clip_path=T.clip_path||[],this.currentPoint=T.currentPoint||new v,this.miterLimit=T.miterLimit||10,this.lastPoint=T.lastPoint||new v,this.lineDashOffset=T.lineDashOffset||0,this.lineDash=T.lineDash||[],this.margin=T.margin||[0,0,0,0],this.prevPageLastElemOffset=T.prevPageLastElemOffset||0,this.ignoreClearRect=typeof T.ignoreClearRect!="boolean"||T.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new a(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,c=this.internal.getHorizontalCoordinate,p=this.internal.getVerticalCoordinate,v=this.internal.Point,o=this.internal.Rectangle,i=this.internal.Matrix,u=new f}]);var a=function(T){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var q=T;Object.defineProperty(this,"pdf",{get:function(){return q}});var k=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return k},set:function(H){k=Boolean(H)}});var O=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return O},set:function(H){O=Boolean(H)}});var W=0;Object.defineProperty(this,"posX",{get:function(){return W},set:function(H){isNaN(H)||(W=H)}});var B=0;Object.defineProperty(this,"posY",{get:function(){return B},set:function(H){isNaN(H)||(B=H)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(H){var I;typeof H=="number"?I=[H,H,H,H]:((I=new Array(4))[0]=H[0],I[1]=H.length>=2?H[1]:I[0],I[2]=H.length>=3?H[2]:I[0],I[3]=H.length>=4?H[3]:I[1]),u.margin=I}});var J=!1;Object.defineProperty(this,"autoPaging",{get:function(){return J},set:function(H){J=H}});var G=0;Object.defineProperty(this,"lastBreak",{get:function(){return G},set:function(H){G=H}});var lt=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lt},set:function(H){lt=H}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(H){H instanceof f&&(u=H)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(H){u.path=H}});var dt=[];Object.defineProperty(this,"ctxStack",{get:function(){return dt},set:function(H){dt=H}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(H){var I;I=l(H),this.ctx.fillStyle=I.style,this.ctx.isFillTransparent=I.a===0,this.ctx.fillOpacity=I.a,this.pdf.setFillColor(I.r,I.g,I.b,{a:I.a}),this.pdf.setTextColor(I.r,I.g,I.b,{a:I.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(H){var I=l(H);this.ctx.strokeStyle=I.style,this.ctx.isStrokeTransparent=I.a===0,this.ctx.strokeOpacity=I.a,I.a===0?this.pdf.setDrawColor(255,255,255):(I.a,this.pdf.setDrawColor(I.r,I.g,I.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(H){["butt","round","square"].indexOf(H)!==-1&&(this.ctx.lineCap=H,this.pdf.setLineCap(H))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(H){isNaN(H)||(this.ctx.lineWidth=H,this.pdf.setLineWidth(H))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(H){["bevel","round","miter"].indexOf(H)!==-1&&(this.ctx.lineJoin=H,this.pdf.setLineJoin(H))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(H){isNaN(H)||(this.ctx.miterLimit=H,this.pdf.setMiterLimit(H))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(H){this.ctx.textBaseline=H}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(H){["right","end","center","left","start"].indexOf(H)!==-1&&(this.ctx.textAlign=H)}});var xt=null;function N(H,I){if(xt===null){var it=function(at){var ut=[];return Object.keys(at).forEach(function(vt){at[vt].forEach(function(gt){var rt=null;switch(gt){case"bold":rt={family:vt,weight:"bold"};break;case"italic":rt={family:vt,style:"italic"};break;case"bolditalic":rt={family:vt,weight:"bold",style:"italic"};break;case"":case"normal":rt={family:vt}}rt!==null&&(rt.ref={name:vt,style:gt},ut.push(rt))})}),ut}(H.getFontList());xt=function(at){for(var ut={},vt=0;vt<at.length;++vt){var gt=Oh(at[vt]),rt=gt.family,Ct=gt.stretch,Ot=gt.style,Et=gt.weight;ut[rt]=ut[rt]||{},ut[rt][Ct]=ut[rt][Ct]||{},ut[rt][Ct][Ot]=ut[rt][Ct][Ot]||{},ut[rt][Ct][Ot][Et]=gt}return ut}(it.concat(I))}return xt}var R=null;Object.defineProperty(this,"fontFaces",{get:function(){return R},set:function(H){xt=null,R=H}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(H){var I;if(this.ctx.font=H,(I=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(H))!==null){var it=I[1],at=(I[2],I[3]),ut=I[4],vt=(I[5],I[6]),gt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ut)[2];ut=Math.floor(gt==="px"?parseFloat(ut)*this.pdf.internal.scaleFactor:gt==="em"?parseFloat(ut)*this.pdf.getFontSize():parseFloat(ut)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ut);var rt=function(Ut){var Kt,zt,ve=[],se=Ut.trim();if(se==="")return Gf;if(se in mg)return[mg[se]];for(;se!=="";){switch(zt=null,Kt=(se=yg(se)).charAt(0)){case'"':case"'":zt=Wb(se.substring(1),Kt);break;default:zt=Vb(se)}if(zt===null||(ve.push(zt[0]),(se=yg(zt[1]))!==""&&se.charAt(0)!==","))return Gf;se=se.replace(/^,/,"")}return ve}(vt);if(this.fontFaces){var Ct=Hb(N(this.pdf,this.fontFaces),rt.map(function(Ut){return{family:Ut,stretch:"normal",weight:at,style:it}}));this.pdf.setFont(Ct.ref.name,Ct.ref.style)}else{var Ot="";(at==="bold"||parseInt(at,10)>=700||it==="bold")&&(Ot="bold"),it==="italic"&&(Ot+="italic"),Ot.length===0&&(Ot="normal");for(var Et="",Mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Bt=0;Bt<rt.length;Bt++){if(this.pdf.internal.getFont(rt[Bt],Ot,{noFallback:!0,disableWarning:!0})!==void 0){Et=rt[Bt];break}if(Ot==="bolditalic"&&this.pdf.internal.getFont(rt[Bt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Et=rt[Bt],Ot="bold";else if(this.pdf.internal.getFont(rt[Bt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Et=rt[Bt],Ot="normal";break}}if(Et===""){for(var Vt=0;Vt<rt.length;Vt++)if(Mt[rt[Vt]]){Et=Mt[rt[Vt]];break}}Et=Et===""?"Times":Et,this.pdf.setFont(Et,Ot)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(H){this.ctx.globalCompositeOperation=H}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(H){this.ctx.globalAlpha=H}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(H){this.ctx.lineDashOffset=H,nt.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(H){this.ctx.lineDash=H,nt.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(H){this.ctx.ignoreClearRect=Boolean(H)}})};a.prototype.setLineDash=function(T){this.lineDash=T},a.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},a.prototype.fill=function(){x.call(this,"fill",!1)},a.prototype.stroke=function(){x.call(this,"stroke",!1)},a.prototype.beginPath=function(){this.path=[{type:"begin"}]},a.prototype.moveTo=function(T,q){if(isNaN(T)||isNaN(q))throw Ie.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var k=this.ctx.transform.applyToPoint(new v(T,q));this.path.push({type:"mt",x:k.x,y:k.y}),this.ctx.lastPoint=new v(T,q)},a.prototype.closePath=function(){var T=new v(0,0),q=0;for(q=this.path.length-1;q!==-1;q--)if(this.path[q].type==="begin"&&Ee(this.path[q+1])==="object"&&typeof this.path[q+1].x=="number"){T=new v(this.path[q+1].x,this.path[q+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new v(T.x,T.y)},a.prototype.lineTo=function(T,q){if(isNaN(T)||isNaN(q))throw Ie.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var k=this.ctx.transform.applyToPoint(new v(T,q));this.path.push({type:"lt",x:k.x,y:k.y}),this.ctx.lastPoint=new v(k.x,k.y)},a.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),x.call(this,null,!0)},a.prototype.quadraticCurveTo=function(T,q,k,O){if(isNaN(k)||isNaN(O)||isNaN(T)||isNaN(q))throw Ie.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var W=this.ctx.transform.applyToPoint(new v(k,O)),B=this.ctx.transform.applyToPoint(new v(T,q));this.path.push({type:"qct",x1:B.x,y1:B.y,x:W.x,y:W.y}),this.ctx.lastPoint=new v(W.x,W.y)},a.prototype.bezierCurveTo=function(T,q,k,O,W,B){if(isNaN(W)||isNaN(B)||isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O))throw Ie.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var J=this.ctx.transform.applyToPoint(new v(W,B)),G=this.ctx.transform.applyToPoint(new v(T,q)),lt=this.ctx.transform.applyToPoint(new v(k,O));this.path.push({type:"bct",x1:G.x,y1:G.y,x2:lt.x,y2:lt.y,x:J.x,y:J.y}),this.ctx.lastPoint=new v(J.x,J.y)},a.prototype.arc=function(T,q,k,O,W,B){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O)||isNaN(W))throw Ie.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(B=Boolean(B),!this.ctx.transform.isIdentity){var J=this.ctx.transform.applyToPoint(new v(T,q));T=J.x,q=J.y;var G=this.ctx.transform.applyToPoint(new v(0,k)),lt=this.ctx.transform.applyToPoint(new v(0,0));k=Math.sqrt(Math.pow(G.x-lt.x,2)+Math.pow(G.y-lt.y,2))}Math.abs(W-O)>=2*Math.PI&&(O=0,W=2*Math.PI),this.path.push({type:"arc",x:T,y:q,radius:k,startAngle:O,endAngle:W,counterclockwise:B})},a.prototype.arcTo=function(T,q,k,O,W){throw new Error("arcTo not implemented.")},a.prototype.rect=function(T,q,k,O){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O))throw Ie.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(T,q),this.lineTo(T+k,q),this.lineTo(T+k,q+O),this.lineTo(T,q+O),this.lineTo(T,q),this.lineTo(T+k,q),this.lineTo(T,q)},a.prototype.fillRect=function(T,q,k,O){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O))throw Ie.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!s.call(this)){var W={};this.lineCap!=="butt"&&(W.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(W.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(T,q,k,O),this.fill(),W.hasOwnProperty("lineCap")&&(this.lineCap=W.lineCap),W.hasOwnProperty("lineJoin")&&(this.lineJoin=W.lineJoin)}},a.prototype.strokeRect=function(T,q,k,O){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O))throw Ie.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");h.call(this)||(this.beginPath(),this.rect(T,q,k,O),this.stroke())},a.prototype.clearRect=function(T,q,k,O){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O))throw Ie.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(T,q,k,O))},a.prototype.save=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,k=0;k<this.pdf.internal.getNumberOfPages();k++)this.pdf.setPage(k+1),this.pdf.internal.out("q");if(this.pdf.setPage(q),T){this.ctx.fontSize=this.pdf.internal.getFontSize();var O=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=O}},a.prototype.restore=function(T){T=typeof T!="boolean"||T;for(var q=this.pdf.internal.getCurrentPageInfo().pageNumber,k=0;k<this.pdf.internal.getNumberOfPages();k++)this.pdf.setPage(k+1),this.pdf.internal.out("Q");this.pdf.setPage(q),T&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},a.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var l=function(T){var q,k,O,W;if(T.isCanvasGradient===!0&&(T=T.getColor()),!T)return{r:0,g:0,b:0,a:0,style:T};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(T))q=0,k=0,O=0,W=0;else{var B=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(T);if(B!==null)q=parseInt(B[1]),k=parseInt(B[2]),O=parseInt(B[3]),W=1;else if((B=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(T))!==null)q=parseInt(B[1]),k=parseInt(B[2]),O=parseInt(B[3]),W=parseFloat(B[4]);else{if(W=1,typeof T=="string"&&T.charAt(0)!=="#"){var J=new l0(T);T=J.ok?J.toHex():"#000000"}T.length===4?(q=T.substring(1,2),q+=q,k=T.substring(2,3),k+=k,O=T.substring(3,4),O+=O):(q=T.substring(1,3),k=T.substring(3,5),O=T.substring(5,7)),q=parseInt(q,16),k=parseInt(k,16),O=parseInt(O,16)}}return{r:q,g:k,b:O,a:W,style:T}},s=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},h=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};a.prototype.fillText=function(T,q,k,O){if(isNaN(q)||isNaN(k)||typeof T!="string")throw Ie.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(O=isNaN(O)?void 0:O,!s.call(this)){var W=ct(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;M.call(this,{text:T,x:q,y:k,scale:B,angle:W,align:this.textAlign,maxWidth:O})}},a.prototype.strokeText=function(T,q,k,O){if(isNaN(q)||isNaN(k)||typeof T!="string")throw Ie.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!h.call(this)){O=isNaN(O)?void 0:O;var W=ct(this.ctx.transform.rotation),B=this.ctx.transform.scaleX;M.call(this,{text:T,x:q,y:k,scale:B,renderingMode:"stroke",angle:W,align:this.textAlign,maxWidth:O})}},a.prototype.measureText=function(T){if(typeof T!="string")throw Ie.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var q=this.pdf,k=this.pdf.internal.scaleFactor,O=q.internal.getFontSize(),W=q.getStringUnitWidth(T)*O/q.internal.scaleFactor,B=function(J){var G=(J=J||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return G}}),this};return new B({width:W*=Math.round(96*k/72*1e4)/1e4})},a.prototype.scale=function(T,q){if(isNaN(T)||isNaN(q))throw Ie.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var k=new i(T,0,0,q,0,0);this.ctx.transform=this.ctx.transform.multiply(k)},a.prototype.rotate=function(T){if(isNaN(T))throw Ie.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var q=new i(Math.cos(T),Math.sin(T),-Math.sin(T),Math.cos(T),0,0);this.ctx.transform=this.ctx.transform.multiply(q)},a.prototype.translate=function(T,q){if(isNaN(T)||isNaN(q))throw Ie.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var k=new i(1,0,0,1,T,q);this.ctx.transform=this.ctx.transform.multiply(k)},a.prototype.transform=function(T,q,k,O,W,B){if(isNaN(T)||isNaN(q)||isNaN(k)||isNaN(O)||isNaN(W)||isNaN(B))throw Ie.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var J=new i(T,q,k,O,W,B);this.ctx.transform=this.ctx.transform.multiply(J)},a.prototype.setTransform=function(T,q,k,O,W,B){T=isNaN(T)?1:T,q=isNaN(q)?0:q,k=isNaN(k)?0:k,O=isNaN(O)?1:O,W=isNaN(W)?0:W,B=isNaN(B)?0:B,this.ctx.transform=new i(T,q,k,O,W,B)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};a.prototype.drawImage=function(T,q,k,O,W,B,J,G,lt){var dt=this.pdf.getImageProperties(T),xt=1,N=1,R=1,H=1;O!==void 0&&G!==void 0&&(R=G/O,H=lt/W,xt=dt.width/O*G/O,N=dt.height/W*lt/W),B===void 0&&(B=q,J=k,q=0,k=0),O!==void 0&&G===void 0&&(G=O,lt=W),O===void 0&&G===void 0&&(G=dt.width,lt=dt.height);for(var I,it=this.ctx.transform.decompose(),at=ct(it.rotate.shx),ut=new i,vt=(ut=(ut=(ut=ut.multiply(it.translate)).multiply(it.skew)).multiply(it.scale)).applyToRectangle(new o(B-q*R,J-k*H,O*xt,W*N)),gt=d.call(this,vt),rt=[],Ct=0;Ct<gt.length;Ct+=1)rt.indexOf(gt[Ct])===-1&&rt.push(gt[Ct]);if(_(rt),this.autoPaging)for(var Ot=rt[0],Et=rt[rt.length-1],Mt=Ot;Mt<Et+1;Mt++){this.pdf.setPage(Mt);var Bt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vt=Mt===1?this.posY+this.margin[0]:this.margin[0],Ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],zt=Mt===1?0:Ut+(Mt-2)*Kt;if(this.ctx.clip_path.length!==0){var ve=this.path;I=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(I,this.posX+this.margin[3],-zt+Vt+this.ctx.prevPageLastElemOffset),A.call(this,"fill",!0),this.path=ve}var se=JSON.parse(JSON.stringify(vt));se=b([se],this.posX+this.margin[3],-zt+Vt+this.ctx.prevPageLastElemOffset)[0];var rn=(Mt>Ot||Mt<Et)&&g.call(this);rn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Bt,Kt,null).clip().discardPath()),this.pdf.addImage(T,"JPEG",se.x,se.y,se.w,se.h,null,null,at),rn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(T,"JPEG",vt.x,vt.y,vt.w,vt.h,null,null,at)};var d=function(T,q,k){var O=[];q=q||this.pdf.internal.pageSize.width,k=k||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var W=this.posY+this.ctx.prevPageLastElemOffset;switch(T.type){default:case"mt":case"lt":O.push(Math.floor((T.y+W)/k)+1);break;case"arc":O.push(Math.floor((T.y+W-T.radius)/k)+1),O.push(Math.floor((T.y+W+T.radius)/k)+1);break;case"qct":var B=D(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x,T.y);O.push(Math.floor((B.y+W)/k)+1),O.push(Math.floor((B.y+B.h+W)/k)+1);break;case"bct":var J=$(this.ctx.lastPoint.x,this.ctx.lastPoint.y,T.x1,T.y1,T.x2,T.y2,T.x,T.y);O.push(Math.floor((J.y+W)/k)+1),O.push(Math.floor((J.y+J.h+W)/k)+1);break;case"rect":O.push(Math.floor((T.y+W)/k)+1),O.push(Math.floor((T.y+T.h+W)/k)+1)}for(var G=0;G<O.length;G+=1)for(;this.pdf.internal.getNumberOfPages()<O[G];)m.call(this);return O},m=function(){var T=this.fillStyle,q=this.strokeStyle,k=this.font,O=this.lineCap,W=this.lineWidth,B=this.lineJoin;this.pdf.addPage(),this.fillStyle=T,this.strokeStyle=q,this.font=k,this.lineCap=O,this.lineWidth=W,this.lineJoin=B},b=function(T,q,k){for(var O=0;O<T.length;O++)switch(T[O].type){case"bct":T[O].x2+=q,T[O].y2+=k;case"qct":T[O].x1+=q,T[O].y1+=k;case"mt":case"lt":case"arc":default:T[O].x+=q,T[O].y+=k}return T},_=function(T){return T.sort(function(q,k){return q-k})},x=function(T,q){for(var k,O,W=this.fillStyle,B=this.strokeStyle,J=this.lineCap,G=this.lineWidth,lt=Math.abs(G*this.ctx.transform.scaleX),dt=this.lineJoin,xt=JSON.parse(JSON.stringify(this.path)),N=JSON.parse(JSON.stringify(this.path)),R=[],H=0;H<N.length;H++)if(N[H].x!==void 0)for(var I=d.call(this,N[H]),it=0;it<I.length;it+=1)R.indexOf(I[it])===-1&&R.push(I[it]);for(var at=0;at<R.length;at++)for(;this.pdf.internal.getNumberOfPages()<R[at];)m.call(this);if(_(R),this.autoPaging)for(var ut=R[0],vt=R[R.length-1],gt=ut;gt<vt+1;gt++){this.pdf.setPage(gt),this.fillStyle=W,this.strokeStyle=B,this.lineCap=J,this.lineWidth=lt,this.lineJoin=dt;var rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ct=gt===1?this.posY+this.margin[0]:this.margin[0],Ot=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mt=gt===1?0:Ot+(gt-2)*Et;if(this.ctx.clip_path.length!==0){var Bt=this.path;k=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(k,this.posX+this.margin[3],-Mt+Ct+this.ctx.prevPageLastElemOffset),A.call(this,T,!0),this.path=Bt}if(O=JSON.parse(JSON.stringify(xt)),this.path=b(O,this.posX+this.margin[3],-Mt+Ct+this.ctx.prevPageLastElemOffset),q===!1||gt===0){var Vt=(gt>ut||gt<vt)&&g.call(this);Vt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Et,null).clip().discardPath()),A.call(this,T,q),Vt&&this.pdf.restoreGraphicsState()}this.lineWidth=G}else this.lineWidth=lt,A.call(this,T,q),this.lineWidth=G;this.path=xt},A=function(T,q){if((T!=="stroke"||q||!h.call(this))&&(T==="stroke"||q||!s.call(this))){for(var k,O,W=[],B=this.path,J=0;J<B.length;J++){var G=B[J];switch(G.type){case"begin":W.push({begin:!0});break;case"close":W.push({close:!0});break;case"mt":W.push({start:G,deltas:[],abs:[]});break;case"lt":var lt=W.length;if(B[J-1]&&!isNaN(B[J-1].x)&&(k=[G.x-B[J-1].x,G.y-B[J-1].y],lt>0)){for(;lt>=0;lt--)if(W[lt-1].close!==!0&&W[lt-1].begin!==!0){W[lt-1].deltas.push(k),W[lt-1].abs.push(G);break}}break;case"bct":k=[G.x1-B[J-1].x,G.y1-B[J-1].y,G.x2-B[J-1].x,G.y2-B[J-1].y,G.x-B[J-1].x,G.y-B[J-1].y],W[W.length-1].deltas.push(k);break;case"qct":var dt=B[J-1].x+2/3*(G.x1-B[J-1].x),xt=B[J-1].y+2/3*(G.y1-B[J-1].y),N=G.x+2/3*(G.x1-G.x),R=G.y+2/3*(G.y1-G.y),H=G.x,I=G.y;k=[dt-B[J-1].x,xt-B[J-1].y,N-B[J-1].x,R-B[J-1].y,H-B[J-1].x,I-B[J-1].y],W[W.length-1].deltas.push(k);break;case"arc":W.push({deltas:[],abs:[],arc:!0}),Array.isArray(W[W.length-1].abs)&&W[W.length-1].abs.push(G)}}O=q?null:T==="stroke"?"stroke":"fill";for(var it=!1,at=0;at<W.length;at++)if(W[at].arc)for(var ut=W[at].abs,vt=0;vt<ut.length;vt++){var gt=ut[vt];gt.type==="arc"?F.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,q,!it):tt.call(this,gt.x,gt.y),it=!0}else if(W[at].close===!0)this.pdf.internal.out("h"),it=!1;else if(W[at].begin!==!0){var rt=W[at].start.x,Ct=W[at].start.y;Z.call(this,W[at].deltas,rt,Ct),it=!0}O&&Y.call(this,O),q&&et.call(this)}},L=function(T){var q=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,k=q*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return T-k;case"top":return T+q-k;case"hanging":return T+q-2*k;case"middle":return T+q/2-k;case"ideographic":return T;case"alphabetic":default:return T}},E=function(T){return T+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};a.prototype.createLinearGradient=function(){var T=function(){};return T.colorStops=[],T.addColorStop=function(q,k){this.colorStops.push([q,k])},T.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},T.isCanvasGradient=!0,T},a.prototype.createPattern=function(){return this.createLinearGradient()},a.prototype.createRadialGradient=function(){return this.createLinearGradient()};var F=function(T,q,k,O,W,B,J,G,lt){for(var dt=ht.call(this,k,O,W,B),xt=0;xt<dt.length;xt++){var N=dt[xt];xt===0&&(lt?j.call(this,N.x1+T,N.y1+q):tt.call(this,N.x1+T,N.y1+q)),ft.call(this,T,q,N.x2,N.y2,N.x3,N.y3,N.x4,N.y4)}G?et.call(this):Y.call(this,J)},Y=function(T){switch(T){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},et=function(){this.pdf.clip(),this.pdf.discardPath()},j=function(T,q){this.pdf.internal.out(n(T)+" "+r(q)+" m")},M=function(T){var q;switch(T.align){case"right":case"end":q="right";break;case"center":q="center";break;case"left":case"start":default:q="left"}var k=this.pdf.getTextDimensions(T.text),O=L.call(this,T.y),W=E.call(this,O)-k.h,B=this.ctx.transform.applyToPoint(new v(T.x,O)),J=this.ctx.transform.decompose(),G=new i;G=(G=(G=G.multiply(J.translate)).multiply(J.skew)).multiply(J.scale);for(var lt,dt,xt,N=this.ctx.transform.applyToRectangle(new o(T.x,O,k.w,k.h)),R=G.applyToRectangle(new o(T.x,W,k.w,k.h)),H=d.call(this,R),I=[],it=0;it<H.length;it+=1)I.indexOf(H[it])===-1&&I.push(H[it]);if(_(I),this.autoPaging)for(var at=I[0],ut=I[I.length-1],vt=at;vt<ut+1;vt++){this.pdf.setPage(vt);var gt=vt===1?this.posY+this.margin[0]:this.margin[0],rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ct=this.pdf.internal.pageSize.height-this.margin[2],Ot=Ct-this.margin[0],Et=this.pdf.internal.pageSize.width-this.margin[1],Mt=Et-this.margin[3],Bt=vt===1?0:rt+(vt-2)*Ot;if(this.ctx.clip_path.length!==0){var Vt=this.path;lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(lt,this.posX+this.margin[3],-1*Bt+gt),A.call(this,"fill",!0),this.path=Vt}var Ut=b([JSON.parse(JSON.stringify(R))],this.posX+this.margin[3],-Bt+gt+this.ctx.prevPageLastElemOffset)[0];T.scale>=.01&&(dt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(dt*T.scale),xt=this.lineWidth,this.lineWidth=xt*T.scale);var Kt=this.autoPaging!=="text";if(Kt||Ut.y+Ut.h<=Ct){if(Kt||Ut.y>=gt&&Ut.x<=Et){var zt=Kt?T.text:this.pdf.splitTextToSize(T.text,T.maxWidth||Et-Ut.x)[0],ve=b([JSON.parse(JSON.stringify(N))],this.posX+this.margin[3],-Bt+gt+this.ctx.prevPageLastElemOffset)[0],se=Kt&&(vt>at||vt<ut)&&g.call(this);se&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Mt,Ot,null).clip().discardPath()),this.pdf.text(zt,ve.x,ve.y,{angle:T.angle,align:q,renderingMode:T.renderingMode}),se&&this.pdf.restoreGraphicsState()}}else Ut.y<Ct&&(this.ctx.prevPageLastElemOffset+=Ct-Ut.y);T.scale>=.01&&(this.pdf.setFontSize(dt),this.lineWidth=xt)}else T.scale>=.01&&(dt=this.pdf.internal.getFontSize(),this.pdf.setFontSize(dt*T.scale),xt=this.lineWidth,this.lineWidth=xt*T.scale),this.pdf.text(T.text,B.x+this.posX,B.y+this.posY,{angle:T.angle,align:q,renderingMode:T.renderingMode,maxWidth:T.maxWidth}),T.scale>=.01&&(this.pdf.setFontSize(dt),this.lineWidth=xt)},tt=function(T,q,k,O){k=k||0,O=O||0,this.pdf.internal.out(n(T+k)+" "+r(q+O)+" l")},Z=function(T,q,k){return this.pdf.lines(T,q,k,null,null)},ft=function(T,q,k,O,W,B,J,G){this.pdf.internal.out([t(c(k+T)),t(p(O+q)),t(c(W+T)),t(p(B+q)),t(c(J+T)),t(p(G+q)),"c"].join(" "))},ht=function(T,q,k,O){for(var W=2*Math.PI,B=Math.PI/2;q>k;)q-=W;var J=Math.abs(k-q);J<W&&O&&(J=W-J);for(var G=[],lt=O?-1:1,dt=q;J>1e-5;){var xt=dt+lt*Math.min(J,B);G.push(pt.call(this,T,dt,xt)),J-=Math.abs(xt-dt),dt=xt}return G},pt=function(T,q,k){var O=(k-q)/2,W=T*Math.cos(O),B=T*Math.sin(O),J=W,G=-B,lt=J*J+G*G,dt=lt+J*W+G*B,xt=4/3*(Math.sqrt(2*lt*dt)-dt)/(J*B-G*W),N=J-xt*G,R=G+xt*J,H=N,I=-R,it=O+q,at=Math.cos(it),ut=Math.sin(it);return{x1:T*Math.cos(q),y1:T*Math.sin(q),x2:N*at-R*ut,y2:N*ut+R*at,x3:H*at-I*ut,y3:H*ut+I*at,x4:T*Math.cos(k),y4:T*Math.sin(k)}},ct=function(T){return 180*T/Math.PI},D=function(T,q,k,O,W,B){var J=T+.5*(k-T),G=q+.5*(O-q),lt=W+.5*(k-W),dt=B+.5*(O-B),xt=Math.min(T,W,J,lt),N=Math.max(T,W,J,lt),R=Math.min(q,B,G,dt),H=Math.max(q,B,G,dt);return new o(xt,R,N-xt,H-R)},$=function(T,q,k,O,W,B,J,G){var lt,dt,xt,N,R,H,I,it,at,ut,vt,gt,rt,Ct,Ot=k-T,Et=O-q,Mt=W-k,Bt=B-O,Vt=J-W,Ut=G-B;for(dt=0;dt<41;dt++)at=(I=(xt=T+(lt=dt/40)*Ot)+lt*((R=k+lt*Mt)-xt))+lt*(R+lt*(W+lt*Vt-R)-I),ut=(it=(N=q+lt*Et)+lt*((H=O+lt*Bt)-N))+lt*(H+lt*(B+lt*Ut-H)-it),dt==0?(vt=at,gt=ut,rt=at,Ct=ut):(vt=Math.min(vt,at),gt=Math.min(gt,ut),rt=Math.max(rt,at),Ct=Math.max(Ct,ut));return new o(Math.round(vt),Math.round(gt),Math.round(rt-vt),Math.round(Ct-gt))},nt=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var T,q,k=(T=this.ctx.lineDash,q=this.ctx.lineDashOffset,JSON.stringify({lineDash:T,lineDashOffset:q}));this.prevLineDash!==k&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=k)}}})(ie.API),function(e){var t=function(p){var v,o,i,u,f,a,l,s,h,g;for(/[^\x00-\xFF]/.test(p),o=[],i=0,u=(p+=v="\0\0\0\0".slice(p.length%4||4)).length;u>i;i+=4)(f=(p.charCodeAt(i)<<24)+(p.charCodeAt(i+1)<<16)+(p.charCodeAt(i+2)<<8)+p.charCodeAt(i+3))!==0?(a=(f=((f=((f=((f=(f-(g=f%85))/85)-(h=f%85))/85)-(s=f%85))/85)-(l=f%85))/85)%85,o.push(a+33,l+33,s+33,h+33,g+33)):o.push(122);return function(d,m){for(var b=m;b>0;b--)d.pop()}(o,v.length),String.fromCharCode.apply(String,o)+"~>"},n=function(p){var v,o,i,u,f,a=String,l="length",s=255,h="charCodeAt",g="slice",d="replace";for(p[g](-2),p=p[g](0,-2)[d](/\s/g,"")[d]("z","!!!!!"),i=[],u=0,f=(p+=v="uuuuu"[g](p[l]%5||5))[l];f>u;u+=5)o=52200625*(p[h](u)-33)+614125*(p[h](u+1)-33)+7225*(p[h](u+2)-33)+85*(p[h](u+3)-33)+(p[h](u+4)-33),i.push(s&o>>24,s&o>>16,s&o>>8,s&o);return function(m,b){for(var _=b;_>0;_--)m.pop()}(i,v[l]),a.fromCharCode.apply(a,i)},r=function(p){var v=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((p=p.replace(/\s/g,"")).indexOf(">")!==-1&&(p=p.substr(0,p.indexOf(">"))),p.length%2&&(p+="0"),v.test(p)===!1)return"";for(var o="",i=0;i<p.length;i+=2)o+=String.fromCharCode("0x"+(p[i]+p[i+1]));return o},c=function(p){for(var v=new Uint8Array(p.length),o=p.length;o--;)v[o]=p.charCodeAt(o);return p=(v=xh(v)).reduce(function(i,u){return i+String.fromCharCode(u)},"")};e.processDataByFilters=function(p,v){var o=0,i=p||"",u=[];for(typeof(v=v||[])=="string"&&(v=[v]),o=0;o<v.length;o+=1)switch(v[o]){case"ASCII85Decode":case"/ASCII85Decode":i=n(i),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":i=t(i),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":i=r(i),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":i=i.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":i=c(i),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+v[o]+'" is not implemented')}return{data:i,reverseChain:u.reverse().join(" ")}}}(ie.API),function(e){e.loadFile=function(t,n,r){return function(c,p,v){p=p!==!1,v=typeof v=="function"?v:function(){};var o=void 0;try{o=function(i,u,f){var a=new XMLHttpRequest,l=0,s=function(h){var g=h.length,d=[],m=String.fromCharCode;for(l=0;l<g;l+=1)d.push(m(255&h.charCodeAt(l)));return d.join("")};if(a.open("GET",i,!u),a.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(a.onload=function(){a.status===200?f(s(this.responseText)):f(void 0)}),a.send(null),u&&a.status===200)return s(a.responseText)}(c,p,v)}catch{}return o}(t,n,r)},e.loadImageFile=e.loadFile}(ie.API),function(e){function t(){return(re.html2canvas?Promise.resolve(re.html2canvas):Ha(()=>import("./html2canvas.esm.0eae2bf4.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load html2canvas: "+v))}).then(function(v){return v.default?v.default:v})}function n(){return(re.DOMPurify?Promise.resolve(re.DOMPurify):Ha(()=>import("./purify.es.aa2c5989.js"),[])).catch(function(v){return Promise.reject(new Error("Could not load dompurify: "+v))}).then(function(v){return v.default?v.default:v})}var r=function(v){var o=Ee(v);return o==="undefined"?"undefined":o==="string"||v instanceof String?"string":o==="number"||v instanceof Number?"number":o==="function"||v instanceof Function?"function":v&&v.constructor===Array?"array":v&&v.nodeType===1?"element":o==="object"?"object":"unknown"},c=function(v,o){var i=document.createElement(v);for(var u in o.className&&(i.className=o.className),o.innerHTML&&o.dompurify&&(i.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)i.style[u]=o.style[u];return i},p=function v(o){var i=Object.assign(v.convert(Promise.resolve()),JSON.parse(JSON.stringify(v.template))),u=v.convert(Promise.resolve(),i);return u=(u=u.setProgress(1,v,1,[v])).set(o)};(p.prototype=Object.create(Promise.prototype)).constructor=p,p.convert=function(v,o){return v.__proto__=o||p.prototype,v},p.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},p.prototype.from=function(v,o){return this.then(function(){switch(o=o||function(i){switch(r(i)){case"string":return"string";case"element":return i.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(v)){case"string":return this.then(n).then(function(i){return this.set({src:c("div",{innerHTML:v,dompurify:i})})});case"element":return this.set({src:v});case"canvas":return this.set({canvas:v});case"img":return this.set({img:v});default:return this.error("Unknown source type.")}})},p.prototype.to=function(v){switch(v){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},p.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var v={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function i(u,f){for(var a=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),l=u.firstChild;l;l=l.nextSibling)f!==!0&&l.nodeType===1&&l.nodeName==="SCRIPT"||a.appendChild(i(l,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(a.width=u.width,a.height=u.height,a.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(a.value=u.value),a.addEventListener("load",function(){a.scrollTop=u.scrollTop,a.scrollLeft=u.scrollLeft},!0)),a}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(v.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=c("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=c("div",{className:"html2pdf__container",style:v}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(c("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},p.prototype.toCanvas=function(){var v=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(v).then(t).then(function(o){var i=Object.assign({},this.opt.html2canvas);return delete i.onrendered,o(this.prop.container,i)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},p.prototype.toContext2d=function(){var v=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(v).then(t).then(function(o){var i=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,a=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete a.onrendered,i.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,i.context2d.posX=this.opt.x,i.context2d.posY=this.opt.y,i.context2d.margin=this.opt.margin,i.context2d.fontFaces=u,u)for(var l=0;l<u.length;++l){var s=u[l],h=s.src.find(function(g){return g.format==="truetype"});h&&i.addFont(h.url,s.ref.name,s.ref.style)}return a.windowHeight=a.windowHeight||0,a.windowHeight=a.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):a.windowHeight,i.context2d.save(!0),o(this.prop.container,a)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},p.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var v=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=v})},p.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},p.prototype.output=function(v,o,i){return(i=i||"pdf").toLowerCase()==="img"||i.toLowerCase()==="image"?this.outputImg(v,o):this.outputPdf(v,o)},p.prototype.outputPdf=function(v,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(v,o)})},p.prototype.outputImg=function(v){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(v){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+v+'" is not supported.'}})},p.prototype.save=function(v){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(v?{filename:v}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},p.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},p.prototype.set=function(v){if(r(v)!=="object")return this;var o=Object.keys(v||{}).map(function(i){if(i in p.template.prop)return function(){this.prop[i]=v[i]};switch(i){case"margin":return this.setMargin.bind(this,v.margin);case"jsPDF":return function(){return this.opt.jsPDF=v.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,v.pageSize);default:return function(){this.opt[i]=v[i]}}},this);return this.then(function(){return this.thenList(o)})},p.prototype.get=function(v,o){return this.then(function(){var i=v in p.template.prop?this.prop[v]:this.opt[v];return o?o(i):i})},p.prototype.setMargin=function(v){return this.then(function(){switch(r(v)){case"number":v=[v,v,v,v];case"array":if(v.length===2&&(v=[v[0],v[1],v[0],v[1]]),v.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=v}).then(this.setPageSize)},p.prototype.setPageSize=function(v){function o(i,u){return Math.floor(i*u/72*96)}return this.then(function(){(v=v||ie.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(v.inner={width:v.width-this.opt.margin[1]-this.opt.margin[3],height:v.height-this.opt.margin[0]-this.opt.margin[2]},v.inner.px={width:o(v.inner.width,v.k),height:o(v.inner.height,v.k)},v.inner.ratio=v.inner.height/v.inner.width),this.prop.pageSize=v})},p.prototype.setProgress=function(v,o,i,u){return v!=null&&(this.progress.val=v),o!=null&&(this.progress.state=o),i!=null&&(this.progress.n=i),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},p.prototype.updateProgress=function(v,o,i,u){return this.setProgress(v?this.progress.val+v:null,o||null,i?this.progress.n+i:null,u?this.progress.stack.concat(u):null)},p.prototype.then=function(v,o){var i=this;return this.thenCore(v,o,function(u,f){return i.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(a){return i.updateProgress(null,u),a}).then(u,f).then(function(a){return i.updateProgress(1),a})})},p.prototype.thenCore=function(v,o,i){i=i||Promise.prototype.then,v&&(v=v.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:p.convert(Object.assign({},this),Promise.prototype),f=i.call(u,v,o);return p.convert(f,this.__proto__)},p.prototype.thenExternal=function(v,o){return Promise.prototype.then.call(this,v,o)},p.prototype.thenList=function(v){var o=this;return v.forEach(function(i){o=o.thenCore(i)}),o},p.prototype.catch=function(v){v&&(v=v.bind(this));var o=Promise.prototype.catch.call(this,v);return p.convert(o,this)},p.prototype.catchExternal=function(v){return Promise.prototype.catch.call(this,v)},p.prototype.error=function(v){return this.then(function(){throw new Error(v)})},p.prototype.using=p.prototype.set,p.prototype.saveAs=p.prototype.save,p.prototype.export=p.prototype.output,p.prototype.run=p.prototype.then,ie.getPageSize=function(v,o,i){if(Ee(v)==="object"){var u=v;v=u.orientation,o=u.unit||o,i=u.format||i}o=o||"mm",i=i||"a4",v=(""+(v||"P")).toLowerCase();var f,a=(""+i).toLowerCase(),l={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+o}var s,h=0,g=0;if(l.hasOwnProperty(a))h=l[a][1]/f,g=l[a][0]/f;else try{h=i[1],g=i[0]}catch{throw new Error("Invalid format: "+i)}if(v==="p"||v==="portrait")v="p",g>h&&(s=g,g=h,h=s);else{if(v!=="l"&&v!=="landscape")throw"Invalid orientation: "+v;v="l",h>g&&(s=g,g=h,h=s)}return{width:g,height:h,unit:o,k:f,orientation:v}},e.html=function(v,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Oh):null;var i=new p(o);return o.worker?i:i.from(v).doCallback()}}(ie.API),ie.API.addJS=function(e){return wg=e,this.internal.events.subscribe("postPutResources",function(){Pc=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Pc+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),bg=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+wg+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Pc!==void 0&&bg!==void 0&&this.internal.out("/Names <</JavaScript "+Pc+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var c=n.outline.render().split(/\r\n/),p=0;p<c.length;p++){var v=c[p],o=r.exec(v);if(o!=null){var i=o[1];n.internal.newObjectDeferredBegin(i,!1)}n.internal.write(v)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(p=0;p<u;p++){var a=n.internal.newObject();f.push(a);var l=n.internal.getPageInfo(p+1);n.internal.write("<< /D["+l.objId+" 0 R /XYZ null null null]>> endobj")}var s=n.internal.newObject();for(n.internal.write("<< /Names [ "),p=0;p<f.length;p++)n.internal.write("(page_"+(p+1)+")"+f[p]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+s+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,c,p){var v={title:c,options:p,children:[]};return r==null&&(r=this.root),r.children.push(v),v},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var c=0;c<r.children.length;c++)this.genIds_r(r.children[c])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var c=this.ctx.pdf.internal.getVerticalCoordinateString,p=0;p<r.children.length;p++){var v=r.children[p];this.objStart(v),this.line("/Title "+this.makeString(v.title)),this.line("/Parent "+this.makeRef(r)),p>0&&this.line("/Prev "+this.makeRef(r.children[p-1])),p<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[p+1])),v.children.length>0&&(this.line("/First "+this.makeRef(v.children[0])),this.line("/Last "+this.makeRef(v.children[v.children.length-1])));var o=this.count=this.count_r({count:0},v);if(o>0&&this.line("/Count "+o),v.options&&v.options.pageNumber){var i=n.internal.getPageInfo(v.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+c(0)+" 0]")}this.objEnd()}for(var u=0;u<r.children.length;u++)this.renderItems(r.children[u])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,c){for(var p=0;p<c.children.length;p++)r.count++,this.count_r(r,c.children[p]);return r.count}}])}(ie.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,c,p,v,o){var i,u=this.decode.DCT_DECODE,f=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=v||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(i=function(a){for(var l,s=256*a.charCodeAt(4)+a.charCodeAt(5),h=a.length,g={width:0,height:0,numcomponents:1},d=4;d<h;d+=2){if(d+=s,t.indexOf(a.charCodeAt(d+1))!==-1){l=256*a.charCodeAt(d+5)+a.charCodeAt(d+6),g={width:256*a.charCodeAt(d+7)+a.charCodeAt(d+8),height:l,numcomponents:a.charCodeAt(d+9)};break}s=256*a.charCodeAt(d+2)+a.charCodeAt(d+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}f={data:n,width:i.width,height:i.height,colorSpace:o,bitsPerComponent:8,filter:u,index:r,alias:c}}return f}}(ie.API);var La,Oc,_g,xg,Sg,Yb=function(){var e,t,n;function r(p){var v,o,i,u,f,a,l,s,h,g,d,m,b,_;for(this.data=p,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(v=this.readUInt32(),h=function(){var x,A;for(A=[],x=0;x<4;++x)A.push(String.fromCharCode(this.data[this.pos++]));return A}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(v);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,a.delay=1e3*f/u,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for(h==="fdAT"&&(this.pos+=4,v-=4),p=(a!=null?a.data:void 0)||this.imgData,m=0;0<=v?m<v:m>v;0<=v?++m:--m)p.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(i=this.palette.length/3,this.transparency.indexed=this.read(v),this.transparency.indexed.length>i)throw new Error("More transparent colors than palette size");if((g=i-this.transparency.indexed.length)>0)for(b=0;0<=g?b<g:b>g;0<=g?++b:--b)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(v)[0];break;case 2:this.transparency.rgb=this.read(v)}break;case"tEXt":l=(d=this.read(v)).indexOf(0),s=String.fromCharCode.apply(String,d.slice(0,l)),this.text[s]=String.fromCharCode.apply(String,d.slice(l+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=v}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(p){var v,o;for(o=[],v=0;0<=p?v<p:v>p;0<=p?++v:--v)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(p){var v=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*v),i=0,u=this;if(p==null&&(p=this.imgData),p.length===0)return new Uint8Array(0);function f(a,l,s,h){var g,d,m,b,_,x,A,L,E,F,Y,et,j,M,tt,Z,ft,ht,pt,ct,D,$=Math.ceil((u.width-a)/s),nt=Math.ceil((u.height-l)/h),T=u.width==$&&u.height==nt;for(M=v*$,et=T?o:new Uint8Array(M*nt),x=p.length,j=0,d=0;j<nt&&i<x;){switch(p[i++]){case 0:for(b=ft=0;ft<M;b=ft+=1)et[d++]=p[i++];break;case 1:for(b=ht=0;ht<M;b=ht+=1)g=p[i++],_=b<v?0:et[d-v],et[d++]=(g+_)%256;break;case 2:for(b=pt=0;pt<M;b=pt+=1)g=p[i++],m=(b-b%v)/v,tt=j&&et[(j-1)*M+m*v+b%v],et[d++]=(tt+g)%256;break;case 3:for(b=ct=0;ct<M;b=ct+=1)g=p[i++],m=(b-b%v)/v,_=b<v?0:et[d-v],tt=j&&et[(j-1)*M+m*v+b%v],et[d++]=(g+Math.floor((_+tt)/2))%256;break;case 4:for(b=D=0;D<M;b=D+=1)g=p[i++],m=(b-b%v)/v,_=b<v?0:et[d-v],j===0?tt=Z=0:(tt=et[(j-1)*M+m*v+b%v],Z=m&&et[(j-1)*M+(m-1)*v+b%v]),A=_+tt-Z,L=Math.abs(A-_),F=Math.abs(A-tt),Y=Math.abs(A-Z),E=L<=F&&L<=Y?_:F<=Y?tt:Z,et[d++]=(g+E)%256;break;default:throw new Error("Invalid filter algorithm: "+p[i-1])}if(!T){var q=((l+j*h)*u.width+a)*v,k=j*M;for(b=0;b<$;b+=1){for(var O=0;O<v;O+=1)o[q++]=et[k++];q+=(s-1)*v}}j++}}return p=Cb(p),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),o},r.prototype.decodePalette=function(){var p,v,o,i,u,f,a,l,s;for(o=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+o.length),i=0,p=0,v=a=0,l=o.length;a<l;v=a+=3)u[i++]=o[v],u[i++]=o[v+1],u[i++]=o[v+2],u[i++]=(s=f[p++])!=null?s:255;return u},r.prototype.copyToImageData=function(p,v){var o,i,u,f,a,l,s,h,g,d,m;if(i=this.colors,g=null,o=this.hasAlphaChannel,this.palette.length&&(g=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),i=4,o=!0),h=(u=p.data||p).length,a=g||v,f=l=0,i===1)for(;f<h;)s=g?4*v[f/4]:l,d=a[s++],u[f++]=d,u[f++]=d,u[f++]=d,u[f++]=o?a[s++]:255,l=s;else for(;f<h;)s=g?4*v[f/4]:l,u[f++]=a[s++],u[f++]=a[s++],u[f++]=a[s++],u[f++]=o?a[s++]:255,l=s},r.prototype.decode=function(){var p;return p=new Uint8Array(this.width*this.height*4),this.copyToImageData(p,this.decodePixels()),p};var c=function(){if(Object.prototype.toString.call(re)==="[object Window]"){try{t=re.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return c(),e=function(p){var v;if(c()===!0)return n.width=p.width,n.height=p.height,n.clearRect(0,0,p.width,p.height),n.putImageData(p,0,0),(v=new Image).src=t.toDataURL(),v;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(p){var v,o,i,u,f,a,l,s;if(this.animation){for(s=[],o=f=0,a=(l=this.animation.frames).length;f<a;o=++f)v=l[o],i=p.createImageData(v.width,v.height),u=this.decodePixels(new Uint8Array(v.data)),this.copyToImageData(i,u),v.imageData=i,s.push(v.image=e(i));return s}},r.prototype.renderFrame=function(p,v){var o,i,u;return o=(i=this.animation.frames)[v],u=i[v-1],v===0&&p.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?p.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&p.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&p.clearRect(o.xOffset,o.yOffset,o.width,o.height),p.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(p){var v,o,i,u,f,a,l=this;return o=0,a=this.animation,u=a.numFrames,i=a.frames,f=a.numPlays,(v=function(){var s,h;if(s=o++%u,h=i[s],l.renderFrame(p,s),u>1&&o/u<f)return l.animation._timeout=setTimeout(v,h.delay)})()},r.prototype.stopAnimation=function(){var p;return clearTimeout((p=this.animation)!=null?p._timeout:void 0)},r.prototype.render=function(p){var v,o;return p._png&&p._png.stopAnimation(),p._png=this,p.width=this.width,p.height=this.height,v=p.getContext("2d"),this.animation?(this.decodeFrames(v),this.animate(v)):(o=v.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),v.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xb(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,c=e[t++],p=c>>7,v=1<<(7&c)+1;e[t++],e[t++];var o=null,i=null;p&&(o=t,i=v,t+=3*v);var u=!0,f=[],a=0,l=null,s=0,h=null;for(this.width=n,this.height=r;u&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,h=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var g=e[t++];a=e[t++]|e[t++]<<8,l=e[t++],(1&g)==0&&(l=null),s=g>>2&7,t++;break;case 254:for(;;){if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var d=e[t++]|e[t++]<<8,m=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,_=e[t++]|e[t++]<<8,x=e[t++],A=x>>6&1,L=1<<(7&x)+1,E=o,F=i,Y=!1;x>>7&&(Y=!0,E=t,F=L,t+=3*L);var et=t;for(t++;;){var j;if(!((j=e[t++])>=0))throw Error("Invalid block size");if(j===0)break;t+=j}f.push({x:d,y:m,width:b,height:_,has_local_palette:Y,palette_offset:E,palette_size:F,data_offset:et,data_length:t-et,transparent_index:l,interlaced:!!A,delay:a,disposal:s});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return h},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,tt){var Z=this.frameInfo(M),ft=Z.width*Z.height,ht=new Uint8Array(ft);Cg(e,Z.data_offset,ht,ft);var pt=Z.palette_offset,ct=Z.transparent_index;ct===null&&(ct=256);var D=Z.width,$=n-D,nt=D,T=4*(Z.y*n+Z.x),q=4*((Z.y+Z.height)*n+Z.x),k=T,O=4*$;Z.interlaced===!0&&(O+=4*n*7);for(var W=8,B=0,J=ht.length;B<J;++B){var G=ht[B];if(nt===0&&(nt=D,(k+=O)>=q&&(O=4*$+4*n*(W-1),k=T+(D+$)*(W<<1),W>>=1)),G===ct)k+=4;else{var lt=e[pt+3*G],dt=e[pt+3*G+1],xt=e[pt+3*G+2];tt[k++]=xt,tt[k++]=dt,tt[k++]=lt,tt[k++]=255}--nt}},this.decodeAndBlitFrameRGBA=function(M,tt){var Z=this.frameInfo(M),ft=Z.width*Z.height,ht=new Uint8Array(ft);Cg(e,Z.data_offset,ht,ft);var pt=Z.palette_offset,ct=Z.transparent_index;ct===null&&(ct=256);var D=Z.width,$=n-D,nt=D,T=4*(Z.y*n+Z.x),q=4*((Z.y+Z.height)*n+Z.x),k=T,O=4*$;Z.interlaced===!0&&(O+=4*n*7);for(var W=8,B=0,J=ht.length;B<J;++B){var G=ht[B];if(nt===0&&(nt=D,(k+=O)>=q&&(O=4*$+4*n*(W-1),k=T+(D+$)*(W<<1),W>>=1)),G===ct)k+=4;else{var lt=e[pt+3*G],dt=e[pt+3*G+1],xt=e[pt+3*G+2];tt[k++]=lt,tt[k++]=dt,tt[k++]=xt,tt[k++]=255}--nt}}}function Cg(e,t,n,r){for(var c=e[t++],p=1<<c,v=p+1,o=v+1,i=c+1,u=(1<<i)-1,f=0,a=0,l=0,s=e[t++],h=new Int32Array(4096),g=null;;){for(;f<16&&s!==0;)a|=e[t++]<<f,f+=8,s===1?s=e[t++]:--s;if(f<i)break;var d=a&u;if(a>>=i,f-=i,d!==p){if(d===v)break;for(var m=d<o?d:g,b=0,_=m;_>p;)_=h[_]>>8,++b;var x=_;if(l+b+(m!==d?1:0)>r)return void Ie.log("Warning, gif stream longer than expected.");n[l++]=x;var A=l+=b;for(m!==d&&(n[l++]=x),_=m;b--;)_=h[_],n[--A]=255&_,_>>=8;g!==null&&o<4096&&(h[o++]=g<<8|x,o>=u+1&&i<12&&(++i,u=u<<1|1)),g=d}else o=v+1,u=(1<<(i=c+1))-1,g=null}return l!==r&&Ie.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Kf(e){var t,n,r,c,p,v=Math.floor,o=new Array(64),i=new Array(64),u=new Array(64),f=new Array(64),a=new Array(65535),l=new Array(65535),s=new Array(64),h=new Array(64),g=[],d=0,m=7,b=new Array(64),_=new Array(64),x=new Array(64),A=new Array(256),L=new Array(2048),E=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],F=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],et=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],j=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],tt=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ft=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ht(T,q){for(var k=0,O=0,W=new Array,B=1;B<=16;B++){for(var J=1;J<=T[B];J++)W[q[O]]=[],W[q[O]][0]=k,W[q[O]][1]=B,O++,k++;k*=2}return W}function pt(T){for(var q=T[0],k=T[1]-1;k>=0;)q&1<<k&&(d|=1<<m),k--,--m<0&&(d==255?(ct(255),ct(0)):ct(d),m=7,d=0)}function ct(T){g.push(T)}function D(T){ct(T>>8&255),ct(255&T)}function $(T,q,k,O,W){for(var B,J=W[0],G=W[240],lt=function(ut,vt){var gt,rt,Ct,Ot,Et,Mt,Bt,Vt,Ut,Kt,zt=0;for(Ut=0;Ut<8;++Ut){gt=ut[zt],rt=ut[zt+1],Ct=ut[zt+2],Ot=ut[zt+3],Et=ut[zt+4],Mt=ut[zt+5],Bt=ut[zt+6];var ve=gt+(Vt=ut[zt+7]),se=gt-Vt,rn=rt+Bt,Se=rt-Bt,me=Ct+Mt,Ke=Ct-Mt,_e=Ot+Et,bs=Ot-Et,We=ve+_e,xi=ve-_e,pr=rn+me,Ve=rn-me;ut[zt]=We+pr,ut[zt+4]=We-pr;var le=.707106781*(Ve+xi);ut[zt+2]=xi+le,ut[zt+6]=xi-le;var Te=.382683433*((We=bs+Ke)-(Ve=Se+se)),ws=.5411961*We+Te,xn=1.306562965*Ve+Te,Yi=.707106781*(pr=Ke+Se),Xi=se+Yi,ne=se-Yi;ut[zt+5]=ne+ws,ut[zt+3]=ne-ws,ut[zt+1]=Xi+xn,ut[zt+7]=Xi-xn,zt+=8}for(zt=0,Ut=0;Ut<8;++Ut){gt=ut[zt],rt=ut[zt+8],Ct=ut[zt+16],Ot=ut[zt+24],Et=ut[zt+32],Mt=ut[zt+40],Bt=ut[zt+48];var Si=gt+(Vt=ut[zt+56]),Gi=gt-Vt,Vn=rt+Bt,dn=rt-Bt,sn=Ct+Mt,Zn=Ct-Mt,Qs=Ot+Et,gr=Ot-Et,Ci=Si+Qs,Ai=Si-Qs,Ti=Vn+sn,Ki=Vn-sn;ut[zt]=Ci+Ti,ut[zt+32]=Ci-Ti;var fi=.707106781*(Ki+Ai);ut[zt+16]=Ai+fi,ut[zt+48]=Ai-fi;var $i=.382683433*((Ci=gr+Zn)-(Ki=dn+Gi)),_s=.5411961*Ci+$i,Zs=1.306562965*Ki+$i,ta=.707106781*(Ti=Zn+dn),ea=Gi+ta,na=Gi-ta;ut[zt+40]=na+_s,ut[zt+24]=na-_s,ut[zt+8]=ea+Zs,ut[zt+56]=ea-Zs,zt++}for(Ut=0;Ut<64;++Ut)Kt=ut[Ut]*vt[Ut],s[Ut]=Kt>0?Kt+.5|0:Kt-.5|0;return s}(T,q),dt=0;dt<64;++dt)h[E[dt]]=lt[dt];var xt=h[0]-k;k=h[0],xt==0?pt(O[0]):(pt(O[l[B=32767+xt]]),pt(a[B]));for(var N=63;N>0&&h[N]==0;)N--;if(N==0)return pt(J),k;for(var R,H=1;H<=N;){for(var I=H;h[H]==0&&H<=N;)++H;var it=H-I;if(it>=16){R=it>>4;for(var at=1;at<=R;++at)pt(G);it&=15}B=32767+h[H],pt(W[(it<<4)+l[B]]),pt(a[B]),H++}return N!=63&&pt(J),k}function nt(T){T=Math.min(Math.max(T,1),100),p!=T&&(function(q){for(var k=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],O=0;O<64;O++){var W=v((k[O]*q+50)/100);W=Math.min(Math.max(W,1),255),o[E[O]]=W}for(var B=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],J=0;J<64;J++){var G=v((B[J]*q+50)/100);G=Math.min(Math.max(G,1),255),i[E[J]]=G}for(var lt=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],dt=0,xt=0;xt<8;xt++)for(var N=0;N<8;N++)u[dt]=1/(o[E[dt]]*lt[xt]*lt[N]*8),f[dt]=1/(i[E[dt]]*lt[xt]*lt[N]*8),dt++}(T<50?Math.floor(5e3/T):Math.floor(200-2*T)),p=T)}this.encode=function(T,q){q&&nt(q),g=new Array,d=0,m=7,D(65496),D(65504),D(16),ct(74),ct(70),ct(73),ct(70),ct(0),ct(1),ct(1),ct(0),D(1),D(1),ct(0),ct(0),function(){D(65499),D(132),ct(0);for(var rt=0;rt<64;rt++)ct(o[rt]);ct(1);for(var Ct=0;Ct<64;Ct++)ct(i[Ct])}(),function(rt,Ct){D(65472),D(17),ct(8),D(Ct),D(rt),ct(3),ct(1),ct(17),ct(0),ct(2),ct(17),ct(1),ct(3),ct(17),ct(1)}(T.width,T.height),function(){D(65476),D(418),ct(0);for(var rt=0;rt<16;rt++)ct(F[rt+1]);for(var Ct=0;Ct<=11;Ct++)ct(Y[Ct]);ct(16);for(var Ot=0;Ot<16;Ot++)ct(et[Ot+1]);for(var Et=0;Et<=161;Et++)ct(j[Et]);ct(1);for(var Mt=0;Mt<16;Mt++)ct(M[Mt+1]);for(var Bt=0;Bt<=11;Bt++)ct(tt[Bt]);ct(17);for(var Vt=0;Vt<16;Vt++)ct(Z[Vt+1]);for(var Ut=0;Ut<=161;Ut++)ct(ft[Ut])}(),D(65498),D(12),ct(3),ct(1),ct(0),ct(2),ct(17),ct(3),ct(17),ct(0),ct(63),ct(0);var k=0,O=0,W=0;d=0,m=7,this.encode.displayName="_encode_";for(var B,J,G,lt,dt,xt,N,R,H,I=T.data,it=T.width,at=T.height,ut=4*it,vt=0;vt<at;){for(B=0;B<ut;){for(dt=ut*vt+B,N=-1,R=0,H=0;H<64;H++)xt=dt+(R=H>>3)*ut+(N=4*(7&H)),vt+R>=at&&(xt-=ut*(vt+1+R-at)),B+N>=ut&&(xt-=B+N-ut+4),J=I[xt++],G=I[xt++],lt=I[xt++],b[H]=(L[J]+L[G+256>>0]+L[lt+512>>0]>>16)-128,_[H]=(L[J+768>>0]+L[G+1024>>0]+L[lt+1280>>0]>>16)-128,x[H]=(L[J+1280>>0]+L[G+1536>>0]+L[lt+1792>>0]>>16)-128;k=$(b,u,k,t,r),O=$(_,f,O,n,c),W=$(x,f,W,n,c),B+=32}vt+=8}if(m>=0){var gt=[];gt[1]=m+1,gt[0]=(1<<m+1)-1,pt(gt)}return D(65497),new Uint8Array(g)},e=e||50,function(){for(var T=String.fromCharCode,q=0;q<256;q++)A[q]=T(q)}(),t=ht(F,Y),n=ht(M,tt),r=ht(et,j),c=ht(Z,ft),function(){for(var T=1,q=2,k=1;k<=15;k++){for(var O=T;O<q;O++)l[32767+O]=k,a[32767+O]=[],a[32767+O][1]=k,a[32767+O][0]=O;for(var W=-(q-1);W<=-T;W++)l[32767+W]=k,a[32767+W]=[],a[32767+W][1]=k,a[32767+W][0]=q-1+W;T<<=1,q<<=1}}(),function(){for(var T=0;T<256;T++)L[T]=19595*T,L[T+256>>0]=38470*T,L[T+512>>0]=7471*T+32768,L[T+768>>0]=-11059*T,L[T+1024>>0]=-21709*T,L[T+1280>>0]=32768*T+8421375,L[T+1536>>0]=-27439*T,L[T+1792>>0]=-5329*T}(),nt(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Fi(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Ag(e){function t(F){if(!F)throw Error("assert :P")}function n(F,Y,et){for(var j=0;4>j;j++)if(F[Y+j]!=et.charCodeAt(j))return!0;return!1}function r(F,Y,et,j,M){for(var tt=0;tt<M;tt++)F[Y+tt]=et[j+tt]}function c(F,Y,et,j){for(var M=0;M<j;M++)F[Y+M]=et}function p(F){return new Int32Array(F)}function v(F,Y){for(var et=[],j=0;j<F;j++)et.push(new Y);return et}function o(F,Y){var et=[];return function j(M,tt,Z){for(var ft=Z[tt],ht=0;ht<ft&&(M.push(Z.length>tt+1?[]:new Y),!(Z.length<tt+1));ht++)j(M[ht],tt+1,Z)}(et,0,F),et}var i=function(){var F=this;function Y(y,w){for(var C=1<<w-1>>>0;y&C;)C>>>=1;return C?(y&C-1)+C:y}function et(y,w,C,P,U){t(!(P%C));do y[w+(P-=C)]=U;while(0<P)}function j(y,w,C,P,U){if(t(2328>=U),512>=U)var V=p(512);else if((V=p(U))==null)return 0;return function(X,K,Q,st,yt,At){var Tt,_t,Dt=K,Lt=1<<Q,bt=p(16),wt=p(16);for(t(yt!=0),t(st!=null),t(X!=null),t(0<Q),_t=0;_t<yt;++_t){if(15<st[_t])return 0;++bt[st[_t]]}if(bt[0]==yt)return 0;for(wt[1]=0,Tt=1;15>Tt;++Tt){if(bt[Tt]>1<<Tt)return 0;wt[Tt+1]=wt[Tt]+bt[Tt]}for(_t=0;_t<yt;++_t)Tt=st[_t],0<st[_t]&&(At[wt[Tt]++]=_t);if(wt[15]==1)return(st=new M).g=0,st.value=At[0],et(X,Dt,1,Lt,st),Lt;var Ft,Rt=-1,It=Lt-1,Xt=0,Ht=1,ee=1,Wt=1<<Q;for(_t=0,Tt=1,yt=2;Tt<=Q;++Tt,yt<<=1){if(Ht+=ee<<=1,0>(ee-=bt[Tt]))return 0;for(;0<bt[Tt];--bt[Tt])(st=new M).g=Tt,st.value=At[_t++],et(X,Dt+Xt,yt,Wt,st),Xt=Y(Xt,Tt)}for(Tt=Q+1,yt=2;15>=Tt;++Tt,yt<<=1){if(Ht+=ee<<=1,0>(ee-=bt[Tt]))return 0;for(;0<bt[Tt];--bt[Tt]){if(st=new M,(Xt&It)!=Rt){for(Dt+=Wt,Ft=1<<(Rt=Tt)-Q;15>Rt&&!(0>=(Ft-=bt[Rt]));)++Rt,Ft<<=1;Lt+=Wt=1<<(Ft=Rt-Q),X[K+(Rt=Xt&It)].g=Ft+Q,X[K+Rt].value=Dt-K-Rt}st.g=Tt-Q,st.value=At[_t++],et(X,Dt+(Xt>>Q),yt,Wt,st),Xt=Y(Xt,Tt)}}return Ht!=2*wt[15]-1?0:Lt}(y,w,C,P,U,V)}function M(){this.value=this.g=0}function tt(){this.value=this.g=0}function Z(){this.G=v(5,M),this.H=p(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=v(Sn,tt)}function ft(y,w,C,P){t(y!=null),t(w!=null),t(2147483648>P),y.Ca=254,y.I=0,y.b=-8,y.Ka=0,y.oa=w,y.pa=C,y.Jd=w,y.Yc=C+P,y.Zc=4<=P?C+P-4+1:C,B(y)}function ht(y,w){for(var C=0;0<w--;)C|=G(y,128)<<w;return C}function pt(y,w){var C=ht(y,w);return J(y)?-C:C}function ct(y,w,C,P){var U,V=0;for(t(y!=null),t(w!=null),t(4294967288>P),y.Sb=P,y.Ra=0,y.u=0,y.h=0,4<P&&(P=4),U=0;U<P;++U)V+=w[C+U]<<8*U;y.Ra=V,y.bb=P,y.oa=w,y.pa=C}function D(y){for(;8<=y.u&&y.bb<y.Sb;)y.Ra>>>=8,y.Ra+=y.oa[y.pa+y.bb]<<va-8>>>0,++y.bb,y.u-=8;k(y)&&(y.h=1,y.u=0)}function $(y,w){if(t(0<=w),!y.h&&w<=ma){var C=q(y)&ga[w];return y.u+=w,D(y),C}return y.h=1,y.u=0}function nt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function T(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function q(y){return y.Ra>>>(y.u&va-1)>>>0}function k(y){return t(y.bb<=y.Sb),y.h||y.bb==y.Sb&&y.u>va}function O(y,w){y.u=w,y.h=k(y)}function W(y){y.u>=To&&(t(y.u>=To),D(y))}function B(y){t(y!=null&&y.oa!=null),y.pa<y.Zc?(y.I=(y.oa[y.pa++]|y.I<<8)>>>0,y.b+=8):(t(y!=null&&y.oa!=null),y.pa<y.Yc?(y.b+=8,y.I=y.oa[y.pa++]|y.I<<8):y.Ka?y.b=0:(y.I<<=8,y.b+=8,y.Ka=1))}function J(y){return ht(y,1)}function G(y,w){var C=y.Ca;0>y.b&&B(y);var P=y.b,U=C*w>>>8,V=(y.I>>>P>U)+0;for(V?(C-=U,y.I-=U+1<<P>>>0):C=U+1,P=C,U=0;256<=P;)U+=8,P>>=8;return P=7^U+Xn[P],y.b-=P,y.Ca=(C<<P)-1,V}function lt(y,w,C){y[w+0]=C>>24&255,y[w+1]=C>>16&255,y[w+2]=C>>8&255,y[w+3]=C>>0&255}function dt(y,w){return y[w+0]<<0|y[w+1]<<8}function xt(y,w){return dt(y,w)|y[w+2]<<16}function N(y,w){return dt(y,w)|dt(y,w+2)<<16}function R(y,w){var C=1<<w;return t(y!=null),t(0<w),y.X=p(C),y.X==null?0:(y.Mb=32-w,y.Xa=w,1)}function H(y,w){t(y!=null),t(w!=null),t(y.Xa==w.Xa),r(w.X,0,y.X,0,1<<w.Xa)}function I(){this.X=[],this.Xa=this.Mb=0}function it(y,w,C,P){t(C!=null),t(P!=null);var U=C[0],V=P[0];return U==0&&(U=(y*V+w/2)/w),V==0&&(V=(w*U+y/2)/y),0>=U||0>=V?0:(C[0]=U,P[0]=V,1)}function at(y,w){return y+(1<<w)-1>>>w}function ut(y,w){return((4278255360&y)+(4278255360&w)>>>0&4278255360)+((16711935&y)+(16711935&w)>>>0&16711935)>>>0}function vt(y,w){F[w]=function(C,P,U,V,X,K,Q){var st;for(st=0;st<X;++st){var yt=F[y](K[Q+st-1],U,V+st);K[Q+st]=ut(C[P+st],yt)}}}function gt(){this.ud=this.hd=this.jd=0}function rt(y,w){return((4278124286&(y^w))>>>1)+(y&w)>>>0}function Ct(y){return 0<=y&&256>y?y:0>y?0:255<y?255:void 0}function Ot(y,w){return Ct(y+(y-w+.5>>1))}function Et(y,w,C){return Math.abs(w-C)-Math.abs(y-C)}function Mt(y,w,C,P,U,V,X){for(P=V[X-1],C=0;C<U;++C)V[X+C]=P=ut(y[w+C],P)}function Bt(y,w,C,P,U){var V;for(V=0;V<C;++V){var X=y[w+V],K=X>>8&255,Q=16711935&(Q=(Q=16711935&X)+((K<<16)+K));P[U+V]=(4278255360&X)+Q>>>0}}function Vt(y,w){w.jd=y>>0&255,w.hd=y>>8&255,w.ud=y>>16&255}function Ut(y,w,C,P,U,V){var X;for(X=0;X<P;++X){var K=w[C+X],Q=K>>>8,st=K,yt=255&(yt=(yt=K>>>16)+((y.jd<<24>>24)*(Q<<24>>24)>>>5));st=255&(st=(st=st+((y.hd<<24>>24)*(Q<<24>>24)>>>5))+((y.ud<<24>>24)*(yt<<24>>24)>>>5)),U[V+X]=(4278255360&K)+(yt<<16)+st}}function Kt(y,w,C,P,U){F[w]=function(V,X,K,Q,st,yt,At,Tt,_t){for(Q=At;Q<Tt;++Q)for(At=0;At<_t;++At)st[yt++]=U(K[P(V[X++])])},F[y]=function(V,X,K,Q,st,yt,At){var Tt=8>>V.b,_t=V.Ea,Dt=V.K[0],Lt=V.w;if(8>Tt)for(V=(1<<V.b)-1,Lt=(1<<Tt)-1;X<K;++X){var bt,wt=0;for(bt=0;bt<_t;++bt)bt&V||(wt=P(Q[st++])),yt[At++]=U(Dt[wt&Lt]),wt>>=Tt}else F["VP8LMapColor"+C](Q,st,Dt,Lt,yt,At,X,K,_t)}}function zt(y,w,C,P,U){for(C=w+C;w<C;){var V=y[w++];P[U++]=V>>16&255,P[U++]=V>>8&255,P[U++]=V>>0&255}}function ve(y,w,C,P,U){for(C=w+C;w<C;){var V=y[w++];P[U++]=V>>16&255,P[U++]=V>>8&255,P[U++]=V>>0&255,P[U++]=V>>24&255}}function se(y,w,C,P,U){for(C=w+C;w<C;){var V=(X=y[w++])>>16&240|X>>12&15,X=X>>0&240|X>>28&15;P[U++]=V,P[U++]=X}}function rn(y,w,C,P,U){for(C=w+C;w<C;){var V=(X=y[w++])>>16&248|X>>13&7,X=X>>5&224|X>>3&31;P[U++]=V,P[U++]=X}}function Se(y,w,C,P,U){for(C=w+C;w<C;){var V=y[w++];P[U++]=V>>0&255,P[U++]=V>>8&255,P[U++]=V>>16&255}}function me(y,w,C,P,U,V){if(V==0)for(C=w+C;w<C;)lt(P,((V=y[w++])[0]>>24|V[1]>>8&65280|V[2]<<8&16711680|V[3]<<24)>>>0),U+=32;else r(P,U,y,w,C)}function Ke(y,w){F[w][0]=F[y+"0"],F[w][1]=F[y+"1"],F[w][2]=F[y+"2"],F[w][3]=F[y+"3"],F[w][4]=F[y+"4"],F[w][5]=F[y+"5"],F[w][6]=F[y+"6"],F[w][7]=F[y+"7"],F[w][8]=F[y+"8"],F[w][9]=F[y+"9"],F[w][10]=F[y+"10"],F[w][11]=F[y+"11"],F[w][12]=F[y+"12"],F[w][13]=F[y+"13"],F[w][14]=F[y+"0"],F[w][15]=F[y+"0"]}function _e(y){return y==df||y==pf||y==ac||y==gf}function bs(){this.eb=[],this.size=this.A=this.fb=0}function We(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function xi(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new bs,this.f.kb=new We,this.sd=null}function pr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ve(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function le(y){return alert("todo:WebPSamplerProcessPlane"),y.T}function Te(y,w){var C=y.T,P=w.ba.f.RGBA,U=P.eb,V=P.fb+y.ka*P.A,X=vi[w.ba.S],K=y.y,Q=y.O,st=y.f,yt=y.N,At=y.ea,Tt=y.W,_t=w.cc,Dt=w.dc,Lt=w.Mc,bt=w.Nc,wt=y.ka,Ft=y.ka+y.T,Rt=y.U,It=Rt+1>>1;for(wt==0?X(K,Q,null,null,st,yt,At,Tt,st,yt,At,Tt,U,V,null,null,Rt):(X(w.ec,w.fc,K,Q,_t,Dt,Lt,bt,st,yt,At,Tt,U,V-P.A,U,V,Rt),++C);wt+2<Ft;wt+=2)_t=st,Dt=yt,Lt=At,bt=Tt,yt+=y.Rc,Tt+=y.Rc,V+=2*P.A,X(K,(Q+=2*y.fa)-y.fa,K,Q,_t,Dt,Lt,bt,st,yt,At,Tt,U,V-P.A,U,V,Rt);return Q+=y.fa,y.j+Ft<y.o?(r(w.ec,w.fc,K,Q,Rt),r(w.cc,w.dc,st,yt,It),r(w.Mc,w.Nc,At,Tt,It),C--):1&Ft||X(K,Q,null,null,st,yt,At,Tt,st,yt,At,Tt,U,V+P.A,null,null,Rt),C}function ws(y,w,C){var P=y.F,U=[y.J];if(P!=null){var V=y.U,X=w.ba.S,K=X==sc||X==ac;w=w.ba.f.RGBA;var Q=[0],st=y.ka;Q[0]=y.T,y.Kb&&(st==0?--Q[0]:(--st,U[0]-=y.width),y.j+y.ka+y.T==y.o&&(Q[0]=y.o-y.j-st));var yt=w.eb;st=w.fb+st*w.A,y=je(P,U[0],y.width,V,Q,yt,st+(K?0:3),w.A),t(C==Q),y&&_e(X)&&gi(yt,st,K,V,Q,w.A)}return 0}function xn(y){var w=y.ma,C=w.ba.S,P=11>C,U=C==ic||C==rc||C==sc||C==hf||C==12||_e(C);if(w.memory=null,w.Ib=null,w.Jb=null,w.Nd=null,!Co(w.Oa,y,U?11:12))return 0;if(U&&_e(C)&&jt(),y.da)alert("todo:use_scaling");else{if(P){if(w.Ib=le,y.Kb){if(C=y.U+1>>1,w.memory=p(y.U+2*C),w.memory==null)return 0;w.ec=w.memory,w.fc=0,w.cc=w.ec,w.dc=w.fc+y.U,w.Mc=w.cc,w.Nc=w.dc+C,w.Ib=Te,jt()}}else alert("todo:EmitYUV");U&&(w.Jb=ws,P&&St())}if(P&&!ip){for(y=0;256>y;++y)lv[y]=89858*(y-128)+lc>>oc,fv[y]=-22014*(y-128)+lc,uv[y]=-45773*(y-128),cv[y]=113618*(y-128)+lc>>oc;for(y=Fo;y<yf;++y)w=76283*(y-16)+lc>>oc,hv[y-Fo]=ti(w,255),dv[y-Fo]=ti(w+8>>4,15);ip=1}return 1}function Yi(y){var w=y.ma,C=y.U,P=y.T;return t(!(1&y.ka)),0>=C||0>=P?0:(C=w.Ib(y,w),w.Jb!=null&&w.Jb(y,w,C),w.Dc+=C,1)}function Xi(y){y.ma.memory=null}function ne(y,w,C,P){return $(y,8)!=47?0:(w[0]=$(y,14)+1,C[0]=$(y,14)+1,P[0]=$(y,1),$(y,3)!=0?0:!y.h)}function Si(y,w){if(4>y)return y+1;var C=y-2>>1;return(2+(1&y)<<C)+$(w,C)+1}function Gi(y,w){return 120<w?w-120:1<=(C=((C=G2[w-1])>>4)*y+(8-(15&C)))?C:1;var C}function Vn(y,w,C){var P=q(C),U=y[w+=255&P].g-8;return 0<U&&(O(C,C.u+8),P=q(C),w+=y[w].value,w+=P&(1<<U)-1),O(C,C.u+y[w].g),y[w].value}function dn(y,w,C){return C.g+=y.g,C.value+=y.value<<w>>>0,t(8>=C.g),y.g}function sn(y,w,C){var P=y.xc;return t((w=P==0?0:y.vc[y.md*(C>>P)+(w>>P)])<y.Wb),y.Ya[w]}function Zn(y,w,C,P){var U=y.ab,V=y.c*w,X=y.C;w=X+w;var K=C,Q=P;for(P=y.Ta,C=y.Ua;0<U--;){var st=y.gc[U],yt=X,At=w,Tt=K,_t=Q,Dt=(Q=P,K=C,st.Ea);switch(t(yt<At),t(At<=st.nc),st.hc){case 2:$l(Tt,_t,(At-yt)*Dt,Q,K);break;case 0:var Lt=yt,bt=At,wt=Q,Ft=K,Rt=(Wt=st).Ea;Lt==0&&(uf(Tt,_t,null,null,1,wt,Ft),Mt(Tt,_t+1,0,0,Rt-1,wt,Ft+1),_t+=Rt,Ft+=Rt,++Lt);for(var It=1<<Wt.b,Xt=It-1,Ht=at(Rt,Wt.b),ee=Wt.K,Wt=Wt.w+(Lt>>Wt.b)*Ht;Lt<bt;){var Ae=ee,Le=Wt,xe=1;for(Po(Tt,_t,wt,Ft-Rt,1,wt,Ft);xe<Rt;){var be=(xe&~Xt)+It;be>Rt&&(be=Rt),(0,Ur[Ae[Le++]>>8&15])(Tt,_t+ +xe,wt,Ft+xe-Rt,be-xe,wt,Ft+xe),xe=be}_t+=Rt,Ft+=Rt,++Lt&Xt||(Wt+=Ht)}At!=st.nc&&r(Q,K-Dt,Q,K+(At-yt-1)*Dt,Dt);break;case 1:for(Dt=Tt,bt=_t,Rt=(Tt=st.Ea)-(Ft=Tt&~(wt=(_t=1<<st.b)-1)),Lt=at(Tt,st.b),It=st.K,st=st.w+(yt>>st.b)*Lt;yt<At;){for(Xt=It,Ht=st,ee=new gt,Wt=bt+Ft,Ae=bt+Tt;bt<Wt;)Vt(Xt[Ht++],ee),Ts(ee,Dt,bt,_t,Q,K),bt+=_t,K+=_t;bt<Ae&&(Vt(Xt[Ht++],ee),Ts(ee,Dt,bt,Rt,Q,K),bt+=Rt,K+=Rt),++yt&wt||(st+=Lt)}break;case 3:if(Tt==Q&&_t==K&&0<st.b){for(bt=Q,Tt=Dt=K+(At-yt)*Dt-(Ft=(At-yt)*at(st.Ea,st.b)),_t=Q,wt=K,Lt=[],Ft=(Rt=Ft)-1;0<=Ft;--Ft)Lt[Ft]=_t[wt+Ft];for(Ft=Rt-1;0<=Ft;--Ft)bt[Tt+Ft]=Lt[Ft];hi(st,yt,At,Q,Dt,Q,K)}else hi(st,yt,At,Tt,_t,Q,K)}K=P,Q=C}Q!=C&&r(P,C,K,Q,V)}function Qs(y,w){var C=y.V,P=y.Ba+y.c*y.C,U=w-y.C;if(t(w<=y.l.o),t(16>=U),0<U){var V=y.l,X=y.Ta,K=y.Ua,Q=V.width;if(Zn(y,U,C,P),U=K=[K],t((C=y.C)<(P=w)),t(V.v<V.va),P>V.o&&(P=V.o),C<V.j){var st=V.j-C;C=V.j,U[0]+=st*Q}if(C>=P?C=0:(U[0]+=4*V.v,V.ka=C-V.j,V.U=V.va-V.v,V.T=P-C,C=1),C){if(K=K[0],11>(C=y.ca).S){var yt=C.f.RGBA,At=(P=C.S,U=V.U,V=V.T,st=yt.eb,yt.A),Tt=V;for(yt=yt.fb+y.Ma*yt.A;0<Tt--;){var _t=X,Dt=K,Lt=U,bt=st,wt=yt;switch(P){case nc:Gn(_t,Dt,Lt,bt,wt);break;case ic:jn(_t,Dt,Lt,bt,wt);break;case df:jn(_t,Dt,Lt,bt,wt),gi(bt,wt,0,Lt,1,0);break;case Xd:br(_t,Dt,Lt,bt,wt);break;case rc:me(_t,Dt,Lt,bt,wt,1);break;case pf:me(_t,Dt,Lt,bt,wt,1),gi(bt,wt,0,Lt,1,0);break;case sc:me(_t,Dt,Lt,bt,wt,0);break;case ac:me(_t,Dt,Lt,bt,wt,0),gi(bt,wt,1,Lt,1,0);break;case hf:zr(_t,Dt,Lt,bt,wt);break;case gf:zr(_t,Dt,Lt,bt,wt),Re(bt,wt,Lt,1,0);break;case Gd:yr(_t,Dt,Lt,bt,wt);break;default:t(0)}K+=Q,yt+=At}y.Ma+=V}else alert("todo:EmitRescaledRowsYUVA");t(y.Ma<=C.height)}}y.C=w,t(y.C<=y.i)}function gr(y){var w;if(0<y.ua)return 0;for(w=0;w<y.Wb;++w){var C=y.Ya[w].G,P=y.Ya[w].H;if(0<C[1][P[1]+0].g||0<C[2][P[2]+0].g||0<C[3][P[3]+0].g)return 0}return 1}function Ci(y,w,C,P,U,V){if(y.Z!=0){var X=y.qd,K=y.rd;for(t(Vr[y.Z]!=null);w<C;++w)Vr[y.Z](X,K,P,U,P,U,V),X=P,K=U,U+=V;y.qd=X,y.rd=K}}function Ai(y,w){var C=y.l.ma,P=C.Z==0||C.Z==1?y.l.j:y.C;if(P=y.C<P?P:y.C,t(w<=y.l.o),w>P){var U=y.l.width,V=C.ca,X=C.tb+U*P,K=y.V,Q=y.Ba+y.c*P,st=y.gc;t(y.ab==1),t(st[0].hc==3),Jl(st[0],P,w,K,Q,V,X),Ci(C,P,w,V,X,U)}y.C=y.Ma=w}function Ti(y,w,C,P,U,V,X){var K=y.$/P,Q=y.$%P,st=y.m,yt=y.s,At=C+y.$,Tt=At;U=C+P*U;var _t=C+P*V,Dt=280+yt.ua,Lt=y.Pb?K:16777216,bt=0<yt.ua?yt.Wa:null,wt=yt.wc,Ft=At<_t?sn(yt,Q,K):null;t(y.C<V),t(_t<=U);var Rt=!1;t:for(;;){for(;Rt||At<_t;){var It=0;if(K>=Lt){var Xt=At-C;t((Lt=y).Pb),Lt.wd=Lt.m,Lt.xd=Xt,0<Lt.s.ua&&H(Lt.s.Wa,Lt.s.vb),Lt=K+$2}if(Q&wt||(Ft=sn(yt,Q,K)),t(Ft!=null),Ft.Qb&&(w[At]=Ft.qb,Rt=!0),!Rt)if(W(st),Ft.jc){It=st,Xt=w;var Ht=At,ee=Ft.pd[q(It)&Sn-1];t(Ft.jc),256>ee.g?(O(It,It.u+ee.g),Xt[Ht]=ee.value,It=0):(O(It,It.u+ee.g-256),t(256<=ee.value),It=ee.value),It==0&&(Rt=!0)}else It=Vn(Ft.G[0],Ft.H[0],st);if(st.h)break;if(Rt||256>It){if(!Rt)if(Ft.nd)w[At]=(Ft.qb|It<<8)>>>0;else{if(W(st),Rt=Vn(Ft.G[1],Ft.H[1],st),W(st),Xt=Vn(Ft.G[2],Ft.H[2],st),Ht=Vn(Ft.G[3],Ft.H[3],st),st.h)break;w[At]=(Ht<<24|Rt<<16|It<<8|Xt)>>>0}if(Rt=!1,++At,++Q>=P&&(Q=0,++K,X!=null&&K<=V&&!(K%16)&&X(y,K),bt!=null))for(;Tt<At;)It=w[Tt++],bt.X[(506832829*It&4294967295)>>>bt.Mb]=It}else if(280>It){if(It=Si(It-256,st),Xt=Vn(Ft.G[4],Ft.H[4],st),W(st),Xt=Gi(P,Xt=Si(Xt,st)),st.h)break;if(At-C<Xt||U-At<It)break t;for(Ht=0;Ht<It;++Ht)w[At+Ht]=w[At+Ht-Xt];for(At+=It,Q+=It;Q>=P;)Q-=P,++K,X!=null&&K<=V&&!(K%16)&&X(y,K);if(t(At<=U),Q&wt&&(Ft=sn(yt,Q,K)),bt!=null)for(;Tt<At;)It=w[Tt++],bt.X[(506832829*It&4294967295)>>>bt.Mb]=It}else{if(!(It<Dt))break t;for(Rt=It-280,t(bt!=null);Tt<At;)It=w[Tt++],bt.X[(506832829*It&4294967295)>>>bt.Mb]=It;It=At,t(!(Rt>>>(Xt=bt).Xa)),w[It]=Xt.X[Rt],Rt=!0}Rt||t(st.h==k(st))}if(y.Pb&&st.h&&At<U)t(y.m.h),y.a=5,y.m=y.wd,y.$=y.xd,0<y.s.ua&&H(y.s.vb,y.s.Wa);else{if(st.h)break t;X!=null&&X(y,K>V?V:K),y.a=0,y.$=At-C}return 1}return y.a=3,0}function Ki(y){t(y!=null),y.vc=null,y.yc=null,y.Ya=null;var w=y.Wa;w!=null&&(w.X=null),y.vb=null,t(y!=null)}function fi(){var y=new cf;return y==null?null:(y.a=0,y.xb=Jd,Ke("Predictor","VP8LPredictors"),Ke("Predictor","VP8LPredictors_C"),Ke("PredictorAdd","VP8LPredictorsAdd"),Ke("PredictorAdd","VP8LPredictorsAdd_C"),$l=Bt,Ts=Ut,Gn=zt,jn=ve,zr=se,yr=rn,br=Se,F.VP8LMapColor32b=ya,F.VP8LMapColor8b=Ql,y)}function $i(y,w,C,P,U){var V=1,X=[y],K=[w],Q=P.m,st=P.s,yt=null,At=0;t:for(;;){if(C)for(;V&&$(Q,1);){var Tt=X,_t=K,Dt=P,Lt=1,bt=Dt.m,wt=Dt.gc[Dt.ab],Ft=$(bt,2);if(Dt.Oc&1<<Ft)V=0;else{switch(Dt.Oc|=1<<Ft,wt.hc=Ft,wt.Ea=Tt[0],wt.nc=_t[0],wt.K=[null],++Dt.ab,t(4>=Dt.ab),Ft){case 0:case 1:wt.b=$(bt,3)+2,Lt=$i(at(wt.Ea,wt.b),at(wt.nc,wt.b),0,Dt,wt.K),wt.K=wt.K[0];break;case 3:var Rt,It=$(bt,8)+1,Xt=16<It?0:4<It?1:2<It?2:3;if(Tt[0]=at(wt.Ea,Xt),wt.b=Xt,Rt=Lt=$i(It,1,0,Dt,wt.K)){var Ht,ee=It,Wt=wt,Ae=1<<(8>>Wt.b),Le=p(Ae);if(Le==null)Rt=0;else{var xe=Wt.K[0],be=Wt.w;for(Le[0]=Wt.K[0][0],Ht=1;Ht<1*ee;++Ht)Le[Ht]=ut(xe[be+Ht],Le[Ht-1]);for(;Ht<4*Ae;++Ht)Le[Ht]=0;Wt.K[0]=null,Wt.K[0]=Le,Rt=1}}Lt=Rt;break;case 2:break;default:t(0)}V=Lt}}if(X=X[0],K=K[0],V&&$(Q,1)&&!(V=1<=(At=$(Q,4))&&11>=At)){P.a=3;break t}var Fe;if(Fe=V)e:{var Ne,de,on,Kn=P,ln=X,$n=K,ke=At,ni=C,ii=Kn.m,vn=Kn.s,Cn=[null],Un=1,yi=0,tr=K2[ke];n:for(;;){if(ni&&$(ii,1)){var yn=$(ii,3)+2,Sr=at(ln,yn),Es=at($n,yn),Sa=Sr*Es;if(!$i(Sr,Es,0,Kn,Cn))break n;for(Cn=Cn[0],vn.xc=yn,Ne=0;Ne<Sa;++Ne){var Yr=Cn[Ne]>>8&65535;Cn[Ne]=Yr,Yr>=Un&&(Un=Yr+1)}}if(ii.h)break n;for(de=0;5>de;++de){var Xe=Kd[de];!de&&0<ke&&(Xe+=1<<ke),yi<Xe&&(yi=Xe)}var bf=v(Un*tr,M),ap=Un,op=v(ap,Z);if(op==null)var uc=null;else t(65536>=ap),uc=op;var Io=p(yi);if(uc==null||Io==null||bf==null){Kn.a=1;break n}var fc=bf;for(Ne=on=0;Ne<Un;++Ne){var Ei=uc[Ne],Ca=Ei.G,Aa=Ei.H,lp=0,hc=1,cp=0;for(de=0;5>de;++de){Xe=Kd[de],Ca[de]=fc,Aa[de]=on,!de&&0<ke&&(Xe+=1<<ke);r:{var dc,wf=Xe,pc=Kn,Do=Io,mv=fc,vv=on,_f=0,Xr=pc.m,yv=$(Xr,1);if(c(Do,0,0,wf),yv){var bv=$(Xr,1)+1,wv=$(Xr,1),up=$(Xr,wv==0?1:8);Do[up]=1,bv==2&&(Do[up=$(Xr,8)]=1);var gc=1}else{var fp=p(19),hp=$(Xr,4)+4;if(19<hp){pc.a=3;var mc=0;break r}for(dc=0;dc<hp;++dc)fp[X2[dc]]=$(Xr,3);var xf=void 0,Mo=void 0,dp=pc,_v=fp,vc=wf,pp=Do,Sf=0,Gr=dp.m,gp=8,mp=v(128,M);i:for(;j(mp,0,7,_v,19);){if($(Gr,1)){var xv=2+2*$(Gr,3);if((xf=2+$(Gr,xv))>vc)break i}else xf=vc;for(Mo=0;Mo<vc&&xf--;){W(Gr);var vp=mp[0+(127&q(Gr))];O(Gr,Gr.u+vp.g);var Ta=vp.value;if(16>Ta)pp[Mo++]=Ta,Ta!=0&&(gp=Ta);else{var Sv=Ta==16,yp=Ta-16,Cv=V2[yp],bp=$(Gr,W2[yp])+Cv;if(Mo+bp>vc)break i;for(var Av=Sv?gp:0;0<bp--;)pp[Mo++]=Av}}Sf=1;break i}Sf||(dp.a=3),gc=Sf}(gc=gc&&!Xr.h)&&(_f=j(mv,vv,8,Do,wf)),gc&&_f!=0?mc=_f:(pc.a=3,mc=0)}if(mc==0)break n;if(hc&&Y2[de]==1&&(hc=fc[on].g==0),lp+=fc[on].g,on+=mc,3>=de){var Ro,Cf=Io[0];for(Ro=1;Ro<Xe;++Ro)Io[Ro]>Cf&&(Cf=Io[Ro]);cp+=Cf}}if(Ei.nd=hc,Ei.Qb=0,hc&&(Ei.qb=(Ca[3][Aa[3]+0].value<<24|Ca[1][Aa[1]+0].value<<16|Ca[2][Aa[2]+0].value)>>>0,lp==0&&256>Ca[0][Aa[0]+0].value&&(Ei.Qb=1,Ei.qb+=Ca[0][Aa[0]+0].value<<8)),Ei.jc=!Ei.Qb&&6>cp,Ei.jc){var yc,Cr=Ei;for(yc=0;yc<Sn;++yc){var Kr=yc,$r=Cr.pd[Kr],bc=Cr.G[0][Cr.H[0]+Kr];256<=bc.value?($r.g=bc.g+256,$r.value=bc.value):($r.g=0,$r.value=0,Kr>>=dn(bc,8,$r),Kr>>=dn(Cr.G[1][Cr.H[1]+Kr],16,$r),Kr>>=dn(Cr.G[2][Cr.H[2]+Kr],0,$r),dn(Cr.G[3][Cr.H[3]+Kr],24,$r))}}}vn.vc=Cn,vn.Wb=Un,vn.Ya=uc,vn.yc=bf,Fe=1;break e}Fe=0}if(!(V=Fe)){P.a=3;break t}if(0<At){if(st.ua=1<<At,!R(st.Wa,At)){P.a=1,V=0;break t}}else st.ua=0;var Af=P,wp=X,Tv=K,Tf=Af.s,Pf=Tf.xc;if(Af.c=wp,Af.i=Tv,Tf.md=at(wp,Pf),Tf.wc=Pf==0?-1:(1<<Pf)-1,C){P.xb=iv;break t}if((yt=p(X*K))==null){P.a=1,V=0;break t}V=(V=Ti(P,yt,0,X,K,K,null))&&!Q.h;break t}return V?(U!=null?U[0]=yt:(t(yt==null),t(C)),P.$=0,C||Ki(st)):Ki(st),V}function _s(y,w){var C=y.c*y.i,P=C+w+16*w;return t(y.c<=w),y.V=p(P),y.V==null?(y.Ta=null,y.Ua=0,y.a=1,0):(y.Ta=y.V,y.Ua=y.Ba+C+w,1)}function Zs(y,w){var C=y.C,P=w-C,U=y.V,V=y.Ba+y.c*C;for(t(w<=y.l.o);0<P;){var X=16<P?16:P,K=y.l.ma,Q=y.l.width,st=Q*X,yt=K.ca,At=K.tb+Q*C,Tt=y.Ta,_t=y.Ua;Zn(y,X,U,V),Qe(Tt,_t,yt,At,st),Ci(K,C,C+X,yt,At,Q),P-=X,U+=X*y.c,C+=X}t(C==w),y.C=y.Ma=w}function ta(){this.ub=this.yd=this.td=this.Rb=0}function ea(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function na(){this.Fb=this.Bb=this.Cb=0,this.Zb=p(4),this.Lb=p(4)}function kl(){this.Yb=function(){var y=[];return function w(C,P,U){for(var V=U[P],X=0;X<V&&(C.push(U.length>P+1?[]:0),!(U.length<P+1));X++)w(C[X],P+1,U)}(y,0,[3,11]),y}()}function Bu(){this.jb=p(3),this.Wc=o([4,8],kl),this.Xc=o([4,17],kl)}function Uu(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new p(4),this.od=new p(4)}function ia(){this.ld=this.La=this.dd=this.tc=0}function El(){this.Na=this.la=0}function zu(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function oo(){this.ad=p(384),this.Za=0,this.Ob=p(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function qu(){this.uc=this.M=this.Nb=0,this.wa=Array(new ia),this.Y=0,this.ya=Array(new oo),this.aa=0,this.l=new ra}function Nl(){this.y=p(16),this.f=p(8),this.ea=p(8)}function Hu(){this.cb=this.a=0,this.sc="",this.m=new nt,this.Od=new ta,this.Kc=new ea,this.ed=new Uu,this.Qa=new na,this.Ic=this.$c=this.Aa=0,this.D=new qu,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=v(8,nt),this.ia=0,this.pb=v(4,zu),this.Pa=new Bu,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Nl),this.Hd=0,this.rb=Array(new El),this.sb=0,this.wa=Array(new ia),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new oo),this.L=this.aa=0,this.gd=o([4,2],ia),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ra(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Wu(){var y=new Hu;return y!=null&&(y.a=0,y.sc="OK",y.cb=0,y.Xb=0,No||(No=Dl)),y}function $e(y,w,C){return y.a==0&&(y.a=w,y.sc=C,y.cb=0),0}function Fl(y,w,C){return 3<=C&&y[w+0]==157&&y[w+1]==1&&y[w+2]==42}function Il(y,w){if(y==null)return 0;if(y.a=0,y.sc="OK",w==null)return $e(y,2,"null VP8Io passed to VP8GetHeaders()");var C=w.data,P=w.w,U=w.ha;if(4>U)return $e(y,7,"Truncated header.");var V=C[P+0]|C[P+1]<<8|C[P+2]<<16,X=y.Od;if(X.Rb=!(1&V),X.td=V>>1&7,X.yd=V>>4&1,X.ub=V>>5,3<X.td)return $e(y,3,"Incorrect keyframe parameters.");if(!X.yd)return $e(y,4,"Frame not displayable.");P+=3,U-=3;var K=y.Kc;if(X.Rb){if(7>U)return $e(y,7,"cannot parse picture header");if(!Fl(C,P,U))return $e(y,3,"Bad code word");K.c=16383&(C[P+4]<<8|C[P+3]),K.Td=C[P+4]>>6,K.i=16383&(C[P+6]<<8|C[P+5]),K.Ud=C[P+6]>>6,P+=7,U-=7,y.za=K.c+15>>4,y.Ub=K.i+15>>4,w.width=K.c,w.height=K.i,w.Da=0,w.j=0,w.v=0,w.va=w.width,w.o=w.height,w.da=0,w.ib=w.width,w.hb=w.height,w.U=w.width,w.T=w.height,c((V=y.Pa).jb,0,255,V.jb.length),t((V=y.Qa)!=null),V.Cb=0,V.Bb=0,V.Fb=1,c(V.Zb,0,0,V.Zb.length),c(V.Lb,0,0,V.Lb)}if(X.ub>U)return $e(y,7,"bad partition length");ft(V=y.m,C,P,X.ub),P+=X.ub,U-=X.ub,X.Rb&&(K.Ld=J(V),K.Kd=J(V)),K=y.Qa;var Q,st=y.Pa;if(t(V!=null),t(K!=null),K.Cb=J(V),K.Cb){if(K.Bb=J(V),J(V)){for(K.Fb=J(V),Q=0;4>Q;++Q)K.Zb[Q]=J(V)?pt(V,7):0;for(Q=0;4>Q;++Q)K.Lb[Q]=J(V)?pt(V,6):0}if(K.Bb)for(Q=0;3>Q;++Q)st.jb[Q]=J(V)?ht(V,8):255}else K.Bb=0;if(V.Ka)return $e(y,3,"cannot parse segment header");if((K=y.ed).zd=J(V),K.Tb=ht(V,6),K.wb=ht(V,3),K.Pc=J(V),K.Pc&&J(V)){for(st=0;4>st;++st)J(V)&&(K.vd[st]=pt(V,6));for(st=0;4>st;++st)J(V)&&(K.od[st]=pt(V,6))}if(y.L=K.Tb==0?0:K.zd?1:2,V.Ka)return $e(y,3,"cannot parse filter header");var yt=U;if(U=Q=P,P=Q+yt,K=yt,y.Xb=(1<<ht(y.m,2))-1,yt<3*(st=y.Xb))C=7;else{for(Q+=3*st,K-=3*st,yt=0;yt<st;++yt){var At=C[U+0]|C[U+1]<<8|C[U+2]<<16;At>K&&(At=K),ft(y.Jc[+yt],C,Q,At),Q+=At,K-=At,U+=3}ft(y.Jc[+st],C,Q,K),C=Q<P?0:5}if(C!=0)return $e(y,C,"cannot parse partitions");for(C=ht(Q=y.m,7),U=J(Q)?pt(Q,4):0,P=J(Q)?pt(Q,4):0,K=J(Q)?pt(Q,4):0,st=J(Q)?pt(Q,4):0,Q=J(Q)?pt(Q,4):0,yt=y.Qa,At=0;4>At;++At){if(yt.Cb){var Tt=yt.Zb[At];yt.Fb||(Tt+=C)}else{if(0<At){y.pb[At]=y.pb[0];continue}Tt=C}var _t=y.pb[At];_t.Sc[0]=mf[ti(Tt+U,127)],_t.Sc[1]=vf[ti(Tt+0,127)],_t.Eb[0]=2*mf[ti(Tt+P,127)],_t.Eb[1]=101581*vf[ti(Tt+K,127)]>>16,8>_t.Eb[1]&&(_t.Eb[1]=8),_t.Qc[0]=mf[ti(Tt+st,117)],_t.Qc[1]=vf[ti(Tt+Q,127)],_t.lc=Tt+Q}if(!X.Rb)return $e(y,4,"Not a key frame.");for(J(V),X=y.Pa,C=0;4>C;++C){for(U=0;8>U;++U)for(P=0;3>P;++P)for(K=0;11>K;++K)st=G(V,ev[C][U][P][K])?ht(V,8):Z2[C][U][P][K],X.Wc[C][U].Yb[P][K]=st;for(U=0;17>U;++U)X.Xc[C][U]=X.Wc[C][nv[U]]}return y.kc=J(V),y.kc&&(y.Bd=ht(V,8)),y.cb=1}function Dl(y,w,C,P,U,V,X){var K=w[U].Yb[C];for(C=0;16>U;++U){if(!G(y,K[C+0]))return U;for(;!G(y,K[C+1]);)if(K=w[++U].Yb[0],C=0,U==16)return 16;var Q=w[U+1].Yb;if(G(y,K[C+2])){var st=y,yt=0;if(G(st,(Tt=K)[(At=C)+3]))if(G(st,Tt[At+6])){for(K=0,At=2*(yt=G(st,Tt[At+8]))+(Tt=G(st,Tt[At+9+yt])),yt=0,Tt=J2[At];Tt[K];++K)yt+=yt+G(st,Tt[K]);yt+=3+(8<<At)}else G(st,Tt[At+7])?(yt=7+2*G(st,165),yt+=G(st,145)):yt=5+G(st,159);else yt=G(st,Tt[At+4])?3+G(st,Tt[At+5]):2;K=Q[2]}else yt=1,K=Q[1];Q=X+Q2[U],0>(st=y).b&&B(st);var At,Tt=st.b,_t=(At=st.Ca>>1)-(st.I>>Tt)>>31;--st.b,st.Ca+=_t,st.Ca|=1,st.I-=(At+1&_t)<<Tt,V[Q]=((yt^_t)-_t)*P[(0<U)+0]}return 16}function lo(y){var w=y.rb[y.sb-1];w.la=0,w.Na=0,c(y.zc,0,0,y.zc.length),y.ja=0}function Vu(y,w){if(y==null)return 0;if(w==null)return $e(y,2,"NULL VP8Io parameter in VP8Decode().");if(!y.cb&&!Il(y,w))return 0;if(t(y.cb),w.ac==null||w.ac(w)){w.ob&&(y.L=0);var C=cc[y.L];if(y.L==2?(y.yb=0,y.zb=0):(y.yb=w.v-C>>4,y.zb=w.j-C>>4,0>y.yb&&(y.yb=0),0>y.zb&&(y.zb=0)),y.Va=w.o+15+C>>4,y.Hb=w.va+15+C>>4,y.Hb>y.za&&(y.Hb=y.za),y.Va>y.Ub&&(y.Va=y.Ub),0<y.L){var P=y.ed;for(C=0;4>C;++C){var U;if(y.Qa.Cb){var V=y.Qa.Lb[C];y.Qa.Fb||(V+=P.Tb)}else V=P.Tb;for(U=0;1>=U;++U){var X=y.gd[C][U],K=V;if(P.Pc&&(K+=P.vd[0],U&&(K+=P.od[0])),0<(K=0>K?0:63<K?63:K)){var Q=K;0<P.wb&&(Q=4<P.wb?Q>>2:Q>>1)>9-P.wb&&(Q=9-P.wb),1>Q&&(Q=1),X.dd=Q,X.tc=2*K+Q,X.ld=40<=K?2:15<=K?1:0}else X.tc=0;X.La=U}}}C=0}else $e(y,6,"Frame setup failed"),C=y.a;if(C=C==0){if(C){y.$c=0,0<y.Aa||(y.Ic=gv);t:{C=y.Ic,P=4*(Q=y.za);var st=32*Q,yt=Q+1,At=0<y.L?Q*(0<y.Aa?2:1):0,Tt=(y.Aa==2?2:1)*Q;if((X=P+832+(U=3*(16*C+cc[y.L])/2*st)+(V=y.Fa!=null&&0<y.Fa.length?y.Kc.c*y.Kc.i:0))!=X)C=0;else{if(X>y.Vb){if(y.Vb=0,y.Ec=p(X),y.Fc=0,y.Ec==null){C=$e(y,1,"no memory during frame initialization.");break t}y.Vb=X}X=y.Ec,K=y.Fc,y.Ac=X,y.Bc=K,K+=P,y.Gd=v(st,Nl),y.Hd=0,y.rb=v(yt+1,El),y.sb=1,y.wa=At?v(At,ia):null,y.Y=0,y.D.Nb=0,y.D.wa=y.wa,y.D.Y=y.Y,0<y.Aa&&(y.D.Y+=Q),t(!0),y.oc=X,y.pc=K,K+=832,y.ya=v(Tt,oo),y.aa=0,y.D.ya=y.ya,y.D.aa=y.aa,y.Aa==2&&(y.D.aa+=Q),y.R=16*Q,y.B=8*Q,Q=(st=cc[y.L])*y.R,st=st/2*y.B,y.sa=X,y.ta=K+Q,y.qa=y.sa,y.ra=y.ta+16*C*y.R+st,y.Ha=y.qa,y.Ia=y.ra+8*C*y.B+st,y.$c=0,K+=U,y.mb=V?X:null,y.nb=V?K:null,t(K+V<=y.Fc+y.Vb),lo(y),c(y.Ac,y.Bc,0,P),C=1}}if(C){if(w.ka=0,w.y=y.sa,w.O=y.ta,w.f=y.qa,w.N=y.ra,w.ea=y.Ha,w.Vd=y.Ia,w.fa=y.R,w.Rc=y.B,w.F=null,w.J=0,!tc){for(C=-255;255>=C;++C)pn[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)_r[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Eo[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)xa[255+C]=0>C?0:255<C?255:C;tc=1}ba=Gu,wr=Yu,Oo=Rl,Bn=Xu,di=jl,Je=Ml,wa=go,Zl=Cs,Lo=lf,Ps=mo,Os=of,qr=ua,Ls=vo,_a=Xl,ks=Yl,Hr=Qi,ko=vr,pi=af,ki[0]=Ji,ki[1]=Ku,ki[2]=Zu,ki[3]=tf,ki[4]=zl,ki[5]=la,ki[6]=ql,ki[7]=fo,ki[8]=nf,ki[9]=ef,Wr[0]=Bl,Wr[1]=Ju,Wr[2]=mr,Wr[3]=aa,Wr[4]=Pn,Wr[5]=Qu,Wr[6]=Ul,xr[0]=Rr,xr[1]=$u,xr[2]=rf,xr[3]=ho,xr[4]=Ss,xr[5]=sf,xr[6]=po,C=1}else C=0}C&&(C=function(_t,Dt){for(_t.M=0;_t.M<_t.Va;++_t.M){var Lt,bt=_t.Jc[_t.M&_t.Xb],wt=_t.m,Ft=_t;for(Lt=0;Lt<Ft.za;++Lt){var Rt=wt,It=Ft,Xt=It.Ac,Ht=It.Bc+4*Lt,ee=It.zc,Wt=It.ya[It.aa+Lt];if(It.Qa.Bb?Wt.$b=G(Rt,It.Pa.jb[0])?2+G(Rt,It.Pa.jb[2]):G(Rt,It.Pa.jb[1]):Wt.$b=0,It.kc&&(Wt.Ad=G(Rt,It.Bd)),Wt.Za=!G(Rt,145)+0,Wt.Za){var Ae=Wt.Ob,Le=0;for(It=0;4>It;++It){var xe,be=ee[0+It];for(xe=0;4>xe;++xe){be=tv[Xt[Ht+xe]][be];for(var Fe=$d[G(Rt,be[0])];0<Fe;)Fe=$d[2*Fe+G(Rt,be[Fe])];be=-Fe,Xt[Ht+xe]=be}r(Ae,Le,Xt,Ht,4),Le+=4,ee[0+It]=be}}else be=G(Rt,156)?G(Rt,128)?1:3:G(Rt,163)?2:0,Wt.Ob[0]=be,c(Xt,Ht,be,4),c(ee,0,be,4);Wt.Dd=G(Rt,142)?G(Rt,114)?G(Rt,183)?1:3:2:0}if(Ft.m.Ka)return $e(_t,7,"Premature end-of-partition0 encountered.");for(;_t.ja<_t.za;++_t.ja){if(Ft=bt,Rt=(wt=_t).rb[wt.sb-1],Xt=wt.rb[wt.sb+wt.ja],Lt=wt.ya[wt.aa+wt.ja],Ht=wt.kc?Lt.Ad:0)Rt.la=Xt.la=0,Lt.Za||(Rt.Na=Xt.Na=0),Lt.Hc=0,Lt.Gc=0,Lt.ia=0;else{var Ne,de;if(Rt=Xt,Xt=Ft,Ht=wt.Pa.Xc,ee=wt.ya[wt.aa+wt.ja],Wt=wt.pb[ee.$b],It=ee.ad,Ae=0,Le=wt.rb[wt.sb-1],be=xe=0,c(It,Ae,0,384),ee.Za)var on=0,Kn=Ht[3];else{Fe=p(16);var ln=Rt.Na+Le.Na;if(ln=No(Xt,Ht[1],ln,Wt.Eb,0,Fe,0),Rt.Na=Le.Na=(0<ln)+0,1<ln)ba(Fe,0,It,Ae);else{var $n=Fe[0]+3>>3;for(Fe=0;256>Fe;Fe+=16)It[Ae+Fe]=$n}on=1,Kn=Ht[0]}var ke=15&Rt.la,ni=15&Le.la;for(Fe=0;4>Fe;++Fe){var ii=1&ni;for($n=de=0;4>$n;++$n)ke=ke>>1|(ii=(ln=No(Xt,Kn,ln=ii+(1&ke),Wt.Sc,on,It,Ae))>on)<<7,de=de<<2|(3<ln?3:1<ln?2:It[Ae+0]!=0),Ae+=16;ke>>=4,ni=ni>>1|ii<<7,xe=(xe<<8|de)>>>0}for(Kn=ke,on=ni>>4,Ne=0;4>Ne;Ne+=2){for(de=0,ke=Rt.la>>4+Ne,ni=Le.la>>4+Ne,Fe=0;2>Fe;++Fe){for(ii=1&ni,$n=0;2>$n;++$n)ln=ii+(1&ke),ke=ke>>1|(ii=0<(ln=No(Xt,Ht[2],ln,Wt.Qc,0,It,Ae)))<<3,de=de<<2|(3<ln?3:1<ln?2:It[Ae+0]!=0),Ae+=16;ke>>=2,ni=ni>>1|ii<<5}be|=de<<4*Ne,Kn|=ke<<4<<Ne,on|=(240&ni)<<Ne}Rt.la=Kn,Le.la=on,ee.Hc=xe,ee.Gc=be,ee.ia=43690&be?0:Wt.ia,Ht=!(xe|be)}if(0<wt.L&&(wt.wa[wt.Y+wt.ja]=wt.gd[Lt.$b][Lt.Za],wt.wa[wt.Y+wt.ja].La|=!Ht),Ft.Ka)return $e(_t,7,"Premature end-of-file encountered.")}if(lo(_t),wt=Dt,Ft=1,Lt=(bt=_t).D,Rt=0<bt.L&&bt.M>=bt.zb&&bt.M<=bt.Va,bt.Aa==0)t:{if(Lt.M=bt.M,Lt.uc=Rt,So(bt,Lt),Ft=1,Lt=(de=bt.D).Nb,Rt=(be=cc[bt.L])*bt.R,Xt=be/2*bt.B,Fe=16*Lt*bt.R,$n=8*Lt*bt.B,Ht=bt.sa,ee=bt.ta-Rt+Fe,Wt=bt.qa,It=bt.ra-Xt+$n,Ae=bt.Ha,Le=bt.Ia-Xt+$n,ni=(ke=de.M)==0,xe=ke>=bt.Va-1,bt.Aa==2&&So(bt,de),de.uc)for(ii=(ln=bt).D.M,t(ln.D.uc),de=ln.yb;de<ln.Hb;++de){on=de,Kn=ii;var vn=(Cn=(Xe=ln).D).Nb;Ne=Xe.R;var Cn=Cn.wa[Cn.Y+on],Un=Xe.sa,yi=Xe.ta+16*vn*Ne+16*on,tr=Cn.dd,yn=Cn.tc;if(yn!=0)if(t(3<=yn),Xe.L==1)0<on&&Hr(Un,yi,Ne,yn+4),Cn.La&&pi(Un,yi,Ne,yn),0<Kn&&ks(Un,yi,Ne,yn+4),Cn.La&&ko(Un,yi,Ne,yn);else{var Sr=Xe.B,Es=Xe.qa,Sa=Xe.ra+8*vn*Sr+8*on,Yr=Xe.Ha,Xe=Xe.Ia+8*vn*Sr+8*on;vn=Cn.ld,0<on&&(Zl(Un,yi,Ne,yn+4,tr,vn),Ps(Es,Sa,Yr,Xe,Sr,yn+4,tr,vn)),Cn.La&&(qr(Un,yi,Ne,yn,tr,vn),_a(Es,Sa,Yr,Xe,Sr,yn,tr,vn)),0<Kn&&(wa(Un,yi,Ne,yn+4,tr,vn),Lo(Es,Sa,Yr,Xe,Sr,yn+4,tr,vn)),Cn.La&&(Os(Un,yi,Ne,yn,tr,vn),Ls(Es,Sa,Yr,Xe,Sr,yn,tr,vn))}}if(bt.ia&&alert("todo:DitherRow"),wt.put!=null){if(de=16*ke,ke=16*(ke+1),ni?(wt.y=bt.sa,wt.O=bt.ta+Fe,wt.f=bt.qa,wt.N=bt.ra+$n,wt.ea=bt.Ha,wt.W=bt.Ia+$n):(de-=be,wt.y=Ht,wt.O=ee,wt.f=Wt,wt.N=It,wt.ea=Ae,wt.W=Le),xe||(ke-=be),ke>wt.o&&(ke=wt.o),wt.F=null,wt.J=null,bt.Fa!=null&&0<bt.Fa.length&&de<ke&&(wt.J=_o(bt,wt,de,ke-de),wt.F=bt.mb,wt.F==null&&wt.F.length==0)){Ft=$e(bt,3,"Could not decode alpha data.");break t}de<wt.j&&(be=wt.j-de,de=wt.j,t(!(1&be)),wt.O+=bt.R*be,wt.N+=bt.B*(be>>1),wt.W+=bt.B*(be>>1),wt.F!=null&&(wt.J+=wt.width*be)),de<ke&&(wt.O+=wt.v,wt.N+=wt.v>>1,wt.W+=wt.v>>1,wt.F!=null&&(wt.J+=wt.v),wt.ka=de-wt.j,wt.U=wt.va-wt.v,wt.T=ke-de,Ft=wt.put(wt))}Lt+1!=bt.Ic||xe||(r(bt.sa,bt.ta-Rt,Ht,ee+16*bt.R,Rt),r(bt.qa,bt.ra-Xt,Wt,It+8*bt.B,Xt),r(bt.Ha,bt.Ia-Xt,Ae,Le+8*bt.B,Xt))}if(!Ft)return $e(_t,6,"Output aborted.")}return 1}(y,w)),w.bc!=null&&w.bc(w),C&=1}return C?(y.cb=0,C):0}function Pi(y,w,C,P,U){U=y[w+C+32*P]+(U>>3),y[w+C+32*P]=-256&U?0>U?0:255:U}function sa(y,w,C,P,U,V){Pi(y,w,0,C,P+U),Pi(y,w,1,C,P+V),Pi(y,w,2,C,P-V),Pi(y,w,3,C,P-U)}function Yn(y){return(20091*y>>16)+y}function co(y,w,C,P){var U,V=0,X=p(16);for(U=0;4>U;++U){var K=y[w+0]+y[w+8],Q=y[w+0]-y[w+8],st=(35468*y[w+4]>>16)-Yn(y[w+12]),yt=Yn(y[w+4])+(35468*y[w+12]>>16);X[V+0]=K+yt,X[V+1]=Q+st,X[V+2]=Q-st,X[V+3]=K-yt,V+=4,w++}for(U=V=0;4>U;++U)K=(y=X[V+0]+4)+X[V+8],Q=y-X[V+8],st=(35468*X[V+4]>>16)-Yn(X[V+12]),Pi(C,P,0,0,K+(yt=Yn(X[V+4])+(35468*X[V+12]>>16))),Pi(C,P,1,0,Q+st),Pi(C,P,2,0,Q-st),Pi(C,P,3,0,K-yt),V++,P+=32}function Ml(y,w,C,P){var U=y[w+0]+4,V=35468*y[w+4]>>16,X=Yn(y[w+4]),K=35468*y[w+1]>>16;sa(C,P,0,U+X,y=Yn(y[w+1]),K),sa(C,P,1,U+V,y,K),sa(C,P,2,U-V,y,K),sa(C,P,3,U-X,y,K)}function Yu(y,w,C,P,U){co(y,w,C,P),U&&co(y,w+16,C,P+4)}function Rl(y,w,C,P){wr(y,w+0,C,P,1),wr(y,w+32,C,P+128,1)}function Xu(y,w,C,P){var U;for(y=y[w+0]+4,U=0;4>U;++U)for(w=0;4>w;++w)Pi(C,P,w,U,y)}function jl(y,w,C,P){y[w+0]&&Bn(y,w+0,C,P),y[w+16]&&Bn(y,w+16,C,P+4),y[w+32]&&Bn(y,w+32,C,P+128),y[w+48]&&Bn(y,w+48,C,P+128+4)}function Gu(y,w,C,P){var U,V=p(16);for(U=0;4>U;++U){var X=y[w+0+U]+y[w+12+U],K=y[w+4+U]+y[w+8+U],Q=y[w+4+U]-y[w+8+U],st=y[w+0+U]-y[w+12+U];V[0+U]=X+K,V[8+U]=X-K,V[4+U]=st+Q,V[12+U]=st-Q}for(U=0;4>U;++U)X=(y=V[0+4*U]+3)+V[3+4*U],K=V[1+4*U]+V[2+4*U],Q=V[1+4*U]-V[2+4*U],st=y-V[3+4*U],C[P+0]=X+K>>3,C[P+16]=st+Q>>3,C[P+32]=X-K>>3,C[P+48]=st-Q>>3,P+=64}function uo(y,w,C){var P,U=w-32,V=ei,X=255-y[U-1];for(P=0;P<C;++P){var K,Q=V,st=X+y[w-1];for(K=0;K<C;++K)y[w+K]=Q[st+y[U+K]];w+=32}}function Ku(y,w){uo(y,w,4)}function $u(y,w){uo(y,w,8)}function Ju(y,w){uo(y,w,16)}function mr(y,w){var C;for(C=0;16>C;++C)r(y,w+32*C,y,w-32,16)}function aa(y,w){var C;for(C=16;0<C;--C)c(y,w,y[w-1],16),w+=32}function oa(y,w,C){var P;for(P=0;16>P;++P)c(w,C+32*P,y,16)}function Bl(y,w){var C,P=16;for(C=0;16>C;++C)P+=y[w-1+32*C]+y[w+C-32];oa(P>>5,y,w)}function Pn(y,w){var C,P=8;for(C=0;16>C;++C)P+=y[w-1+32*C];oa(P>>4,y,w)}function Qu(y,w){var C,P=8;for(C=0;16>C;++C)P+=y[w+C-32];oa(P>>4,y,w)}function Ul(y,w){oa(128,y,w)}function oe(y,w,C){return y+2*w+C+2>>2}function Zu(y,w){var C,P=w-32;for(P=new Uint8Array([oe(y[P-1],y[P+0],y[P+1]),oe(y[P+0],y[P+1],y[P+2]),oe(y[P+1],y[P+2],y[P+3]),oe(y[P+2],y[P+3],y[P+4])]),C=0;4>C;++C)r(y,w+32*C,P,0,P.length)}function tf(y,w){var C=y[w-1],P=y[w-1+32],U=y[w-1+64],V=y[w-1+96];lt(y,w+0,16843009*oe(y[w-1-32],C,P)),lt(y,w+32,16843009*oe(C,P,U)),lt(y,w+64,16843009*oe(P,U,V)),lt(y,w+96,16843009*oe(U,V,V))}function Ji(y,w){var C,P=4;for(C=0;4>C;++C)P+=y[w+C-32]+y[w-1+32*C];for(P>>=3,C=0;4>C;++C)c(y,w+32*C,P,4)}function zl(y,w){var C=y[w-1+0],P=y[w-1+32],U=y[w-1+64],V=y[w-1-32],X=y[w+0-32],K=y[w+1-32],Q=y[w+2-32],st=y[w+3-32];y[w+0+96]=oe(P,U,y[w-1+96]),y[w+1+96]=y[w+0+64]=oe(C,P,U),y[w+2+96]=y[w+1+64]=y[w+0+32]=oe(V,C,P),y[w+3+96]=y[w+2+64]=y[w+1+32]=y[w+0+0]=oe(X,V,C),y[w+3+64]=y[w+2+32]=y[w+1+0]=oe(K,X,V),y[w+3+32]=y[w+2+0]=oe(Q,K,X),y[w+3+0]=oe(st,Q,K)}function ql(y,w){var C=y[w+1-32],P=y[w+2-32],U=y[w+3-32],V=y[w+4-32],X=y[w+5-32],K=y[w+6-32],Q=y[w+7-32];y[w+0+0]=oe(y[w+0-32],C,P),y[w+1+0]=y[w+0+32]=oe(C,P,U),y[w+2+0]=y[w+1+32]=y[w+0+64]=oe(P,U,V),y[w+3+0]=y[w+2+32]=y[w+1+64]=y[w+0+96]=oe(U,V,X),y[w+3+32]=y[w+2+64]=y[w+1+96]=oe(V,X,K),y[w+3+64]=y[w+2+96]=oe(X,K,Q),y[w+3+96]=oe(K,Q,Q)}function la(y,w){var C=y[w-1+0],P=y[w-1+32],U=y[w-1+64],V=y[w-1-32],X=y[w+0-32],K=y[w+1-32],Q=y[w+2-32],st=y[w+3-32];y[w+0+0]=y[w+1+64]=V+X+1>>1,y[w+1+0]=y[w+2+64]=X+K+1>>1,y[w+2+0]=y[w+3+64]=K+Q+1>>1,y[w+3+0]=Q+st+1>>1,y[w+0+96]=oe(U,P,C),y[w+0+64]=oe(P,C,V),y[w+0+32]=y[w+1+96]=oe(C,V,X),y[w+1+32]=y[w+2+96]=oe(V,X,K),y[w+2+32]=y[w+3+96]=oe(X,K,Q),y[w+3+32]=oe(K,Q,st)}function fo(y,w){var C=y[w+0-32],P=y[w+1-32],U=y[w+2-32],V=y[w+3-32],X=y[w+4-32],K=y[w+5-32],Q=y[w+6-32],st=y[w+7-32];y[w+0+0]=C+P+1>>1,y[w+1+0]=y[w+0+64]=P+U+1>>1,y[w+2+0]=y[w+1+64]=U+V+1>>1,y[w+3+0]=y[w+2+64]=V+X+1>>1,y[w+0+32]=oe(C,P,U),y[w+1+32]=y[w+0+96]=oe(P,U,V),y[w+2+32]=y[w+1+96]=oe(U,V,X),y[w+3+32]=y[w+2+96]=oe(V,X,K),y[w+3+64]=oe(X,K,Q),y[w+3+96]=oe(K,Q,st)}function ef(y,w){var C=y[w-1+0],P=y[w-1+32],U=y[w-1+64],V=y[w-1+96];y[w+0+0]=C+P+1>>1,y[w+2+0]=y[w+0+32]=P+U+1>>1,y[w+2+32]=y[w+0+64]=U+V+1>>1,y[w+1+0]=oe(C,P,U),y[w+3+0]=y[w+1+32]=oe(P,U,V),y[w+3+32]=y[w+1+64]=oe(U,V,V),y[w+3+64]=y[w+2+64]=y[w+0+96]=y[w+1+96]=y[w+2+96]=y[w+3+96]=V}function nf(y,w){var C=y[w-1+0],P=y[w-1+32],U=y[w-1+64],V=y[w-1+96],X=y[w-1-32],K=y[w+0-32],Q=y[w+1-32],st=y[w+2-32];y[w+0+0]=y[w+2+32]=C+X+1>>1,y[w+0+32]=y[w+2+64]=P+C+1>>1,y[w+0+64]=y[w+2+96]=U+P+1>>1,y[w+0+96]=V+U+1>>1,y[w+3+0]=oe(K,Q,st),y[w+2+0]=oe(X,K,Q),y[w+1+0]=y[w+3+32]=oe(C,X,K),y[w+1+32]=y[w+3+64]=oe(P,C,X),y[w+1+64]=y[w+3+96]=oe(U,P,C),y[w+1+96]=oe(V,U,P)}function rf(y,w){var C;for(C=0;8>C;++C)r(y,w+32*C,y,w-32,8)}function ho(y,w){var C;for(C=0;8>C;++C)c(y,w,y[w-1],8),w+=32}function xs(y,w,C){var P;for(P=0;8>P;++P)c(w,C+32*P,y,8)}function Rr(y,w){var C,P=8;for(C=0;8>C;++C)P+=y[w+C-32]+y[w-1+32*C];xs(P>>4,y,w)}function sf(y,w){var C,P=4;for(C=0;8>C;++C)P+=y[w+C-32];xs(P>>3,y,w)}function Ss(y,w){var C,P=4;for(C=0;8>C;++C)P+=y[w-1+32*C];xs(P>>3,y,w)}function po(y,w){xs(128,y,w)}function ca(y,w,C){var P=y[w-C],U=y[w+0],V=3*(U-P)+ff[1020+y[w-2*C]-y[w+C]],X=ec[112+(V+4>>3)];y[w-C]=ei[255+P+ec[112+(V+3>>3)]],y[w+0]=ei[255+U-X]}function Hl(y,w,C,P){var U=y[w+0],V=y[w+C];return mi[255+y[w-2*C]-y[w-C]]>P||mi[255+V-U]>P}function Wl(y,w,C,P){return 4*mi[255+y[w-C]-y[w+0]]+mi[255+y[w-2*C]-y[w+C]]<=P}function Vl(y,w,C,P,U){var V=y[w-3*C],X=y[w-2*C],K=y[w-C],Q=y[w+0],st=y[w+C],yt=y[w+2*C],At=y[w+3*C];return 4*mi[255+K-Q]+mi[255+X-st]>P?0:mi[255+y[w-4*C]-V]<=U&&mi[255+V-X]<=U&&mi[255+X-K]<=U&&mi[255+At-yt]<=U&&mi[255+yt-st]<=U&&mi[255+st-Q]<=U}function Yl(y,w,C,P){var U=2*P+1;for(P=0;16>P;++P)Wl(y,w+P,C,U)&&ca(y,w+P,C)}function Qi(y,w,C,P){var U=2*P+1;for(P=0;16>P;++P)Wl(y,w+P*C,1,U)&&ca(y,w+P*C,1)}function vr(y,w,C,P){var U;for(U=3;0<U;--U)Yl(y,w+=4*C,C,P)}function af(y,w,C,P){var U;for(U=3;0<U;--U)Qi(y,w+=4,C,P)}function jr(y,w,C,P,U,V,X,K){for(V=2*V+1;0<U--;){if(Vl(y,w,C,V,X))if(Hl(y,w,C,K))ca(y,w,C);else{var Q=y,st=w,yt=C,At=Q[st-2*yt],Tt=Q[st-yt],_t=Q[st+0],Dt=Q[st+yt],Lt=Q[st+2*yt],bt=27*(Ft=ff[1020+3*(_t-Tt)+ff[1020+At-Dt]])+63>>7,wt=18*Ft+63>>7,Ft=9*Ft+63>>7;Q[st-3*yt]=ei[255+Q[st-3*yt]+Ft],Q[st-2*yt]=ei[255+At+wt],Q[st-yt]=ei[255+Tt+bt],Q[st+0]=ei[255+_t-bt],Q[st+yt]=ei[255+Dt-wt],Q[st+2*yt]=ei[255+Lt-Ft]}w+=P}}function Oi(y,w,C,P,U,V,X,K){for(V=2*V+1;0<U--;){if(Vl(y,w,C,V,X))if(Hl(y,w,C,K))ca(y,w,C);else{var Q=y,st=w,yt=C,At=Q[st-yt],Tt=Q[st+0],_t=Q[st+yt],Dt=ec[112+((Lt=3*(Tt-At))+4>>3)],Lt=ec[112+(Lt+3>>3)],bt=Dt+1>>1;Q[st-2*yt]=ei[255+Q[st-2*yt]+bt],Q[st-yt]=ei[255+At+Lt],Q[st+0]=ei[255+Tt-Dt],Q[st+yt]=ei[255+_t-bt]}w+=P}}function go(y,w,C,P,U,V){jr(y,w,C,1,16,P,U,V)}function Cs(y,w,C,P,U,V){jr(y,w,1,C,16,P,U,V)}function of(y,w,C,P,U,V){var X;for(X=3;0<X;--X)Oi(y,w+=4*C,C,1,16,P,U,V)}function ua(y,w,C,P,U,V){var X;for(X=3;0<X;--X)Oi(y,w+=4,1,C,16,P,U,V)}function lf(y,w,C,P,U,V,X,K){jr(y,w,U,1,8,V,X,K),jr(C,P,U,1,8,V,X,K)}function mo(y,w,C,P,U,V,X,K){jr(y,w,1,U,8,V,X,K),jr(C,P,1,U,8,V,X,K)}function vo(y,w,C,P,U,V,X,K){Oi(y,w+4*U,U,1,8,V,X,K),Oi(C,P+4*U,U,1,8,V,X,K)}function Xl(y,w,C,P,U,V,X,K){Oi(y,w+4,1,U,8,V,X,K),Oi(C,P+4,1,U,8,V,X,K)}function fa(){this.ba=new xi,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ve,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function yo(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function bo(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Gl(){this.ua=0,this.Wa=new I,this.vb=new I,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new M}function cf(){this.xb=this.a=0,this.l=new ra,this.ca=new xi,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new T,this.Pb=0,this.wd=new T,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Gl,this.ab=0,this.gc=v(4,bo),this.Oc=0}function ha(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ra,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function As(y,w,C,P,U,V,X){for(y=y==null?0:y[w+0],w=0;w<X;++w)U[V+w]=y+C[P+w]&255,y=U[V+w]}function wo(y,w,C,P,U,V,X){var K;if(y==null)As(null,null,C,P,U,V,X);else for(K=0;K<X;++K)U[V+K]=y[w+K]+C[P+K]&255}function Br(y,w,C,P,U,V,X){if(y==null)As(null,null,C,P,U,V,X);else{var K,Q=y[w+0],st=Q,yt=Q;for(K=0;K<X;++K)st=yt+(Q=y[w+K])-st,yt=C[P+K]+(-256&st?0>st?0:255:st)&255,st=Q,U[V+K]=yt}}function _o(y,w,C,P){var U=w.width,V=w.o;if(t(y!=null&&w!=null),0>C||0>=P||C+P>V)return null;if(!y.Cc){if(y.ga==null){var X;if(y.ga=new ha,(X=y.ga==null)||(X=w.width*w.o,t(y.Gb.length==0),y.Gb=p(X),y.Uc=0,y.Gb==null?X=0:(y.mb=y.Gb,y.nb=y.Uc,y.rc=null,X=1),X=!X),!X){X=y.ga;var K=y.Fa,Q=y.P,st=y.qc,yt=y.mb,At=y.nb,Tt=Q+1,_t=st-1,Dt=X.l;if(t(K!=null&&yt!=null&&w!=null),Vr[0]=null,Vr[1]=As,Vr[2]=wo,Vr[3]=Br,X.ca=yt,X.tb=At,X.c=w.width,X.i=w.height,t(0<X.c&&0<X.i),1>=st)w=0;else if(X.$a=K[Q+0]>>0&3,X.Z=K[Q+0]>>2&3,X.Lc=K[Q+0]>>4&3,Q=K[Q+0]>>6&3,0>X.$a||1<X.$a||4<=X.Z||1<X.Lc||Q)w=0;else if(Dt.put=Yi,Dt.ac=xn,Dt.bc=Xi,Dt.ma=X,Dt.width=w.width,Dt.height=w.height,Dt.Da=w.Da,Dt.v=w.v,Dt.va=w.va,Dt.j=w.j,Dt.o=w.o,X.$a)t:{t(X.$a==1),w=fi();e:for(;;){if(w==null){w=0;break t}if(t(X!=null),X.mc=w,w.c=X.c,w.i=X.i,w.l=X.l,w.l.ma=X,w.l.width=X.c,w.l.height=X.i,w.a=0,ct(w.m,K,Tt,_t),!$i(X.c,X.i,1,w,null)||(w.ab==1&&w.gc[0].hc==3&&gr(w.s)?(X.ic=1,K=w.c*w.i,w.Ta=null,w.Ua=0,w.V=p(K),w.Ba=0,w.V==null?(w.a=1,w=0):w=1):(X.ic=0,w=_s(w,X.c)),!w))break e;w=1;break t}X.mc=null,w=0}else w=_t>=X.c*X.i;X=!w}if(X)return null;y.ga.Lc!=1?y.Ga=0:P=V-C}t(y.ga!=null),t(C+P<=V);t:{if(w=(K=y.ga).c,V=K.l.o,K.$a==0){if(Tt=y.rc,_t=y.Vc,Dt=y.Fa,Q=y.P+1+C*w,st=y.mb,yt=y.nb+C*w,t(Q<=y.P+y.qc),K.Z!=0)for(t(Vr[K.Z]!=null),X=0;X<P;++X)Vr[K.Z](Tt,_t,Dt,Q,st,yt,w),Tt=st,_t=yt,yt+=w,Q+=w;else for(X=0;X<P;++X)r(st,yt,Dt,Q,w),Tt=st,_t=yt,yt+=w,Q+=w;y.rc=Tt,y.Vc=_t}else{if(t(K.mc!=null),w=C+P,t((X=K.mc)!=null),t(w<=X.i),X.C>=w)w=1;else if(K.ic||St(),K.ic){K=X.V,Tt=X.Ba,_t=X.c;var Lt=X.i,bt=(Dt=1,Q=X.$/_t,st=X.$%_t,yt=X.m,At=X.s,X.$),wt=_t*Lt,Ft=_t*w,Rt=At.wc,It=bt<Ft?sn(At,st,Q):null;t(bt<=wt),t(w<=Lt),t(gr(At));e:for(;;){for(;!yt.h&&bt<Ft;){if(st&Rt||(It=sn(At,st,Q)),t(It!=null),W(yt),256>(Lt=Vn(It.G[0],It.H[0],yt)))K[Tt+bt]=Lt,++bt,++st>=_t&&(st=0,++Q<=w&&!(Q%16)&&Ai(X,Q));else{if(!(280>Lt)){Dt=0;break e}Lt=Si(Lt-256,yt);var Xt,Ht=Vn(It.G[4],It.H[4],yt);if(W(yt),!(bt>=(Ht=Gi(_t,Ht=Si(Ht,yt)))&&wt-bt>=Lt)){Dt=0;break e}for(Xt=0;Xt<Lt;++Xt)K[Tt+bt+Xt]=K[Tt+bt+Xt-Ht];for(bt+=Lt,st+=Lt;st>=_t;)st-=_t,++Q<=w&&!(Q%16)&&Ai(X,Q);bt<Ft&&st&Rt&&(It=sn(At,st,Q))}t(yt.h==k(yt))}Ai(X,Q>w?w:Q);break e}!Dt||yt.h&&bt<wt?(Dt=0,X.a=yt.h?5:3):X.$=bt,w=Dt}else w=Ti(X,X.V,X.Ba,X.c,X.i,w,Zs);if(!w){P=0;break t}}C+P>=V&&(y.Cc=1),P=1}if(!P)return null;if(y.Cc&&((P=y.ga)!=null&&(P.mc=null),y.ga=null,0<y.Ga))return alert("todo:WebPDequantizeLevels"),null}return y.nb+C*U}function S(y,w,C,P,U,V){for(;0<U--;){var X,K=y,Q=w+(C?1:0),st=y,yt=w+(C?0:3);for(X=0;X<P;++X){var At=st[yt+4*X];At!=255&&(At*=32897,K[Q+4*X+0]=K[Q+4*X+0]*At>>23,K[Q+4*X+1]=K[Q+4*X+1]*At>>23,K[Q+4*X+2]=K[Q+4*X+2]*At>>23)}w+=V}}function z(y,w,C,P,U){for(;0<P--;){var V;for(V=0;V<C;++V){var X=y[w+2*V+0],K=15&(st=y[w+2*V+1]),Q=4369*K,st=(240&st|st>>4)*Q>>16;y[w+2*V+0]=(240&X|X>>4)*Q>>16&240|(15&X|X<<4)*Q>>16>>4&15,y[w+2*V+1]=240&st|K}w+=U}}function ot(y,w,C,P,U,V,X,K){var Q,st,yt=255;for(st=0;st<U;++st){for(Q=0;Q<P;++Q){var At=y[w+Q];V[X+4*Q]=At,yt&=At}w+=C,X+=K}return yt!=255}function mt(y,w,C,P,U){var V;for(V=0;V<U;++V)C[P+V]=y[w+V]>>8}function St(){gi=S,Re=z,je=ot,Qe=mt}function Nt(y,w,C){F[y]=function(P,U,V,X,K,Q,st,yt,At,Tt,_t,Dt,Lt,bt,wt,Ft,Rt){var It,Xt=Rt-1>>1,Ht=K[Q+0]|st[yt+0]<<16,ee=At[Tt+0]|_t[Dt+0]<<16;t(P!=null);var Wt=3*Ht+ee+131074>>2;for(w(P[U+0],255&Wt,Wt>>16,Lt,bt),V!=null&&(Wt=3*ee+Ht+131074>>2,w(V[X+0],255&Wt,Wt>>16,wt,Ft)),It=1;It<=Xt;++It){var Ae=K[Q+It]|st[yt+It]<<16,Le=At[Tt+It]|_t[Dt+It]<<16,xe=Ht+Ae+ee+Le+524296,be=xe+2*(Ae+ee)>>3;Wt=be+Ht>>1,Ht=(xe=xe+2*(Ht+Le)>>3)+Ae>>1,w(P[U+2*It-1],255&Wt,Wt>>16,Lt,bt+(2*It-1)*C),w(P[U+2*It-0],255&Ht,Ht>>16,Lt,bt+(2*It-0)*C),V!=null&&(Wt=xe+ee>>1,Ht=be+Le>>1,w(V[X+2*It-1],255&Wt,Wt>>16,wt,Ft+(2*It-1)*C),w(V[X+2*It+0],255&Ht,Ht>>16,wt,Ft+(2*It+0)*C)),Ht=Ae,ee=Le}1&Rt||(Wt=3*Ht+ee+131074>>2,w(P[U+Rt-1],255&Wt,Wt>>16,Lt,bt+(Rt-1)*C),V!=null&&(Wt=3*ee+Ht+131074>>2,w(V[X+Rt-1],255&Wt,Wt>>16,wt,Ft+(Rt-1)*C)))}}function jt(){vi[nc]=rv,vi[ic]=Qd,vi[Xd]=sv,vi[rc]=Zd,vi[sc]=tp,vi[hf]=ep,vi[Gd]=av,vi[df]=Qd,vi[pf]=Zd,vi[ac]=tp,vi[gf]=ep}function Yt(y){return y&~ov?0>y?0:255:y>>np}function Jt(y,w){return Yt((19077*y>>8)+(26149*w>>8)-14234)}function he(y,w,C){return Yt((19077*y>>8)-(6419*w>>8)-(13320*C>>8)+8708)}function ce(y,w){return Yt((19077*y>>8)+(33050*w>>8)-17685)}function we(y,w,C,P,U){P[U+0]=Jt(y,C),P[U+1]=he(y,w,C),P[U+2]=ce(y,w)}function He(y,w,C,P,U){P[U+0]=ce(y,w),P[U+1]=he(y,w,C),P[U+2]=Jt(y,C)}function Ye(y,w,C,P,U){var V=he(y,w,C);w=V<<3&224|ce(y,w)>>3,P[U+0]=248&Jt(y,C)|V>>5,P[U+1]=w}function an(y,w,C,P,U){var V=240&ce(y,w)|15;P[U+0]=240&Jt(y,C)|he(y,w,C)>>4,P[U+1]=V}function On(y,w,C,P,U){P[U+0]=255,we(y,w,C,P,U+1)}function mn(y,w,C,P,U){He(y,w,C,P,U),P[U+3]=255}function Li(y,w,C,P,U){we(y,w,C,P,U),P[U+3]=255}function ti(y,w){return 0>y?0:y>w?w:y}function Zi(y,w,C){F[y]=function(P,U,V,X,K,Q,st,yt,At){for(var Tt=yt+(-2&At)*C;yt!=Tt;)w(P[U+0],V[X+0],K[Q+0],st,yt),w(P[U+1],V[X+0],K[Q+0],st,yt+C),U+=2,++X,++Q,yt+=2*C;1&At&&w(P[U+0],V[X+0],K[Q+0],st,yt)}}function Kl(y,w,C){return C==0?y==0?w==0?6:5:w==0?4:0:C}function xo(y,w,C,P,U){switch(y>>>30){case 3:wr(w,C,P,U,0);break;case 2:Je(w,C,P,U);break;case 1:Bn(w,C,P,U)}}function So(y,w){var C,P,U=w.M,V=w.Nb,X=y.oc,K=y.pc+40,Q=y.oc,st=y.pc+584,yt=y.oc,At=y.pc+600;for(C=0;16>C;++C)X[K+32*C-1]=129;for(C=0;8>C;++C)Q[st+32*C-1]=129,yt[At+32*C-1]=129;for(0<U?X[K-1-32]=Q[st-1-32]=yt[At-1-32]=129:(c(X,K-32-1,127,21),c(Q,st-32-1,127,9),c(yt,At-32-1,127,9)),P=0;P<y.za;++P){var Tt=w.ya[w.aa+P];if(0<P){for(C=-1;16>C;++C)r(X,K+32*C-4,X,K+32*C+12,4);for(C=-1;8>C;++C)r(Q,st+32*C-4,Q,st+32*C+4,4),r(yt,At+32*C-4,yt,At+32*C+4,4)}var _t=y.Gd,Dt=y.Hd+P,Lt=Tt.ad,bt=Tt.Hc;if(0<U&&(r(X,K-32,_t[Dt].y,0,16),r(Q,st-32,_t[Dt].f,0,8),r(yt,At-32,_t[Dt].ea,0,8)),Tt.Za){var wt=X,Ft=K-32+16;for(0<U&&(P>=y.za-1?c(wt,Ft,_t[Dt].y[15],4):r(wt,Ft,_t[Dt+1].y,0,4)),C=0;4>C;C++)wt[Ft+128+C]=wt[Ft+256+C]=wt[Ft+384+C]=wt[Ft+0+C];for(C=0;16>C;++C,bt<<=2)wt=X,Ft=K+rp[C],ki[Tt.Ob[C]](wt,Ft),xo(bt,Lt,16*+C,wt,Ft)}else if(wt=Kl(P,U,Tt.Ob[0]),Wr[wt](X,K),bt!=0)for(C=0;16>C;++C,bt<<=2)xo(bt,Lt,16*+C,X,K+rp[C]);for(C=Tt.Gc,wt=Kl(P,U,Tt.Dd),xr[wt](Q,st),xr[wt](yt,At),bt=Lt,wt=Q,Ft=st,255&(Tt=C>>0)&&(170&Tt?Oo(bt,256,wt,Ft):di(bt,256,wt,Ft)),Tt=yt,bt=At,255&(C>>=8)&&(170&C?Oo(Lt,320,Tt,bt):di(Lt,320,Tt,bt)),U<y.Ub-1&&(r(_t[Dt].y,0,X,K+480,16),r(_t[Dt].f,0,Q,st+224,8),r(_t[Dt].ea,0,yt,At+224,8)),C=8*V*y.B,_t=y.sa,Dt=y.ta+16*P+16*V*y.R,Lt=y.qa,Tt=y.ra+8*P+C,bt=y.Ha,wt=y.Ia+8*P+C,C=0;16>C;++C)r(_t,Dt+C*y.R,X,K+32*C,16);for(C=0;8>C;++C)r(Lt,Tt+C*y.B,Q,st+32*C,8),r(bt,wt+C*y.B,yt,At+32*C,8)}}function da(y,w,C,P,U,V,X,K,Q){var st=[0],yt=[0],At=0,Tt=Q!=null?Q.kd:0,_t=Q!=null?Q:new yo;if(y==null||12>C)return 7;_t.data=y,_t.w=w,_t.ha=C,w=[w],C=[C],_t.gb=[_t.gb];t:{var Dt=w,Lt=C,bt=_t.gb;if(t(y!=null),t(Lt!=null),t(bt!=null),bt[0]=0,12<=Lt[0]&&!n(y,Dt[0],"RIFF")){if(n(y,Dt[0]+8,"WEBP")){bt=3;break t}var wt=N(y,Dt[0]+4);if(12>wt||4294967286<wt){bt=3;break t}if(Tt&&wt>Lt[0]-8){bt=7;break t}bt[0]=wt,Dt[0]+=12,Lt[0]-=12}bt=0}if(bt!=0)return bt;for(wt=0<_t.gb[0],C=C[0];;){t:{var Ft=y;Lt=w,bt=C;var Rt=st,It=yt,Xt=Dt=[0];if((Wt=At=[At])[0]=0,8>bt[0])bt=7;else{if(!n(Ft,Lt[0],"VP8X")){if(N(Ft,Lt[0]+4)!=10){bt=3;break t}if(18>bt[0]){bt=7;break t}var Ht=N(Ft,Lt[0]+8),ee=1+xt(Ft,Lt[0]+12);if(2147483648<=ee*(Ft=1+xt(Ft,Lt[0]+15))){bt=3;break t}Xt!=null&&(Xt[0]=Ht),Rt!=null&&(Rt[0]=ee),It!=null&&(It[0]=Ft),Lt[0]+=18,bt[0]-=18,Wt[0]=1}bt=0}}if(At=At[0],Dt=Dt[0],bt!=0)return bt;if(Lt=!!(2&Dt),!wt&&At)return 3;if(V!=null&&(V[0]=!!(16&Dt)),X!=null&&(X[0]=Lt),K!=null&&(K[0]=0),X=st[0],Dt=yt[0],At&&Lt&&Q==null){bt=0;break}if(4>C){bt=7;break}if(wt&&At||!wt&&!At&&!n(y,w[0],"ALPH")){C=[C],_t.na=[_t.na],_t.P=[_t.P],_t.Sa=[_t.Sa];t:{Ht=y,bt=w,wt=C;var Wt=_t.gb;Rt=_t.na,It=_t.P,Xt=_t.Sa,ee=22,t(Ht!=null),t(wt!=null),Ft=bt[0];var Ae=wt[0];for(t(Rt!=null),t(Xt!=null),Rt[0]=null,It[0]=null,Xt[0]=0;;){if(bt[0]=Ft,wt[0]=Ae,8>Ae){bt=7;break t}var Le=N(Ht,Ft+4);if(4294967286<Le){bt=3;break t}var xe=8+Le+1&-2;if(ee+=xe,0<Wt&&ee>Wt){bt=3;break t}if(!n(Ht,Ft,"VP8 ")||!n(Ht,Ft,"VP8L")){bt=0;break t}if(Ae[0]<xe){bt=7;break t}n(Ht,Ft,"ALPH")||(Rt[0]=Ht,It[0]=Ft+8,Xt[0]=Le),Ft+=xe,Ae-=xe}}if(C=C[0],_t.na=_t.na[0],_t.P=_t.P[0],_t.Sa=_t.Sa[0],bt!=0)break}C=[C],_t.Ja=[_t.Ja],_t.xa=[_t.xa];t:if(Wt=y,bt=w,wt=C,Rt=_t.gb[0],It=_t.Ja,Xt=_t.xa,Ht=bt[0],Ft=!n(Wt,Ht,"VP8 "),ee=!n(Wt,Ht,"VP8L"),t(Wt!=null),t(wt!=null),t(It!=null),t(Xt!=null),8>wt[0])bt=7;else{if(Ft||ee){if(Wt=N(Wt,Ht+4),12<=Rt&&Wt>Rt-12){bt=3;break t}if(Tt&&Wt>wt[0]-8){bt=7;break t}It[0]=Wt,bt[0]+=8,wt[0]-=8,Xt[0]=ee}else Xt[0]=5<=wt[0]&&Wt[Ht+0]==47&&!(Wt[Ht+4]>>5),It[0]=wt[0];bt=0}if(C=C[0],_t.Ja=_t.Ja[0],_t.xa=_t.xa[0],w=w[0],bt!=0)break;if(4294967286<_t.Ja)return 3;if(K==null||Lt||(K[0]=_t.xa?2:1),X=[X],Dt=[Dt],_t.xa){if(5>C){bt=7;break}K=X,Tt=Dt,Lt=V,y==null||5>C?y=0:5<=C&&y[w+0]==47&&!(y[w+4]>>5)?(wt=[0],Wt=[0],Rt=[0],ct(It=new T,y,w,C),ne(It,wt,Wt,Rt)?(K!=null&&(K[0]=wt[0]),Tt!=null&&(Tt[0]=Wt[0]),Lt!=null&&(Lt[0]=Rt[0]),y=1):y=0):y=0}else{if(10>C){bt=7;break}K=Dt,y==null||10>C||!Fl(y,w+3,C-3)?y=0:(Tt=y[w+0]|y[w+1]<<8|y[w+2]<<16,Lt=16383&(y[w+7]<<8|y[w+6]),y=16383&(y[w+9]<<8|y[w+8]),1&Tt||3<(Tt>>1&7)||!(Tt>>4&1)||Tt>>5>=_t.Ja||!Lt||!y?y=0:(X&&(X[0]=Lt),K&&(K[0]=y),y=1))}if(!y||(X=X[0],Dt=Dt[0],At&&(st[0]!=X||yt[0]!=Dt)))return 3;Q!=null&&(Q[0]=_t,Q.offset=w-Q.w,t(4294967286>w-Q.w),t(Q.offset==Q.ha-C));break}return bt==0||bt==7&&At&&Q==null?(V!=null&&(V[0]|=_t.na!=null&&0<_t.na.length),P!=null&&(P[0]=X),U!=null&&(U[0]=Dt),0):bt}function Co(y,w,C){var P=w.width,U=w.height,V=0,X=0,K=P,Q=U;if(w.Da=y!=null&&0<y.Da,w.Da&&(K=y.cd,Q=y.bd,V=y.v,X=y.j,11>C||(V&=-2,X&=-2),0>V||0>X||0>=K||0>=Q||V+K>P||X+Q>U))return 0;if(w.v=V,w.j=X,w.va=V+K,w.o=X+Q,w.U=K,w.T=Q,w.da=y!=null&&0<y.da,w.da){if(!it(K,Q,C=[y.ib],V=[y.hb]))return 0;w.ib=C[0],w.hb=V[0]}return w.ob=y!=null&&y.ob,w.Kb=y==null||!y.Sd,w.da&&(w.ob=w.ib<3*P/4&&w.hb<3*U/4,w.Kb=0),1}function Ao(y){if(y==null)return 2;if(11>y.S){var w=y.f.RGBA;w.fb+=(y.height-1)*w.A,w.A=-w.A}else w=y.f.kb,y=y.height,w.O+=(y-1)*w.fa,w.fa=-w.fa,w.N+=(y-1>>1)*w.Ab,w.Ab=-w.Ab,w.W+=(y-1>>1)*w.Db,w.Db=-w.Db,w.F!=null&&(w.J+=(y-1)*w.lb,w.lb=-w.lb);return 0}function pa(y,w,C,P){if(P==null||0>=y||0>=w)return 2;if(C!=null){if(C.Da){var U=C.cd,V=C.bd,X=-2&C.v,K=-2&C.j;if(0>X||0>K||0>=U||0>=V||X+U>y||K+V>w)return 2;y=U,w=V}if(C.da){if(!it(y,w,U=[C.ib],V=[C.hb]))return 2;y=U[0],w=V[0]}}P.width=y,P.height=w;t:{var Q=P.width,st=P.height;if(y=P.S,0>=Q||0>=st||!(y>=nc&&13>y))y=2;else{if(0>=P.Rd&&P.sd==null){X=V=U=w=0;var yt=(K=Q*sp[y])*st;if(11>y||(V=(st+1)/2*(w=(Q+1)/2),y==12&&(X=(U=Q)*st)),(st=p(yt+2*V+X))==null){y=1;break t}P.sd=st,11>y?((Q=P.f.RGBA).eb=st,Q.fb=0,Q.A=K,Q.size=yt):((Q=P.f.kb).y=st,Q.O=0,Q.fa=K,Q.Fd=yt,Q.f=st,Q.N=0+yt,Q.Ab=w,Q.Cd=V,Q.ea=st,Q.W=0+yt+V,Q.Db=w,Q.Ed=V,y==12&&(Q.F=st,Q.J=0+yt+2*V),Q.Tc=X,Q.lb=U)}if(w=1,U=P.S,V=P.width,X=P.height,U>=nc&&13>U)if(11>U)y=P.f.RGBA,w&=(K=Math.abs(y.A))*(X-1)+V<=y.size,w&=K>=V*sp[U],w&=y.eb!=null;else{y=P.f.kb,K=(V+1)/2,yt=(X+1)/2,Q=Math.abs(y.fa),st=Math.abs(y.Ab);var At=Math.abs(y.Db),Tt=Math.abs(y.lb),_t=Tt*(X-1)+V;w&=Q*(X-1)+V<=y.Fd,w&=st*(yt-1)+K<=y.Cd,w=(w&=At*(yt-1)+K<=y.Ed)&Q>=V&st>=K&At>=K,w&=y.y!=null,w&=y.f!=null,w&=y.ea!=null,U==12&&(w&=Tt>=V,w&=_t<=y.Tc,w&=y.F!=null)}else w=0;y=w?0:2}}return y!=0||C!=null&&C.fd&&(y=Ao(P)),y}var Sn=64,ga=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ma=24,va=32,To=8,Xn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];vt("Predictor0","PredictorAdd0"),F.Predictor0=function(){return 4278190080},F.Predictor1=function(y){return y},F.Predictor2=function(y,w,C){return w[C+0]},F.Predictor3=function(y,w,C){return w[C+1]},F.Predictor4=function(y,w,C){return w[C-1]},F.Predictor5=function(y,w,C){return rt(rt(y,w[C+1]),w[C+0])},F.Predictor6=function(y,w,C){return rt(y,w[C-1])},F.Predictor7=function(y,w,C){return rt(y,w[C+0])},F.Predictor8=function(y,w,C){return rt(w[C-1],w[C+0])},F.Predictor9=function(y,w,C){return rt(w[C+0],w[C+1])},F.Predictor10=function(y,w,C){return rt(rt(y,w[C-1]),rt(w[C+0],w[C+1]))},F.Predictor11=function(y,w,C){var P=w[C+0];return 0>=Et(P>>24&255,y>>24&255,(w=w[C-1])>>24&255)+Et(P>>16&255,y>>16&255,w>>16&255)+Et(P>>8&255,y>>8&255,w>>8&255)+Et(255&P,255&y,255&w)?P:y},F.Predictor12=function(y,w,C){var P=w[C+0];return(Ct((y>>24&255)+(P>>24&255)-((w=w[C-1])>>24&255))<<24|Ct((y>>16&255)+(P>>16&255)-(w>>16&255))<<16|Ct((y>>8&255)+(P>>8&255)-(w>>8&255))<<8|Ct((255&y)+(255&P)-(255&w)))>>>0},F.Predictor13=function(y,w,C){var P=w[C-1];return(Ot((y=rt(y,w[C+0]))>>24&255,P>>24&255)<<24|Ot(y>>16&255,P>>16&255)<<16|Ot(y>>8&255,P>>8&255)<<8|Ot(y>>0&255,P>>0&255))>>>0};var uf=F.PredictorAdd0;F.PredictorAdd1=Mt,vt("Predictor2","PredictorAdd2"),vt("Predictor3","PredictorAdd3"),vt("Predictor4","PredictorAdd4"),vt("Predictor5","PredictorAdd5"),vt("Predictor6","PredictorAdd6"),vt("Predictor7","PredictorAdd7"),vt("Predictor8","PredictorAdd8"),vt("Predictor9","PredictorAdd9"),vt("Predictor10","PredictorAdd10"),vt("Predictor11","PredictorAdd11"),vt("Predictor12","PredictorAdd12"),vt("Predictor13","PredictorAdd13");var Po=F.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(y){return y>>8&255},function(y){return y}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(y){return y},function(y){return y>>8&255});var $l,hi=F.ColorIndexInverseTransform,ya=F.MapARGB,Jl=F.VP8LColorIndexInverseTransformAlpha,Ql=F.MapAlpha,Ur=F.VP8LPredictorsAdd=[];Ur.length=16,(F.VP8LPredictors=[]).length=16,(F.VP8LPredictorsAdd_C=[]).length=16,(F.VP8LPredictors_C=[]).length=16;var Ts,Gn,jn,zr,yr,br,ba,wr,Je,Oo,Bn,di,wa,Zl,Lo,Ps,Os,qr,Ls,_a,ks,Hr,ko,pi,gi,Re,je,Qe,pn=p(511),_r=p(2041),Eo=p(225),xa=p(767),tc=0,ff=_r,ec=Eo,ei=xa,mi=pn,nc=0,ic=1,Xd=2,rc=3,sc=4,hf=5,Gd=6,df=7,pf=8,ac=9,gf=10,W2=[2,3,7],V2=[3,3,11],Kd=[280,256,256,256,40],Y2=[0,1,1,1,0],X2=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],G2=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],K2=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$2=8,mf=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],vf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],No=null,J2=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Q2=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],$d=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Z2=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ev=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Wr=[],ki=[],xr=[],iv=1,Jd=2,Vr=[],vi=[];Nt("UpsampleRgbLinePair",we,3),Nt("UpsampleBgrLinePair",He,3),Nt("UpsampleRgbaLinePair",Li,4),Nt("UpsampleBgraLinePair",mn,4),Nt("UpsampleArgbLinePair",On,4),Nt("UpsampleRgba4444LinePair",an,2),Nt("UpsampleRgb565LinePair",Ye,2);var rv=F.UpsampleRgbLinePair,sv=F.UpsampleBgrLinePair,Qd=F.UpsampleRgbaLinePair,Zd=F.UpsampleBgraLinePair,tp=F.UpsampleArgbLinePair,ep=F.UpsampleRgba4444LinePair,av=F.UpsampleRgb565LinePair,oc=16,lc=1<<oc-1,Fo=-227,yf=482,np=6,ov=(256<<np)-1,ip=0,lv=p(256),cv=p(256),uv=p(256),fv=p(256),hv=p(yf-Fo),dv=p(yf-Fo);Zi("YuvToRgbRow",we,3),Zi("YuvToBgrRow",He,3),Zi("YuvToRgbaRow",Li,4),Zi("YuvToBgraRow",mn,4),Zi("YuvToArgbRow",On,4),Zi("YuvToRgba4444Row",an,2),Zi("YuvToRgb565Row",Ye,2);var rp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],cc=[0,2,8],pv=[8,7,6,4,4,2,2,2,1,1,1,1],gv=1;this.WebPDecodeRGBA=function(y,w,C,P,U){var V=ic,X=new fa,K=new xi;X.ba=K,K.S=V,K.width=[K.width],K.height=[K.height];var Q=K.width,st=K.height,yt=new pr;if(yt==null||y==null)var At=2;else t(yt!=null),At=da(y,w,C,yt.width,yt.height,yt.Pd,yt.Qd,yt.format,null);if(At!=0?Q=0:(Q!=null&&(Q[0]=yt.width[0]),st!=null&&(st[0]=yt.height[0]),Q=1),Q){K.width=K.width[0],K.height=K.height[0],P!=null&&(P[0]=K.width),U!=null&&(U[0]=K.height);t:{if(P=new ra,(U=new yo).data=y,U.w=w,U.ha=C,U.kd=1,w=[0],t(U!=null),((y=da(U.data,U.w,U.ha,null,null,null,w,null,U))==0||y==7)&&w[0]&&(y=4),(w=y)==0){if(t(X!=null),P.data=U.data,P.w=U.w+U.offset,P.ha=U.ha-U.offset,P.put=Yi,P.ac=xn,P.bc=Xi,P.ma=X,U.xa){if((y=fi())==null){X=1;break t}if(function(Tt,_t){var Dt=[0],Lt=[0],bt=[0];e:for(;;){if(Tt==null)return 0;if(_t==null)return Tt.a=2,0;if(Tt.l=_t,Tt.a=0,ct(Tt.m,_t.data,_t.w,_t.ha),!ne(Tt.m,Dt,Lt,bt)){Tt.a=3;break e}if(Tt.xb=Jd,_t.width=Dt[0],_t.height=Lt[0],!$i(Dt[0],Lt[0],1,Tt,null))break e;return 1}return t(Tt.a!=0),0}(y,P)){if(P=(w=pa(P.width,P.height,X.Oa,X.ba))==0){e:{P=y;n:for(;;){if(P==null){P=0;break e}if(t(P.s.yc!=null),t(P.s.Ya!=null),t(0<P.s.Wb),t((C=P.l)!=null),t((U=C.ma)!=null),P.xb!=0){if(P.ca=U.ba,P.tb=U.tb,t(P.ca!=null),!Co(U.Oa,C,rc)){P.a=2;break n}if(!_s(P,C.width)||C.da)break n;if((C.da||_e(P.ca.S))&&St(),11>P.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),P.ca.f.kb.F!=null&&St()),P.Pb&&0<P.s.ua&&P.s.vb.X==null&&!R(P.s.vb,P.s.Wa.Xa)){P.a=1;break n}P.xb=0}if(!Ti(P,P.V,P.Ba,P.c,P.i,C.o,Qs))break n;U.Dc=P.Ma,P=1;break e}t(P.a!=0),P=0}P=!P}P&&(w=y.a)}else w=y.a}else{if((y=new Wu)==null){X=1;break t}if(y.Fa=U.na,y.P=U.P,y.qc=U.Sa,Il(y,P)){if((w=pa(P.width,P.height,X.Oa,X.ba))==0){if(y.Aa=0,C=X.Oa,t((U=y)!=null),C!=null){if(0<(Q=0>(Q=C.Md)?0:100<Q?255:255*Q/100)){for(st=yt=0;4>st;++st)12>(At=U.pb[st]).lc&&(At.ia=Q*pv[0>At.lc?0:At.lc]>>3),yt|=At.ia;yt&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=C.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}Vu(y,P)||(w=y.a)}}else w=y.a}w==0&&X.Oa!=null&&X.Oa.fd&&(w=Ao(X.ba))}X=w}V=X!=0?null:11>V?K.f.RGBA.eb:K.f.kb.y}else V=null;return V};var sp=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(F,Y){for(var et="",j=0;j<4;j++)et+=String.fromCharCode(F[Y++]);return et}function f(F,Y){return(F[Y+0]<<0|F[Y+1]<<8|F[Y+2]<<16)>>>0}function a(F,Y){return(F[Y+0]<<0|F[Y+1]<<8|F[Y+2]<<16|F[Y+3]<<24)>>>0}new i;var l=[0],s=[0],h=[],g=new i,d=e,m=function(F,Y){var et={},j=0,M=!1,tt=0,Z=0;if(et.frames=[],!function(q,k,O,W){for(var B=0;B<W;B++)if(q[k+B]!=O.charCodeAt(B))return!0;return!1}(F,Y,"RIFF",4)){var ft,ht;for(a(F,Y+=4),Y+=8;Y<F.length;){var pt=u(F,Y),ct=a(F,Y+=4);Y+=4;var D=ct+(1&ct);switch(pt){case"VP8 ":case"VP8L":et.frames[j]===void 0&&(et.frames[j]={}),(T=et.frames[j]).src_off=M?Z:Y-8,T.src_size=tt+ct+8,j++,M&&(M=!1,tt=0,Z=0);break;case"VP8X":(T=et.header={}).feature_flags=F[Y];var $=Y+4;T.canvas_width=1+f(F,$),$+=3,T.canvas_height=1+f(F,$),$+=3;break;case"ALPH":M=!0,tt=D+8,Z=Y-8;break;case"ANIM":(T=et.header).bgcolor=a(F,Y),$=Y+4,T.loop_count=(ft=F)[(ht=$)+0]<<0|ft[ht+1]<<8,$+=2;break;case"ANMF":var nt,T;(T=et.frames[j]={}).offset_x=2*f(F,Y),Y+=3,T.offset_y=2*f(F,Y),Y+=3,T.width=1+f(F,Y),Y+=3,T.height=1+f(F,Y),Y+=3,T.duration=f(F,Y),Y+=3,nt=F[Y++],T.dispose=1&nt,T.blend=nt>>1&1}pt!="ANMF"&&(Y+=D)}return et}}(d,0);m.response=d,m.rgbaoutput=!0,m.dataurl=!1;var b=m.header?m.header:null,_=m.frames?m.frames:null;if(b){b.loop_counter=b.loop_count,l=[b.canvas_height],s=[b.canvas_width];for(var x=0;x<_.length&&_[x].blend!=0;x++);}var A=_[0],L=g.WebPDecodeRGBA(d,A.src_off,A.src_size,s,l);A.rgba=L,A.imgwidth=s[0],A.imgheight=l[0];for(var E=0;E<s[0]*l[0]*4;E++)h[E]=L[E];return this.width=s,this.height=l,this.data=h,this}(function(e){var t=function(){return typeof xh=="function"},n=function(l,s,h,g){var d=4,m=v;switch(g){case e.image_compression.FAST:d=1,m=p;break;case e.image_compression.MEDIUM:d=6,m=o;break;case e.image_compression.SLOW:d=9,m=i}l=r(l,s,h,m);var b=xh(l,{level:d});return e.__addimage__.arrayBufferToBinaryString(b)},r=function(l,s,h,g){for(var d,m,b,_=l.length/s,x=new Uint8Array(l.length+_),A=f(),L=0;L<_;L+=1){if(b=L*s,d=l.subarray(b,b+s),g)x.set(g(d,h,m),b+L);else{for(var E,F=A.length,Y=[];E<F;E+=1)Y[E]=A[E](d,h,m);var et=a(Y.concat());x.set(Y[et],b+L)}m=d}return x},c=function(l){var s=Array.apply([],l);return s.unshift(0),s},p=function(l,s){var h,g=[],d=l.length;g[0]=1;for(var m=0;m<d;m+=1)h=l[m-s]||0,g[m+1]=l[m]-h+256&255;return g},v=function(l,s,h){var g,d=[],m=l.length;d[0]=2;for(var b=0;b<m;b+=1)g=h&&h[b]||0,d[b+1]=l[b]-g+256&255;return d},o=function(l,s,h){var g,d,m=[],b=l.length;m[0]=3;for(var _=0;_<b;_+=1)g=l[_-s]||0,d=h&&h[_]||0,m[_+1]=l[_]+256-(g+d>>>1)&255;return m},i=function(l,s,h){var g,d,m,b,_=[],x=l.length;_[0]=4;for(var A=0;A<x;A+=1)g=l[A-s]||0,d=h&&h[A]||0,m=h&&h[A-s]||0,b=u(g,d,m),_[A+1]=l[A]-b+256&255;return _},u=function(l,s,h){if(l===s&&s===h)return l;var g=Math.abs(s-h),d=Math.abs(l-h),m=Math.abs(l+s-h-h);return g<=d&&g<=m?l:d<=m?s:h},f=function(){return[c,p,v,o,i]},a=function(l){var s=l.map(function(h){return h.reduce(function(g,d){return g+Math.abs(d)},0)});return s.indexOf(Math.min.apply(null,s))};e.processPNG=function(l,s,h,g){var d,m,b,_,x,A,L,E,F,Y,et,j,M,tt,Z,ft=this.decode.FLATE_DECODE,ht="";if(this.__addimage__.isArrayBuffer(l)&&(l=new Uint8Array(l)),this.__addimage__.isArrayBufferView(l)){if(l=(b=new Yb(l)).imgData,m=b.bits,d=b.colorSpace,x=b.colors,[4,6].indexOf(b.colorType)!==-1){if(b.bits===8){F=(E=b.pixelBitlength==32?new Uint32Array(b.decodePixels().buffer):b.pixelBitlength==16?new Uint16Array(b.decodePixels().buffer):new Uint8Array(b.decodePixels().buffer)).length,et=new Uint8Array(F*b.colors),Y=new Uint8Array(F);var pt,ct=b.pixelBitlength-b.bits;for(tt=0,Z=0;tt<F;tt++){for(M=E[tt],pt=0;pt<ct;)et[Z++]=M>>>pt&255,pt+=b.bits;Y[tt]=M>>>pt&255}}if(b.bits===16){F=(E=new Uint32Array(b.decodePixels().buffer)).length,et=new Uint8Array(F*(32/b.pixelBitlength)*b.colors),Y=new Uint8Array(F*(32/b.pixelBitlength)),j=b.colors>1,tt=0,Z=0;for(var D=0;tt<F;)M=E[tt++],et[Z++]=M>>>0&255,j&&(et[Z++]=M>>>16&255,M=E[tt++],et[Z++]=M>>>0&255),Y[D++]=M>>>16&255;m=8}g!==e.image_compression.NONE&&t()?(l=n(et,b.width*b.colors,b.colors,g),L=n(Y,b.width,1,g)):(l=et,L=Y,ft=void 0)}if(b.colorType===3&&(d=this.color_spaces.INDEXED,A=b.palette,b.transparency.indexed)){var $=b.transparency.indexed,nt=0;for(tt=0,F=$.length;tt<F;++tt)nt+=$[tt];if((nt/=255)===F-1&&$.indexOf(0)!==-1)_=[$.indexOf(0)];else if(nt!==F){for(E=b.decodePixels(),Y=new Uint8Array(E.length),tt=0,F=E.length;tt<F;tt++)Y[tt]=$[E[tt]];L=n(Y,b.width,1)}}var T=function(q){var k;switch(q){case e.image_compression.FAST:k=11;break;case e.image_compression.MEDIUM:k=13;break;case e.image_compression.SLOW:k=14;break;default:k=12}return k}(g);return ft===this.decode.FLATE_DECODE&&(ht="/Predictor "+T+" "),ht+="/Colors "+x+" /BitsPerComponent "+m+" /Columns "+b.width,(this.__addimage__.isArrayBuffer(l)||this.__addimage__.isArrayBufferView(l))&&(l=this.__addimage__.arrayBufferToBinaryString(l)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:h,data:l,index:s,filter:ft,decodeParameters:ht,transparency:_,palette:A,sMask:L,predictor:T,width:b.width,height:b.height,bitsPerComponent:m,colorSpace:d}}}})(ie.API),function(e){e.processGIF89A=function(t,n,r,c){var p=new Xb(t),v=p.width,o=p.height,i=[];p.decodeAndBlitFrameRGBA(0,i);var u={data:i,width:v,height:o},f=new Kf(100).encode(u,100);return e.processJPEG.call(this,f,n,r,c)},e.processGIF87A=e.processGIF89A}(ie.API),Fi.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:c,green:r,blue:n,quad:p}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Fi.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Ie.log("bit decode error:"+n)}},Fi.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,c=0;c<t;c++)for(var p=this.datav.getUint8(this.pos++,!0),v=r*this.width*4+8*c*4,o=0;o<8&&8*c+o<this.width;o++){var i=this.palette[p>>7-o&1];this.data[v+4*o]=i.blue,this.data[v+4*o+1]=i.green,this.data[v+4*o+2]=i.red,this.data[v+4*o+3]=255}n!==0&&(this.pos+=4-n)}},Fi.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,c=0;c<e;c++){var p=this.datav.getUint8(this.pos++,!0),v=r*this.width*4+2*c*4,o=p>>4,i=15&p,u=this.palette[o];if(this.data[v]=u.blue,this.data[v+1]=u.green,this.data[v+2]=u.red,this.data[v+3]=255,2*c+1>=this.width)break;u=this.palette[i],this.data[v+4]=u.blue,this.data[v+4+1]=u.green,this.data[v+4+2]=u.red,this.data[v+4+3]=255}t!==0&&(this.pos+=4-t)}},Fi.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var c=this.datav.getUint8(this.pos++,!0),p=n*this.width*4+4*r;if(c<this.palette.length){var v=this.palette[c];this.data[p]=v.red,this.data[p+1]=v.green,this.data[p+2]=v.blue,this.data[p+3]=255}else this.data[p]=255,this.data[p+1]=255,this.data[p+2]=255,this.data[p+3]=255}e!==0&&(this.pos+=4-e)}},Fi.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,c=0;c<this.width;c++){var p=this.datav.getUint16(this.pos,!0);this.pos+=2;var v=(p&t)/t*255|0,o=(p>>5&t)/t*255|0,i=(p>>10&t)/t*255|0,u=p>>15?255:0,f=r*this.width*4+4*c;this.data[f]=i,this.data[f+1]=o,this.data[f+2]=v,this.data[f+3]=u}this.pos+=e}},Fi.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var c=this.bottom_up?r:this.height-1-r,p=0;p<this.width;p++){var v=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(v&t)/t*255|0,i=(v>>5&n)/n*255|0,u=(v>>11)/t*255|0,f=c*this.width*4+4*p;this.data[f]=u,this.data[f+1]=i,this.data[f+2]=o,this.data[f+3]=255}this.pos+=e}},Fi.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=this.datav.getUint8(this.pos++,!0),v=t*this.width*4+4*n;this.data[v]=p,this.data[v+1]=c,this.data[v+2]=r,this.data[v+3]=255}this.pos+=this.width%4}},Fi.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),c=this.datav.getUint8(this.pos++,!0),p=this.datav.getUint8(this.pos++,!0),v=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=p,this.data[o+1]=c,this.data[o+2]=r,this.data[o+3]=v}},Fi.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,c){var p=new Fi(t,!1),v=p.width,o=p.height,i={data:p.getData(),width:v,height:o},u=new Kf(100).encode(i,100);return e.processJPEG.call(this,u,n,r,c)}}(ie.API),Ag.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,c){var p=new Ag(t),v=p.width,o=p.height,i={data:p.getData(),width:v,height:o},u=new Kf(100).encode(i,100);return e.processJPEG.call(this,u,n,r,c)}}(ie.API),ie.API.processRGBA=function(e,t,n){for(var r=e.data,c=r.length,p=new Uint8Array(c/4*3),v=new Uint8Array(c/4),o=0,i=0,u=0;u<c;u+=4){var f=r[u],a=r[u+1],l=r[u+2],s=r[u+3];p[o++]=f,p[o++]=a,p[o++]=l,v[i++]=s}var h=this.__addimage__.arrayBufferToBinaryString(p);return{alpha:this.__addimage__.arrayBufferToBinaryString(v),data:h,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ie.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},La=ie.API,Oc=La.getCharWidthsArray=function(e,t){var n,r,c=(t=t||{}).font||this.internal.getFont(),p=t.fontSize||this.internal.getFontSize(),v=t.charSpace||this.internal.getCharSpace(),o=t.widths?t.widths:c.metadata.Unicode.widths,i=o.fof?o.fof:1,u=t.kerning?t.kerning:c.metadata.Unicode.kerning,f=u.fof?u.fof:1,a=t.doKerning!==!1,l=0,s=e.length,h=0,g=o[0]||i,d=[];for(n=0;n<s;n++)r=e.charCodeAt(n),typeof c.metadata.widthOfString=="function"?d.push((c.metadata.widthOfGlyph(c.metadata.characterToGlyph(r))+v*(1e3/p)||0)/1e3):(l=a&&Ee(u[r])==="object"&&!isNaN(parseInt(u[r][h],10))?u[r][h]/f:0,d.push((o[r]||g)/i+l)),h=r;return d},_g=La.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),c=t.charSpace||this.internal.getCharSpace();return La.processArabic&&(e=La.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,c)/n:Oc.apply(this,arguments).reduce(function(p,v){return p+v},0)},xg=function(e,t,n,r){for(var c=[],p=0,v=e.length,o=0;p!==v&&o+t[p]<n;)o+=t[p],p++;c.push(e.slice(0,p));var i=p;for(o=0;p!==v;)o+t[p]>r&&(c.push(e.slice(i,p)),o=0,i=p),o+=t[p],p++;return i!==p&&c.push(e.slice(i,p)),c},Sg=function(e,t,n){n||(n={});var r,c,p,v,o,i,u,f=[],a=[f],l=n.textIndent||0,s=0,h=0,g=e.split(" "),d=Oc.apply(this,[" ",n])[0];if(i=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var m=Array(i).join(" "),b=[];g.map(function(x){(x=x.split(/\s*\n/)).length>1?b=b.concat(x.map(function(A,L){return(L&&A.length?`
`:"")+A})):b.push(x[0])}),g=b,i=_g.apply(this,[m,n])}for(p=0,v=g.length;p<v;p++){var _=0;if(r=g[p],i&&r[0]==`
`&&(r=r.substr(1),_=1),l+s+(h=(c=Oc.apply(this,[r,n])).reduce(function(x,A){return x+A},0))>t||_){if(h>t){for(o=xg.apply(this,[r,c,t-(l+s),t]),f.push(o.shift()),f=[o.pop()];o.length;)a.push([o.shift()]);h=c.slice(r.length-(f[0]?f[0].length:0)).reduce(function(x,A){return x+A},0)}else f=[r];a.push(f),l=h+i,s=d}else f.push(r),l+=s+h,s=d}return u=i?function(x,A){return(A?m:"")+x.join(" ")}:function(x){return x.join(" ")},a.map(u)},La.splitTextToSize=function(e,t,n){var r,c=(n=n||{}).fontSize||this.internal.getFontSize(),p=function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var a=this.internal.getFont(f.fontName,f.fontStyle);return a.metadata.Unicode?{widths:a.metadata.Unicode.widths||{0:1},kerning:a.metadata.Unicode.kerning||{}}:{font:a.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var v=1*this.internal.scaleFactor*t/c;p.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/c:0,p.lineIndent=n.lineIndent;var o,i,u=[];for(o=0,i=r.length;o<i;o++)u=u.concat(Sg.apply(this,[r[o],v,p]));return u},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},c=0;c<t.length;c++)n[t[c]]="0123456789abcdef"[c],r["0123456789abcdef"[c]]=t[c];var p=function(a){return"0x"+parseInt(a,10).toString(16)},v=e.__fontmetrics__.compress=function(a){var l,s,h,g,d=["{"];for(var m in a){if(l=a[m],isNaN(parseInt(m,10))?s="'"+m+"'":(m=parseInt(m,10),s=(s=p(m).slice(2)).slice(0,-1)+r[s.slice(-1)]),typeof l=="number")l<0?(h=p(l).slice(3),g="-"):(h=p(l).slice(2),g=""),h=g+h.slice(0,-1)+r[h.slice(-1)];else{if(Ee(l)!=="object")throw new Error("Don't know what to do with value type "+Ee(l)+".");h=v(l)}d.push(s+h)}return d.push("}"),d.join("")},o=e.__fontmetrics__.uncompress=function(a){if(typeof a!="string")throw new Error("Invalid argument passed to uncompress.");for(var l,s,h,g,d={},m=1,b=d,_=[],x="",A="",L=a.length-1,E=1;E<L;E+=1)(g=a[E])=="'"?l?(h=l.join(""),l=void 0):l=[]:l?l.push(g):g=="{"?(_.push([b,h]),b={},h=void 0):g=="}"?((s=_.pop())[0][s[1]]=b,h=void 0,b=s[0]):g=="-"?m=-1:h===void 0?n.hasOwnProperty(g)?(x+=n[g],h=parseInt(x,16)*m,m=1,x=""):x+=g:n.hasOwnProperty(g)?(A+=n[g],b[h]=parseInt(A,16)*m,m=1,h=void 0,A=""):A+=g;return d},i={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:i,"Courier-Bold":i,"Courier-BoldOblique":i,"Courier-Oblique":i,Helvetica:i,"Helvetica-Bold":i,"Helvetica-BoldOblique":i,"Helvetica-Oblique":i,"Times-Roman":i,"Times-Bold":i,"Times-BoldItalic":i,"Times-Italic":i}},f={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(a){var l=a.font,s=f.Unicode[l.postScriptName];s&&(l.metadata.Unicode={},l.metadata.Unicode.widths=s.widths,l.metadata.Unicode.kerning=s.kerning);var h=u.Unicode[l.postScriptName];h&&(l.metadata.Unicode.encoding=h,l.encoding=h.codePages[0])}])}(ie.API),function(e){var t=function(n){for(var r=n.length,c=new Uint8Array(r),p=0;p<r;p++)c[p]=n.charCodeAt(p);return c};e.API.events.push(["addFont",function(n){var r=void 0,c=n.font,p=n.instance;if(!c.isStandardFont){if(p===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");if(typeof(r=p.existsFileInVFS(c.postScriptName)===!1?p.loadFile(c.postScriptName):p.getFileFromVFS(c.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+c.postScriptName+"').");(function(v,o){o=/^\x00\x01\x00\x00/.test(o)?t(o):t(tl(o)),v.metadata=e.API.TTFFont.open(o),v.metadata.Unicode=v.metadata.Unicode||{encoding:{},kerning:{},widths:[]},v.metadata.glyIdsUsed=[0]})(c,r)}}])}(ie),function(e){function t(){return(re.canvg?Promise.resolve(re.canvg):Ha(()=>import("./index.es.22ee4465.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ie.API.addSvgAsImage=function(n,r,c,p,v,o,i,u){if(isNaN(r)||isNaN(c))throw Ie.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(p)||isNaN(v))throw Ie.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=p,f.height=v;var a=f.getContext("2d");a.fillStyle="#fff",a.fillRect(0,0,f.width,f.height);var l={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},s=this;return t().then(function(h){return h.fromString(a,n,l)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(h){return h.render(l)}).then(function(){s.addImage(f.toDataURL("image/jpeg",1),r,c,p,v,i,u)})}}(),ie.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var c=0;c<this.internal.pages[r].length;c++)this.internal.pages[r][c]=this.internal.pages[r][c].replace(t,n);return this},ie.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,c,p,v={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(v),i=[],u=0,f=0,a=0;function l(h,g){var d,m=!1;for(d=0;d<h.length;d+=1)h[d]===g&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(v)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var s=o.length;for(a=0;a<s;a+=1)n[o[a]].value=n[o[a]].defaultValue,n[o[a]].explicitSet=!1}if(Ee(e)==="object"){for(c in e)if(p=e[c],l(o,c)&&p!==void 0){if(n[c].type==="boolean"&&typeof p=="boolean")n[c].value=p;else if(n[c].type==="name"&&l(n[c].valueSet,p))n[c].value=p;else if(n[c].type==="integer"&&Number.isInteger(p))n[c].value=p;else if(n[c].type==="array"){for(u=0;u<p.length;u+=1)if(r=!0,p[u].length===1&&typeof p[u][0]=="number")i.push(String(p[u]-1));else if(p[u].length>1){for(f=0;f<p[u].length;f+=1)typeof p[u][f]!="number"&&(r=!1);r===!0&&i.push([p[u][0]-1,p[u][1]-1].join(" "))}n[c].value="["+i.join(" ")+"]"}else n[c].value=n[c].defaultValue;n[c].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var h,g=[];for(h in n)n[h].explicitSet===!0&&(n[h].type==="name"?g.push("/"+h+" /"+n[h].value):g.push("/"+h+" "+n[h].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',c=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),p=unescape(encodeURIComponent(r)),v=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),i=unescape(encodeURIComponent("</x:xmpmeta>")),u=p.length+v.length+o.length+c.length+i.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(c+p+v+o+i),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,c){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:c||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ie.API),function(e){var t=e.API,n=t.pdfEscape16=function(p,v){for(var o,i=v.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],a=0,l=p.length;a<l;++a){if(o=v.metadata.characterToGlyph(p.charCodeAt(a)),v.metadata.glyIdsUsed.push(o),v.metadata.toUnicode[o]=p.charCodeAt(a),i.indexOf(o)==-1&&(i.push(o),i.push([parseInt(v.metadata.widthOfGlyph(o),10)])),o=="0")return f.join("");o=o.toString(16),f.push(u[4-o.length],o)}return f.join("")},r=function(p){var v,o,i,u,f,a,l;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,i=[],a=0,l=(o=Object.keys(p).sort(function(s,h){return s-h})).length;a<l;a++)v=o[a],i.length>=100&&(f+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar`,i=[]),p[v]!==void 0&&p[v]!==null&&typeof p[v].toString=="function"&&(u=("0000"+p[v].toString(16)).slice(-4),v=("0000"+(+v).toString(16)).slice(-4),i.push("<"+v+"><"+u+">"));return i.length&&(f+=`
`+i.length+` beginbfchar
`+i.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(p){(function(v){var o=v.font,i=v.out,u=v.newObject,f=v.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="Identity-H"){for(var a=o.metadata.Unicode.widths,l=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),s="",h=0;h<l.length;h++)s+=String.fromCharCode(l[h]);var g=u();f({data:s,addLength1:!0,objectId:g}),i("endobj");var d=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:d}),i("endobj");var m=u();i("<<"),i("/Type /FontDescriptor"),i("/FontName /"+Na(o.fontName)),i("/FontFile2 "+g+" 0 R"),i("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),i("/Flags "+o.metadata.flags),i("/StemV "+o.metadata.stemV),i("/ItalicAngle "+o.metadata.italicAngle),i("/Ascent "+o.metadata.ascender),i("/Descent "+o.metadata.decender),i("/CapHeight "+o.metadata.capHeight),i(">>"),i("endobj");var b=u();i("<<"),i("/Type /Font"),i("/BaseFont /"+Na(o.fontName)),i("/FontDescriptor "+m+" 0 R"),i("/W "+e.API.PDFObject.convert(a)),i("/CIDToGIDMap /Identity"),i("/DW 1000"),i("/Subtype /CIDFontType2"),i("/CIDSystemInfo"),i("<<"),i("/Supplement 0"),i("/Registry (Adobe)"),i("/Ordering ("+o.encoding+")"),i(">>"),i(">>"),i("endobj"),o.objectNumber=u(),i("<<"),i("/Type /Font"),i("/Subtype /Type0"),i("/ToUnicode "+d+" 0 R"),i("/BaseFont /"+Na(o.fontName)),i("/Encoding /"+o.encoding),i("/DescendantFonts ["+b+" 0 R]"),i(">>"),i("endobj"),o.isAlreadyPutted=!0}})(p)}]),t.events.push(["putFont",function(p){(function(v){var o=v.font,i=v.out,u=v.newObject,f=v.putStream;if(o.metadata instanceof e.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var a=o.metadata.rawData,l="",s=0;s<a.length;s++)l+=String.fromCharCode(a[s]);var h=u();f({data:l,addLength1:!0,objectId:h}),i("endobj");var g=u();f({data:r(o.metadata.toUnicode),addLength1:!0,objectId:g}),i("endobj");var d=u();i("<<"),i("/Descent "+o.metadata.decender),i("/CapHeight "+o.metadata.capHeight),i("/StemV "+o.metadata.stemV),i("/Type /FontDescriptor"),i("/FontFile2 "+h+" 0 R"),i("/Flags 96"),i("/FontBBox "+e.API.PDFObject.convert(o.metadata.bbox)),i("/FontName /"+Na(o.fontName)),i("/ItalicAngle "+o.metadata.italicAngle),i("/Ascent "+o.metadata.ascender),i(">>"),i("endobj"),o.objectNumber=u();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));i("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+Na(o.fontName)+"/FontDescriptor "+d+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),i("endobj"),o.isAlreadyPutted=!0}})(p)}]);var c=function(p){var v,o=p.text||"",i=p.x,u=p.y,f=p.options||{},a=p.mutex||{},l=a.pdfEscape,s=a.activeFontKey,h=a.fonts,g=s,d="",m=0,b="",_=h[g].encoding;if(h[g].encoding!=="Identity-H")return{text:o,x:i,y:u,options:f,mutex:a};for(b=o,g=s,Array.isArray(o)&&(b=o[0]),m=0;m<b.length;m+=1)h[g].metadata.hasOwnProperty("cmap")&&(v=h[g].metadata.cmap.unicode.codeMap[b[m].charCodeAt(0)]),v||b[m].charCodeAt(0)<256&&h[g].metadata.hasOwnProperty("Unicode")?d+=b[m]:d+="";var x="";return parseInt(g.slice(1))<14||_==="WinAnsiEncoding"?x=l(d,g).split("").map(function(A){return A.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(x=n(d,h[g])),a.isHex=!0,{text:x,x:i,y:u,options:f,mutex:a}};t.events.push(["postProcessText",function(p){var v=p.text||"",o=[],i={text:v,x:p.x,y:p.y,options:p.options,mutex:p.mutex};if(Array.isArray(v)){var u=0;for(u=0;u<v.length;u+=1)Array.isArray(v[u])&&v[u].length===3?o.push([c(Object.assign({},i,{text:v[u][0]})).text,v[u][1],v[u][2]]):o.push(c(Object.assign({},i,{text:v[u]})).text);p.text=o}else p.text=c(Object.assign({},i,{text:v})).text}])}(ie),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ie.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var c,p,v,o,i,u,f,a=t,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],s=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},d=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),b=!1,_=0;this.__bidiEngine__={};var x=function(j){var M=j.charCodeAt(),tt=M>>8,Z=g[tt];return Z!==void 0?a[256*Z+(255&M)]:tt===252||tt===253?"AL":m.test(tt)?"L":tt===8?"R":"N"},A=function(j){for(var M,tt=0;tt<j.length;tt++){if((M=x(j.charAt(tt)))==="L")return!1;if(M==="R")return!0}return!1},L=function(j,M,tt,Z){var ft,ht,pt,ct,D=M[Z];switch(D){case"L":case"R":b=!1;break;case"N":case"AN":break;case"EN":b&&(D="AN");break;case"AL":b=!0,D="R";break;case"WS":D="N";break;case"CS":Z<1||Z+1>=M.length||(ft=tt[Z-1])!=="EN"&&ft!=="AN"||(ht=M[Z+1])!=="EN"&&ht!=="AN"?D="N":b&&(ht="AN"),D=ht===ft?ht:"N";break;case"ES":D=(ft=Z>0?tt[Z-1]:"B")==="EN"&&Z+1<M.length&&M[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&tt[Z-1]==="EN"){D="EN";break}if(b){D="N";break}for(pt=Z+1,ct=M.length;pt<ct&&M[pt]==="ET";)pt++;D=pt<ct&&M[pt]==="EN"?"EN":"N";break;case"NSM":if(v&&!o){for(ct=M.length,pt=Z+1;pt<ct&&M[pt]==="NSM";)pt++;if(pt<ct){var $=j[Z],nt=$>=1425&&$<=2303||$===64286;if(ft=M[pt],nt&&(ft==="R"||ft==="AL")){D="R";break}}}D=Z<1||(ft=M[Z-1])==="B"?"N":tt[Z-1];break;case"B":b=!1,c=!0,D=_;break;case"S":p=!0,D="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":b=!1;break;case"BN":D="N"}return D},E=function(j,M,tt){var Z=j.split("");return tt&&F(Z,tt,{hiLevel:_}),Z.reverse(),M&&M.reverse(),Z.join("")},F=function(j,M,tt){var Z,ft,ht,pt,ct,D=-1,$=j.length,nt=0,T=[],q=_?s:l,k=[];for(b=!1,c=!1,p=!1,ft=0;ft<$;ft++)k[ft]=x(j[ft]);for(ht=0;ht<$;ht++){if(ct=nt,T[ht]=L(j,k,T,ht),Z=240&(nt=q[ct][h[T[ht]]]),nt&=15,M[ht]=pt=q[nt][5],Z>0)if(Z===16){for(ft=D;ft<ht;ft++)M[ft]=1;D=-1}else D=-1;if(q[nt][6])D===-1&&(D=ht);else if(D>-1){for(ft=D;ft<ht;ft++)M[ft]=pt;D=-1}k[ht]==="B"&&(M[ht]=0),tt.hiLevel|=pt}p&&function(O,W,B){for(var J=0;J<B;J++)if(O[J]==="S"){W[J]=_;for(var G=J-1;G>=0&&O[G]==="WS";G--)W[G]=_}}(k,M,$)},Y=function(j,M,tt,Z,ft){if(!(ft.hiLevel<j)){if(j===1&&_===1&&!c)return M.reverse(),void(tt&&tt.reverse());for(var ht,pt,ct,D,$=M.length,nt=0;nt<$;){if(Z[nt]>=j){for(ct=nt+1;ct<$&&Z[ct]>=j;)ct++;for(D=nt,pt=ct-1;D<pt;D++,pt--)ht=M[D],M[D]=M[pt],M[pt]=ht,tt&&(ht=tt[D],tt[D]=tt[pt],tt[pt]=ht);nt=ct}nt++}}},et=function(j,M,tt){var Z=j.split(""),ft={hiLevel:_};return tt||(tt=[]),F(Z,tt,ft),function(ht,pt,ct){if(ct.hiLevel!==0&&f)for(var D,$=0;$<ht.length;$++)pt[$]===1&&(D=d.indexOf(ht[$]))>=0&&(ht[$]=d[D+1])}(Z,tt,ft),Y(2,Z,M,tt,ft),Y(1,Z,M,tt,ft),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(j,M,tt){if(function(ft,ht){if(ht)for(var pt=0;pt<ft.length;pt++)ht[pt]=pt;o===void 0&&(o=A(ft)),u===void 0&&(u=A(ft))}(j,M),v||!i||u)if(v&&i&&o^u)_=o?1:0,j=E(j,M,tt);else if(!v&&i&&u)_=o?1:0,j=et(j,M,tt),j=E(j,M);else if(!v||o||i||u){if(v&&!i&&o^u)j=E(j,M),o?(_=0,j=et(j,M,tt)):(_=1,j=et(j,M,tt),j=E(j,M));else if(v&&o&&!i&&u)_=1,j=et(j,M,tt),j=E(j,M);else if(!v&&!i&&o^u){var Z=f;o?(_=1,j=et(j,M,tt),_=0,f=!1,j=et(j,M,tt),f=Z):(_=0,j=et(j,M,tt),j=E(j,M),_=1,f=!1,j=et(j,M,tt),f=Z,j=E(j,M))}}else _=0,j=et(j,M,tt);else _=o?1:0,j=et(j,M,tt);return j},this.__bidiEngine__.setOptions=function(j){j&&(v=j.isInputVisual,i=j.isOutputVisual,o=j.isInputRtl,u=j.isOutputRtl,f=j.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var c=r.text,p=(r.x,r.y,r.options||{}),v=(r.mutex,p.lang,[]);if(p.isInputVisual=typeof p.isInputVisual!="boolean"||p.isInputVisual,n.setOptions(p),Object.prototype.toString.call(c)==="[object Array]"){var o=0;for(v=[],o=0;o<c.length;o+=1)Object.prototype.toString.call(c[o])==="[object Array]"?v.push([n.doBidiReorder(c[o][0]),c[o][1],c[o][2]]):v.push([n.doBidiReorder(c[o])]);r.text=v}else r.text=n.doBidiReorder(c);n.setOptions({isInputVisual:!0})}])}(ie),ie.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new ds(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new lw(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new Gb(this.contents),this.head=new $b(this),this.name=new ew(this),this.cmap=new y0(this),this.toUnicode={},this.hhea=new Jb(this),this.maxp=new nw(this),this.hmtx=new iw(this),this.post=new Zb(this),this.os2=new Qb(this),this.loca=new ow(this),this.glyf=new rw(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,c,p;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var v,o,i,u;for(u=[],v=0,o=(i=this.bbox).length;v<o;v++)t=i[v],u.push(Math.round(t*this.scaleFactor));return u}.call(this),this.stemV=0,this.post.exists?(r=255&(c=this.post.italic_angle),(32768&(n=c>>16))!=0&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(p=this.familyClass)===1||p===2||p===3||p===4||p===5||p===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var c,p,v,o;for(v=0,p=0,o=(t=""+t).length;0<=o?p<o:p>o;p=0<=o?++p:--p)c=t.charCodeAt(p),v+=this.widthOfGlyph(this.characterToGlyph(c))+r*(1e3/n)||0;return v*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var Wi,ds=function(){function e(t){this.data=t!=null?t:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,c;for(c=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)c.push(this.writeByte(t.charCodeAt(n)));return c},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,c,p,v,o,i;return t=this.readByte(),n=this.readByte(),r=this.readByte(),c=this.readByte(),p=this.readByte(),v=this.readByte(),o=this.readByte(),i=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^c)+16777216*(255^p)+65536*(255^v)+256*(255^o)+(255^i)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*c+16777216*p+65536*v+256*o+i},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,c,p;for(p=[],r=0,c=t.length;r<c;r++)n=t[r],p.push(this.writeByte(n));return p},e}(),Gb=function(){var e;function t(n){var r,c,p;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},c=0,p=this.tableCount;0<=p?c<p:c>p;c=0<=p?++c:--c)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,c,p,v,o,i,u,f,a,l,s,h,g;for(g in s=Object.keys(n).length,i=Math.log(2),a=16*Math.floor(Math.log(s)/i),v=Math.floor(a/i),f=16*s-a,(c=new ds).writeInt(this.scalarType),c.writeShort(s),c.writeShort(a),c.writeShort(v),c.writeShort(f),p=16*s,u=c.pos+p,o=null,h=[],n)for(l=n[g],c.writeString(g),c.writeInt(e(l)),c.writeInt(u),c.writeInt(l.length),h=h.concat(l),g==="head"&&(o=u),u+=l.length;u%4;)h.push(0),u++;return c.write(h),r=2981146554-e(c.data),c.pos=o+8,c.writeUInt32(r),c.data},e=function(n){var r,c,p,v;for(n=b0.call(n);n.length%4;)n.push(0);for(p=new ds(n),c=0,r=0,v=n.length;r<v;r=r+=4)c+=p.readUInt32();return 4294967295&c},t}(),Kb={}.hasOwnProperty,hr=function(e,t){for(var n in t)Kb.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Wi=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var $b=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new ds).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),Tg=function(){function e(t,n){var r,c,p,v,o,i,u,f,a,l,s,h,g,d,m,b,_;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),a=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(i=0;i<256;++i)this.codeMap[i]=t.readByte();break;case 4:for(s=t.readUInt16(),l=s/2,t.pos+=6,p=function(){var x,A;for(A=[],i=x=0;0<=l?x<l:x>l;i=0<=l?++x:--x)A.push(t.readUInt16());return A}(),t.pos+=2,g=function(){var x,A;for(A=[],i=x=0;0<=l?x<l:x>l;i=0<=l?++x:--x)A.push(t.readUInt16());return A}(),u=function(){var x,A;for(A=[],i=x=0;0<=l?x<l:x>l;i=0<=l?++x:--x)A.push(t.readUInt16());return A}(),f=function(){var x,A;for(A=[],i=x=0;0<=l?x<l:x>l;i=0<=l?++x:--x)A.push(t.readUInt16());return A}(),c=(this.length-t.pos+this.offset)/2,o=function(){var x,A;for(A=[],i=x=0;0<=c?x<c:x>c;i=0<=c?++x:--x)A.push(t.readUInt16());return A}(),i=m=0,_=p.length;m<_;i=++m)for(d=p[i],r=b=h=g[i];h<=d?b<=d:b>=d;r=h<=d?++b:--b)f[i]===0?v=r+u[i]:(v=o[f[i]/2+(r-h)-(l-i)]||0)!==0&&(v+=u[i]),this.codeMap[r]=65535&v}t.pos=a}return e.encode=function(t,n){var r,c,p,v,o,i,u,f,a,l,s,h,g,d,m,b,_,x,A,L,E,F,Y,et,j,M,tt,Z,ft,ht,pt,ct,D,$,nt,T,q,k,O,W,B,J,G,lt,dt,xt;switch(Z=new ds,v=Object.keys(t).sort(function(N,R){return N-R}),n){case"macroman":for(g=0,d=function(){var N=[];for(h=0;h<256;++h)N.push(0);return N}(),b={0:0},p={},ft=0,D=v.length;ft<D;ft++)b[G=t[c=v[ft]]]==null&&(b[G]=++g),p[c]={old:t[c],new:b[t[c]]},d[c]=b[t[c]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(d),{charMap:p,subtable:Z.data,maxGlyphID:g+1};case"unicode":for(M=[],a=[],_=0,b={},r={},m=u=null,ht=0,$=v.length;ht<$;ht++)b[A=t[c=v[ht]]]==null&&(b[A]=++_),r[c]={old:A,new:b[A]},o=b[A]-c,m!=null&&o===u||(m&&a.push(m),M.push(c),u=o),m=c;for(m&&a.push(m),a.push(65535),M.push(65535),et=2*(Y=M.length),F=2*Math.pow(Math.log(Y)/Math.LN2,2),l=Math.log(F/2)/Math.LN2,E=2*Y-F,i=[],L=[],s=[],h=pt=0,nt=M.length;pt<nt;h=++pt){if(j=M[h],f=a[h],j===65535){i.push(0),L.push(0);break}if(j-(tt=r[j].new)>=32768)for(i.push(0),L.push(2*(s.length+Y-h)),c=ct=j;j<=f?ct<=f:ct>=f;c=j<=f?++ct:--ct)s.push(r[c].new);else i.push(tt-j),L.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*Y+2*s.length),Z.writeUInt16(0),Z.writeUInt16(et),Z.writeUInt16(F),Z.writeUInt16(l),Z.writeUInt16(E),B=0,T=a.length;B<T;B++)c=a[B],Z.writeUInt16(c);for(Z.writeUInt16(0),J=0,q=M.length;J<q;J++)c=M[J],Z.writeUInt16(c);for(lt=0,k=i.length;lt<k;lt++)o=i[lt],Z.writeUInt16(o);for(dt=0,O=L.length;dt<O;dt++)x=L[dt],Z.writeUInt16(x);for(xt=0,W=s.length;xt<W;xt++)g=s[xt],Z.writeUInt16(g);return{charMap:r,subtable:Z.data,maxGlyphID:_+1}}},e}(),y0=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,c,p;for(n.pos=this.offset,this.version=n.readUInt16(),p=n.readUInt16(),this.tables=[],this.unicode=null,c=0;0<=p?c<p:c>p;c=0<=p?++c:--c)r=new Tg(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var c,p;return r==null&&(r="macroman"),c=Tg.encode(n,r),(p=new ds).writeUInt16(0),p.writeUInt16(1),c.table=p.data.concat(c.subtable),c},t}(),Jb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),Qb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,c;for(c=[],r=0;r<10;++r)c.push(n.readByte());return c}(),this.charRange=function(){var r,c;for(c=[],r=0;r<4;++r)c.push(n.readInt());return c}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,c;for(c=[],r=0;r<2;r=++r)c.push(n.readInt());return c}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),Zb=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="post",t.prototype.parse=function(n){var r,c,p;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var v;for(c=n.readUInt16(),this.glyphNameIndex=[],v=0;0<=c?v<c:v>c;v=0<=c?++v:--v)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],p=[];n.pos<this.offset+this.length;)r=n.readByte(),p.push(this.names.push(n.readString(r)));return p;case 151552:return c=n.readUInt16(),this.offsets=n.read(c);case 196608:break;case 262144:return this.map=function(){var o,i,u;for(u=[],v=o=0,i=this.file.maxp.numGlyphs;0<=i?o<i:o>i;v=0<=i?++o:--o)u.push(n.readUInt32());return u}.call(this)}},t}(),tw=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},ew=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="name",t.prototype.parse=function(n){var r,c,p,v,o,i,u,f,a,l,s;for(n.pos=this.offset,n.readShort(),r=n.readShort(),i=n.readShort(),c=[],v=0;0<=r?v<r:v>r;v=0<=r?++v:--v)c.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+i+n.readShort()});for(u={},v=a=0,l=c.length;a<l;v=++a)p=c[v],n.pos=p.offset,f=n.readString(p.length),o=new tw(f,p),u[s=p.nameID]==null&&(u[s]=[]),u[p.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},t}(),nw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),iw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,c,p,v,o,i,u;for(n.pos=this.offset,this.metrics=[],r=0,i=this.file.hhea.numberOfMetrics;0<=i?r<i:r>i;r=0<=i?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(p=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,a;for(a=[],r=f=0;0<=p?f<p:f>p;r=0<=p?++f:--f)a.push(n.readInt16());return a}(),this.widths=function(){var f,a,l,s;for(s=[],f=0,a=(l=this.metrics).length;f<a;f++)v=l[f],s.push(v.advance);return s}.call(this),c=this.widths[this.widths.length-1],u=[],r=o=0;0<=p?o<p:o>p;r=0<=p?++o:--o)u.push(this.widths.push(c));return u},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),b0=[].slice,rw=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,c,p,v,o,i,u,f,a,l;return n in this.cache?this.cache[n]:(v=this.file.loca,r=this.file.contents,c=v.indexOf(n),(p=v.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+c,o=(i=new ds(r.read(p))).readShort(),f=i.readShort(),l=i.readShort(),u=i.readShort(),a=i.readShort(),this.cache[n]=o===-1?new aw(i,f,l,u,a):new sw(i,o,f,l,u,a),this.cache[n]))},t.prototype.encode=function(n,r,c){var p,v,o,i,u;for(o=[],v=[],i=0,u=r.length;i<u;i++)p=n[r[i]],v.push(o.length),p&&(o=o.concat(p.encode(c)));return v.push(o.length),{table:o,offsets:v}},t}(),sw=function(){function e(t,n,r,c,p,v){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=c,this.xMax=p,this.yMax=v,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),aw=function(){function e(t,n,r,c,p){var v,o;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=c,this.yMax=p,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],v=this.raw;o=v.readShort(),this.glyphOffsets.push(v.pos),this.glyphIDs.push(v.readUInt16()),32&o;)v.pos+=1&o?4:2,128&o?v.pos+=8:64&o?v.pos+=4:8&o&&(v.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new ds(b0.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),ow=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return hr(t,Wi),t.prototype.tag="loca",t.prototype.parse=function(n){var r,c;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?function(){var p,v;for(v=[],c=0,p=this.length;c<p;c+=2)v.push(2*n.readUInt16());return v}.call(this):function(){var p,v;for(v=[],c=0,p=this.length;c<p;c+=4)v.push(n.readUInt32());return v}.call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var c=new Uint32Array(this.offsets.length),p=0,v=0,o=0;o<c.length;++o)if(c[o]=p,v<r.length&&r[v]==o){++v,c[o]=p;var i=this.offsets[o],u=this.offsets[o+1]-i;u>0&&(p+=u)}for(var f=new Array(4*c.length),a=0;a<c.length;++a)f[4*a+3]=255&c[a],f[4*a+2]=(65280&c[a])>>8,f[4*a+1]=(16711680&c[a])>>16,f[4*a]=(4278190080&c[a])>>24;return f},t}(),lw=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,c,p;for(n in c=this.font.cmap.tables[0].codeMap,t={},p=this.subset)r=p[n],t[n]=c[r];return t},e.prototype.glyphsFor=function(t){var n,r,c,p,v,o,i;for(c={},v=0,o=t.length;v<o;v++)c[p=t[v]]=this.font.glyf.glyphFor(p);for(p in n=[],c)(r=c[p])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(p in i=this.glyphsFor(n))r=i[p],c[p]=r;return c},e.prototype.encode=function(t,n){var r,c,p,v,o,i,u,f,a,l,s,h,g,d,m;for(c in r=y0.encode(this.generateCmap(),"unicode"),v=this.glyphsFor(t),s={0:0},m=r.charMap)s[(i=m[c]).old]=i.new;for(h in l=r.maxGlyphID,v)h in s||(s[h]=l++);return f=function(b){var _,x;for(_ in x={},b)x[b[_]]=_;return x}(s),a=Object.keys(f).sort(function(b,_){return b-_}),g=function(){var b,_,x;for(x=[],b=0,_=a.length;b<_;b++)o=a[b],x.push(f[o]);return x}(),p=this.font.glyf.encode(v,g,s),u=this.font.loca.encode(p.offsets,g),d={cmap:this.font.cmap.raw(),glyf:p.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(d["OS/2"]=this.font.os2.raw()),this.font.directory.encode(d)},e}();ie.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,c,p,v;if(Array.isArray(n))return"["+function(){var o,i,u;for(u=[],o=0,i=n.length;o<i;o++)r=n[o],u.push(t.convert(r));return u}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(c in p=["<<"],n)v=n[c],p.push("/"+c+" "+t.convert(v));return p.push(">>"),p.join(`
`)}return""+n},t}();var cw=to({name:"VueDrawingCanvas",props:{strokeType:{type:String,validator:e=>["dash","line","square","circle","triangle","half_triangle"].indexOf(e)!==-1,default:()=>"dash"},fillShape:{type:Boolean,default:()=>!1},width:{type:[String,Number],default:()=>600},height:{type:[String,Number],default:()=>400},image:{type:String,default:()=>""},eraser:{type:Boolean,default:()=>!1},color:{type:String,default:()=>"#000000"},lineWidth:{type:Number,default:()=>5},lineCap:{type:String,validator:e=>["round","square","butt"].indexOf(e)!==-1,default:()=>"round"},lineJoin:{type:String,validator:e=>["miter","round","bevel"].indexOf(e)!==-1,default:()=>"miter"},lock:{type:Boolean,default:()=>!1},styles:{type:[Array,String,Object]},classes:{type:[Array,String,Object]},backgroundColor:{type:String,default:()=>"#FFFFFF"},backgroundImage:{type:String,default:()=>null},watermark:{type:Object,default:()=>null},saveAs:{type:String,validator:e=>["jpeg","png"].indexOf(e)!==-1,default:()=>"png"},canvasId:{type:String,default:()=>"VueDrawingCanvas"},initialImage:{type:Array,default:()=>[]},additionalImages:{type:Array,default:()=>[]},outputWidth:{type:Number},outputHeight:{type:Number}},data(){return{loadedImage:null,drawing:!1,context:null,images:[],strokes:{type:"",from:{x:0,y:0},coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},guides:[],trash:[]}},mounted(){this.setContext(),this.$nextTick(()=>{this.drawInitialImage(),this.drawAdditionalImages()})},watch:{backgroundImage:function(){this.loadedImage=null}},methods:{async setContext(){let e=document.querySelector("#"+this.canvasId);this.context=this.context?this.context:e.getContext("2d"),await this.setBackground()},drawInitialImage(){this.initialImage&&this.initialImage.length>0&&(this.images=[].concat(this.images,this.initialImage),this.redraw(!0))},drawAdditionalImages(){if(this.additionalImages&&this.additionalImages.length>0){let e=document.querySelector("#"+this.canvasId);this.additionalImages.forEach(t=>{this.drawWatermark(e,this.context,t)})}},clear(){this.context.clearRect(0,0,Number(this.width),Number(this.height))},async setBackground(){this.clear(),this.context.fillStyle=this.backgroundColor,this.context.fillRect(0,0,Number(this.width),Number(this.height)),await this.$nextTick(async()=>{await this.drawBackgroundImage()}),this.save()},async drawBackgroundImage(){if(this.loadedImage)this.context.drawImage(this.loadedImage,0,0,Number(this.width),Number(this.height));else return new Promise(e=>{if(!this.backgroundImage){e();return}const t=new Image;t.src=this.backgroundImage,t.onload=()=>{this.context.drawImage(t,0,0,Number(this.width),Number(this.height)),this.loadedImage=t,e()}})},getCoordinates(e){let t,n;if(e.touches&&e.touches.length>0){let c=document.querySelector("#"+this.canvasId).getBoundingClientRect();t=e.touches[0].clientX-c.left,n=e.touches[0].clientY-c.top}else t=e.offsetX,n=e.offsetY;return{x:t,y:n}},startDraw(e){if(!this.lock){this.drawing=!0;let t=this.getCoordinates(e);this.strokes={type:this.eraser?"eraser":this.strokeType,from:t,coordinates:[],color:this.eraser?this.backgroundColor:this.color,width:this.lineWidth,fill:this.eraser||this.strokeType==="dash"||this.strokeType==="line"?!1:this.fillShape,lineCap:this.lineCap,lineJoin:this.lineJoin},this.guides=[]}},draw(e){if(this.drawing){this.context||this.setContext();let t=this.getCoordinates(e);if(this.eraser||this.strokeType==="dash")this.strokes.coordinates.push(t),this.drawShape(this.context,this.strokes,!1);else{switch(this.strokeType){case"line":this.guides=[{x:t.x,y:t.y}];break;case"square":this.guides=[{x:t.x,y:this.strokes.from.y},{x:t.x,y:t.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"triangle":let n=Math.floor((t.x-this.strokes.from.x)/2)<0?Math.floor((t.x-this.strokes.from.x)/2)*-1:Math.floor((t.x-this.strokes.from.x)/2),r=this.strokes.from.x<t.x?this.strokes.from.x+n:this.strokes.from.x-n;this.guides=[{x:t.x,y:this.strokes.from.y},{x:r,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"half_triangle":this.guides=[{x:t.x,y:this.strokes.from.y},{x:this.strokes.from.x,y:t.y},{x:this.strokes.from.x,y:this.strokes.from.y}];break;case"circle":let c=this.strokes.from.x-t.x<0?(this.strokes.from.x-t.x)*-1:this.strokes.from.x-t.x;this.guides=[{x:this.strokes.from.x>t.x?this.strokes.from.x-c:this.strokes.from.x+c,y:this.strokes.from.y},{x:c,y:c}];break}this.drawGuide(!0)}}},drawGuide(e){this.redraw(!0),this.$nextTick(()=>{this.context.strokeStyle=this.color,this.context.lineWidth=1,this.context.lineJoin=this.lineJoin,this.context.lineCap=this.lineCap,this.context.beginPath(),this.context.setLineDash([15,15]),this.strokes.type==="circle"?this.context.ellipse(this.guides[0].x,this.guides[0].y,this.guides[1].x,this.guides[1].y,0,0,Math.PI*2):(this.context.moveTo(this.strokes.from.x,this.strokes.from.y),this.guides.forEach(t=>{this.context.lineTo(t.x,t.y)}),e&&this.context.closePath()),this.context.stroke()})},drawShape(e,t,n){e.strokeStyle=t.color,e.fillStyle=t.color,e.lineWidth=t.width,e.lineJoin=t.lineJoin===void 0?this.lineJoin:t.lineJoin,e.lineCap=t.lineCap===void 0?this.lineCap:t.lineCap,e.beginPath(),e.setLineDash([]),t.type==="circle"?e.ellipse(t.coordinates[0].x,t.coordinates[0].y,t.coordinates[1].x,t.coordinates[1].y,0,0,Math.PI*2):(e.moveTo(t.from.x,t.from.y),t.coordinates.forEach(r=>{e.lineTo(r.x,r.y)}),n&&e.closePath()),t.fill?e.fill():e.stroke()},stopDraw(){this.drawing&&(this.strokes.coordinates=this.guides.length>0?this.guides:this.strokes.coordinates,this.images.push(this.strokes),this.redraw(!0),this.drawing=!1,this.trash=[])},reset(){this.lock||(this.images=[],this.strokes={type:"",coordinates:[],color:"",width:"",fill:!1,lineCap:"",lineJoin:""},this.guides=[],this.trash=[],this.redraw(!0))},undo(){if(!this.lock){let e=this.images.pop();e&&(this.trash.push(e),this.redraw(!0))}},redo(){if(!this.lock){let e=this.trash.pop();e&&(this.images.push(e),this.redraw(!0))}},async redraw(e){e=typeof e<"u"?e:!0,await this.setBackground().then(()=>{this.drawAdditionalImages()}).then(()=>{let t=document.createElement("canvas"),n=t.getContext("2d");t.width=Number(this.width),t.height=Number(this.height),n&&(this.images.forEach(r=>{n&&(n.globalCompositeOperation=r.type==="eraser"?"destination-out":"source-over",(r.type!=="circle"||r.type==="circle"&&r.coordinates.length>0)&&this.drawShape(n,r,!(r.type==="eraser"||r.type==="dash"||r.type==="line")))}),this.context.drawImage(t,0,0,Number(this.width),Number(this.height)))}).then(()=>{e&&this.save()})},wrapText(e,t,n,r,c,p){const v=/(\r\n|\n\r|\n|\r)+/g,o=/\s+/g;var i=t.split(v).filter(g=>g.length>0);for(let g=0;g<i.length;g++){for(var u=i[g].split(o).filter(d=>d.length>0),f="",a=0;a<u.length;a++){var l=f+u[a]+" ",s=e.measureText(l),h=s.width;h>c&&a>0?(this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(f,n,r):e.fillText(f,n,r),f=u[a]+" ",r+=p):f=l}this.watermark&&this.watermark.fontStyle&&this.watermark.fontStyle.drawType&&this.watermark.fontStyle.drawType==="stroke"?e.strokeText(f,n,r):e.fillText(f,n,r),r+=u.length>0?p:0}},save(){let e=document.querySelector("#"+this.canvasId);if(this.watermark){let t=document.createElement("canvas"),n=t.getContext("2d");n&&(t.width=Number(this.width),t.height=Number(this.height),n.drawImage(e,0,0,Number(this.width),Number(this.height)),this.drawWatermark(t,n,this.watermark))}else{let t=document.createElement("canvas"),n=t.getContext("2d"),r=this.outputWidth===void 0?this.width:this.outputWidth,c=this.outputHeight===void 0?this.height:this.outputHeight;if(t.width=Number(r),t.height=Number(c),n)return n.drawImage(e,0,0,Number(r),Number(c)),this.$emit("update:image",t.toDataURL("image/"+this.saveAs,1)),t.toDataURL("image/"+this.saveAs,1)}},drawWatermark(e,t,n){if(n.type==="Image"){let r=n.imageStyle?n.imageStyle.width?n.imageStyle.width:Number(this.width):Number(this.width),c=n.imageStyle?n.imageStyle.height?n.imageStyle.height:Number(this.height):Number(this.height);const p=new Image;p.src=n.source,p.onload=()=>{n&&t&&t.drawImage(p,n.x,n.y,Number(r),Number(c));let v=document.createElement("canvas"),o=v.getContext("2d"),i=this.outputWidth===void 0?this.width:this.outputWidth,u=this.outputHeight===void 0?this.height:this.outputHeight;if(v.width=Number(i),v.height=Number(u),o)return o.drawImage(e,0,0,Number(i),Number(u)),this.$emit("update:image",v.toDataURL("image/"+this.saveAs,1)),v.toDataURL("image/"+this.saveAs,1)}}else if(n.type==="Text"){let r=n.fontStyle&&n.fontStyle.font?n.fontStyle.font:"20px serif",c=n.fontStyle&&n.fontStyle.textAlign?n.fontStyle.textAlign:"start",p=n.fontStyle&&n.fontStyle.textBaseline?n.fontStyle.textBaseline:"alphabetic",v=n.fontStyle&&n.fontStyle.color?n.fontStyle.color:"#000000";if(t.font=r,t.textAlign=c,t.textBaseline=p,n.fontStyle&&n.fontStyle.rotate){let a,l;n.fontStyle&&n.fontStyle.width?a=n.x+Math.floor(n.fontStyle.width/2):a=n.x,n.fontStyle&&n.fontStyle.lineHeight?l=n.y+Math.floor(n.fontStyle.lineHeight/2):l=n.y,t.translate(a,l),t.rotate(n.fontStyle.rotate*Math.PI/180),t.translate(a*-1,l*-1)}n.fontStyle&&n.fontStyle.drawType&&n.fontStyle.drawType==="stroke"?(t.strokeStyle=n.fontStyle.color,n.fontStyle&&n.fontStyle.width?this.wrapText(t,n.source,n.x,n.y,n.fontStyle.width,n.fontStyle.lineHeight):t.strokeText(n.source,n.x,n.y)):(t.fillStyle=v,n.fontStyle&&n.fontStyle.width?this.wrapText(t,n.source,n.x,n.y,n.fontStyle.width,n.fontStyle.lineHeight):t.fillText(n.source,n.x,n.y));let o=document.createElement("canvas"),i=o.getContext("2d"),u=this.outputWidth===void 0?this.width:this.outputWidth,f=this.outputHeight===void 0?this.height:this.outputHeight;if(o.width=Number(u),o.height=Number(f),i)return i.drawImage(e,0,0,Number(u),Number(f)),this.$emit("update:image",o.toDataURL("image/"+this.saveAs,1)),o.toDataURL("image/"+this.saveAs,1)}},isEmpty(){return!(this.images.length>0)},getAllStrokes(){return this.images}},render(){return no("canvas",{id:this.canvasId,height:Number(this.height),width:Number(this.width),style:{touchAction:"none",...this.styles},class:this.classes,onMousedown:e=>this.startDraw(e),onMousemove:e=>this.draw(e),onMouseup:()=>this.stopDraw(),onMouseleave:()=>this.stopDraw(),onTouchstart:e=>this.startDraw(e),onTouchmove:e=>this.draw(e),onTouchend:()=>this.stopDraw(),onTouchleave:()=>this.stopDraw(),onTouchcancel:()=>this.stopDraw(),onPointerdown:e=>this.startDraw(e),onPointermove:e=>this.draw(e),onPointerup:()=>this.stopDraw(),onPointerleave:()=>this.stopDraw(),onPointercancel:()=>this.stopDraw()})}});function w0(e,t){return function(){return e.apply(t,arguments)}}const{toString:uw}=Object.prototype,{getPrototypeOf:Ad}=Object,Au=(e=>t=>{const n=uw.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Vi=e=>(e=e.toLowerCase(),t=>Au(t)===e),Tu=e=>t=>typeof t===e,{isArray:io}=Array,vl=Tu("undefined");function fw(e){return e!==null&&!vl(e)&&e.constructor!==null&&!vl(e.constructor)&&ci(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const _0=Vi("ArrayBuffer");function hw(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&_0(e.buffer),t}const dw=Tu("string"),ci=Tu("function"),x0=Tu("number"),Pu=e=>e!==null&&typeof e=="object",pw=e=>e===!0||e===!1,Uc=e=>{if(Au(e)!=="object")return!1;const t=Ad(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},gw=Vi("Date"),mw=Vi("File"),vw=Vi("Blob"),yw=Vi("FileList"),bw=e=>Pu(e)&&ci(e.pipe),ww=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||ci(e.append)&&((t=Au(e))==="formdata"||t==="object"&&ci(e.toString)&&e.toString()==="[object FormData]"))},_w=Vi("URLSearchParams"),[xw,Sw,Cw,Aw]=["ReadableStream","Request","Response","Headers"].map(Vi),Tw=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,c;if(typeof e!="object"&&(e=[e]),io(e))for(r=0,c=e.length;r<c;r++)t.call(null,e[r],r,e);else{const p=n?Object.getOwnPropertyNames(e):Object.keys(e),v=p.length;let o;for(r=0;r<v;r++)o=p[r],t.call(null,e[o],o,e)}}function S0(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,c;for(;r-- >0;)if(c=n[r],t===c.toLowerCase())return c;return null}const zs=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),C0=e=>!vl(e)&&e!==zs;function Lh(){const{caseless:e}=C0(this)&&this||{},t={},n=(r,c)=>{const p=e&&S0(t,c)||c;Uc(t[p])&&Uc(r)?t[p]=Lh(t[p],r):Uc(r)?t[p]=Lh({},r):io(r)?t[p]=r.slice():t[p]=r};for(let r=0,c=arguments.length;r<c;r++)arguments[r]&&Pl(arguments[r],n);return t}const Pw=(e,t,n,{allOwnKeys:r}={})=>(Pl(t,(c,p)=>{n&&ci(c)?e[p]=w0(c,n):e[p]=c},{allOwnKeys:r}),e),Ow=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Lw=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},kw=(e,t,n,r)=>{let c,p,v;const o={};if(t=t||{},e==null)return t;do{for(c=Object.getOwnPropertyNames(e),p=c.length;p-- >0;)v=c[p],(!r||r(v,e,t))&&!o[v]&&(t[v]=e[v],o[v]=!0);e=n!==!1&&Ad(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},Ew=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},Nw=e=>{if(!e)return null;if(io(e))return e;let t=e.length;if(!x0(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},Fw=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&Ad(Uint8Array)),Iw=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let c;for(;(c=r.next())&&!c.done;){const p=c.value;t.call(e,p[0],p[1])}},Dw=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},Mw=Vi("HTMLFormElement"),Rw=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,c){return r.toUpperCase()+c}),Pg=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),jw=Vi("RegExp"),A0=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Pl(n,(c,p)=>{let v;(v=t(c,p,e))!==!1&&(r[p]=v||c)}),Object.defineProperties(e,r)},Bw=e=>{A0(e,(t,n)=>{if(ci(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(!!ci(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Uw=(e,t)=>{const n={},r=c=>{c.forEach(p=>{n[p]=!0})};return io(e)?r(e):r(String(e).split(t)),n},zw=()=>{},qw=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Hw(e){return!!(e&&ci(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const Ww=e=>{const t=new Array(10),n=(r,c)=>{if(Pu(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[c]=r;const p=io(r)?[]:{};return Pl(r,(v,o)=>{const i=n(v,c+1);!vl(i)&&(p[o]=i)}),t[c]=void 0,p}}return r};return n(e,0)},Vw=Vi("AsyncFunction"),Yw=e=>e&&(Pu(e)||ci(e))&&ci(e.then)&&ci(e.catch),T0=((e,t)=>e?setImmediate:t?((n,r)=>(zs.addEventListener("message",({source:c,data:p})=>{c===zs&&p===n&&r.length&&r.shift()()},!1),c=>{r.push(c),zs.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ci(zs.postMessage)),Xw=typeof queueMicrotask<"u"?queueMicrotask.bind(zs):typeof process<"u"&&process.nextTick||T0,kt={isArray:io,isArrayBuffer:_0,isBuffer:fw,isFormData:ww,isArrayBufferView:hw,isString:dw,isNumber:x0,isBoolean:pw,isObject:Pu,isPlainObject:Uc,isReadableStream:xw,isRequest:Sw,isResponse:Cw,isHeaders:Aw,isUndefined:vl,isDate:gw,isFile:mw,isBlob:vw,isRegExp:jw,isFunction:ci,isStream:bw,isURLSearchParams:_w,isTypedArray:Fw,isFileList:yw,forEach:Pl,merge:Lh,extend:Pw,trim:Tw,stripBOM:Ow,inherits:Lw,toFlatObject:kw,kindOf:Au,kindOfTest:Vi,endsWith:Ew,toArray:Nw,forEachEntry:Iw,matchAll:Dw,isHTMLForm:Mw,hasOwnProperty:Pg,hasOwnProp:Pg,reduceDescriptors:A0,freezeMethods:Bw,toObjectSet:Uw,toCamelCase:Rw,noop:zw,toFiniteNumber:qw,findKey:S0,global:zs,isContextDefined:C0,isSpecCompliantForm:Hw,toJSONObject:Ww,isAsyncFn:Vw,isThenable:Yw,setImmediate:T0,asap:Xw};function pe(e,t,n,r,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),c&&(this.response=c,this.status=c.status?c.status:null)}kt.inherits(pe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:kt.toJSONObject(this.config),code:this.code,status:this.status}}});const P0=pe.prototype,O0={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{O0[e]={value:e}});Object.defineProperties(pe,O0);Object.defineProperty(P0,"isAxiosError",{value:!0});pe.from=(e,t,n,r,c,p)=>{const v=Object.create(P0);return kt.toFlatObject(e,v,function(i){return i!==Error.prototype},o=>o!=="isAxiosError"),pe.call(v,e.message,t,n,r,c),v.cause=e,v.name=e.name,p&&Object.assign(v,p),v};const Gw=null;function kh(e){return kt.isPlainObject(e)||kt.isArray(e)}function L0(e){return kt.endsWith(e,"[]")?e.slice(0,-2):e}function Og(e,t,n){return e?e.concat(t).map(function(c,p){return c=L0(c),!n&&p?"["+c+"]":c}).join(n?".":""):t}function Kw(e){return kt.isArray(e)&&!e.some(kh)}const $w=kt.toFlatObject(kt,{},null,function(t){return/^is[A-Z]/.test(t)});function Ou(e,t,n){if(!kt.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=kt.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,d){return!kt.isUndefined(d[g])});const r=n.metaTokens,c=n.visitor||f,p=n.dots,v=n.indexes,i=(n.Blob||typeof Blob<"u"&&Blob)&&kt.isSpecCompliantForm(t);if(!kt.isFunction(c))throw new TypeError("visitor must be a function");function u(h){if(h===null)return"";if(kt.isDate(h))return h.toISOString();if(!i&&kt.isBlob(h))throw new pe("Blob is not supported. Use a Buffer instead.");return kt.isArrayBuffer(h)||kt.isTypedArray(h)?i&&typeof Blob=="function"?new Blob([h]):Buffer.from(h):h}function f(h,g,d){let m=h;if(h&&!d&&typeof h=="object"){if(kt.endsWith(g,"{}"))g=r?g:g.slice(0,-2),h=JSON.stringify(h);else if(kt.isArray(h)&&Kw(h)||(kt.isFileList(h)||kt.endsWith(g,"[]"))&&(m=kt.toArray(h)))return g=L0(g),m.forEach(function(_,x){!(kt.isUndefined(_)||_===null)&&t.append(v===!0?Og([g],x,p):v===null?g:g+"[]",u(_))}),!1}return kh(h)?!0:(t.append(Og(d,g,p),u(h)),!1)}const a=[],l=Object.assign($w,{defaultVisitor:f,convertValue:u,isVisitable:kh});function s(h,g){if(!kt.isUndefined(h)){if(a.indexOf(h)!==-1)throw Error("Circular reference detected in "+g.join("."));a.push(h),kt.forEach(h,function(m,b){(!(kt.isUndefined(m)||m===null)&&c.call(t,m,kt.isString(b)?b.trim():b,g,l))===!0&&s(m,g?g.concat(b):[b])}),a.pop()}}if(!kt.isObject(e))throw new TypeError("data must be an object");return s(e),t}function Lg(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Td(e,t){this._pairs=[],e&&Ou(e,this,t)}const k0=Td.prototype;k0.append=function(t,n){this._pairs.push([t,n])};k0.toString=function(t){const n=t?function(r){return t.call(this,r,Lg)}:Lg;return this._pairs.map(function(c){return n(c[0])+"="+n(c[1])},"").join("&")};function Jw(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function E0(e,t,n){if(!t)return e;const r=n&&n.encode||Jw;kt.isFunction(n)&&(n={serialize:n});const c=n&&n.serialize;let p;if(c?p=c(t,n):p=kt.isURLSearchParams(t)?t.toString():new Td(t,n).toString(r),p){const v=e.indexOf("#");v!==-1&&(e=e.slice(0,v)),e+=(e.indexOf("?")===-1?"?":"&")+p}return e}class Qw{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){kt.forEach(this.handlers,function(r){r!==null&&t(r)})}}const kg=Qw,N0={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Zw=typeof URLSearchParams<"u"?URLSearchParams:Td,t_=typeof FormData<"u"?FormData:null,e_=typeof Blob<"u"?Blob:null,n_={isBrowser:!0,classes:{URLSearchParams:Zw,FormData:t_,Blob:e_},protocols:["http","https","file","blob","url","data"]},Pd=typeof window<"u"&&typeof document<"u",Eh=typeof navigator=="object"&&navigator||void 0,i_=Pd&&(!Eh||["ReactNative","NativeScript","NS"].indexOf(Eh.product)<0),r_=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),s_=Pd&&window.location.href||"http://localhost",a_=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Pd,hasStandardBrowserWebWorkerEnv:r_,hasStandardBrowserEnv:i_,navigator:Eh,origin:s_},Symbol.toStringTag,{value:"Module"})),Mn={...a_,...n_};function o_(e,t){return Ou(e,new Mn.classes.URLSearchParams,Object.assign({visitor:function(n,r,c,p){return Mn.isNode&&kt.isBuffer(n)?(this.append(r,n.toString("base64")),!1):p.defaultVisitor.apply(this,arguments)}},t))}function l_(e){return kt.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function c_(e){const t={},n=Object.keys(e);let r;const c=n.length;let p;for(r=0;r<c;r++)p=n[r],t[p]=e[p];return t}function F0(e){function t(n,r,c,p){let v=n[p++];if(v==="__proto__")return!0;const o=Number.isFinite(+v),i=p>=n.length;return v=!v&&kt.isArray(c)?c.length:v,i?(kt.hasOwnProp(c,v)?c[v]=[c[v],r]:c[v]=r,!o):((!c[v]||!kt.isObject(c[v]))&&(c[v]=[]),t(n,r,c[v],p)&&kt.isArray(c[v])&&(c[v]=c_(c[v])),!o)}if(kt.isFormData(e)&&kt.isFunction(e.entries)){const n={};return kt.forEachEntry(e,(r,c)=>{t(l_(r),c,n,0)}),n}return null}function u_(e,t,n){if(kt.isString(e))try{return(t||JSON.parse)(e),kt.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Od={transitional:N0,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",c=r.indexOf("application/json")>-1,p=kt.isObject(t);if(p&&kt.isHTMLForm(t)&&(t=new FormData(t)),kt.isFormData(t))return c?JSON.stringify(F0(t)):t;if(kt.isArrayBuffer(t)||kt.isBuffer(t)||kt.isStream(t)||kt.isFile(t)||kt.isBlob(t)||kt.isReadableStream(t))return t;if(kt.isArrayBufferView(t))return t.buffer;if(kt.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(p){if(r.indexOf("application/x-www-form-urlencoded")>-1)return o_(t,this.formSerializer).toString();if((o=kt.isFileList(t))||r.indexOf("multipart/form-data")>-1){const i=this.env&&this.env.FormData;return Ou(o?{"files[]":t}:t,i&&new i,this.formSerializer)}}return p||c?(n.setContentType("application/json",!1),u_(t)):t}],transformResponse:[function(t){const n=this.transitional||Od.transitional,r=n&&n.forcedJSONParsing,c=this.responseType==="json";if(kt.isResponse(t)||kt.isReadableStream(t))return t;if(t&&kt.isString(t)&&(r&&!this.responseType||c)){const v=!(n&&n.silentJSONParsing)&&c;try{return JSON.parse(t)}catch(o){if(v)throw o.name==="SyntaxError"?pe.from(o,pe.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Mn.classes.FormData,Blob:Mn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};kt.forEach(["delete","get","head","post","put","patch"],e=>{Od.headers[e]={}});const Ld=Od,f_=kt.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),h_=e=>{const t={};let n,r,c;return e&&e.split(`
`).forEach(function(v){c=v.indexOf(":"),n=v.substring(0,c).trim().toLowerCase(),r=v.substring(c+1).trim(),!(!n||t[n]&&f_[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},Eg=Symbol("internals");function Ho(e){return e&&String(e).trim().toLowerCase()}function zc(e){return e===!1||e==null?e:kt.isArray(e)?e.map(zc):String(e)}function d_(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const p_=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $f(e,t,n,r,c){if(kt.isFunction(r))return r.call(this,t,n);if(c&&(t=n),!!kt.isString(t)){if(kt.isString(r))return t.indexOf(r)!==-1;if(kt.isRegExp(r))return r.test(t)}}function g_(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function m_(e,t){const n=kt.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(c,p,v){return this[r].call(this,t,c,p,v)},configurable:!0})})}class Lu{constructor(t){t&&this.set(t)}set(t,n,r){const c=this;function p(o,i,u){const f=Ho(i);if(!f)throw new Error("header name must be a non-empty string");const a=kt.findKey(c,f);(!a||c[a]===void 0||u===!0||u===void 0&&c[a]!==!1)&&(c[a||i]=zc(o))}const v=(o,i)=>kt.forEach(o,(u,f)=>p(u,f,i));if(kt.isPlainObject(t)||t instanceof this.constructor)v(t,n);else if(kt.isString(t)&&(t=t.trim())&&!p_(t))v(h_(t),n);else if(kt.isHeaders(t))for(const[o,i]of t.entries())p(i,o,r);else t!=null&&p(n,t,r);return this}get(t,n){if(t=Ho(t),t){const r=kt.findKey(this,t);if(r){const c=this[r];if(!n)return c;if(n===!0)return d_(c);if(kt.isFunction(n))return n.call(this,c,r);if(kt.isRegExp(n))return n.exec(c);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Ho(t),t){const r=kt.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$f(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let c=!1;function p(v){if(v=Ho(v),v){const o=kt.findKey(r,v);o&&(!n||$f(r,r[o],o,n))&&(delete r[o],c=!0)}}return kt.isArray(t)?t.forEach(p):p(t),c}clear(t){const n=Object.keys(this);let r=n.length,c=!1;for(;r--;){const p=n[r];(!t||$f(this,this[p],p,t,!0))&&(delete this[p],c=!0)}return c}normalize(t){const n=this,r={};return kt.forEach(this,(c,p)=>{const v=kt.findKey(r,p);if(v){n[v]=zc(c),delete n[p];return}const o=t?g_(p):String(p).trim();o!==p&&delete n[p],n[o]=zc(c),r[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return kt.forEach(this,(r,c)=>{r!=null&&r!==!1&&(n[c]=t&&kt.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(c=>r.set(c)),r}static accessor(t){const r=(this[Eg]=this[Eg]={accessors:{}}).accessors,c=this.prototype;function p(v){const o=Ho(v);r[o]||(m_(c,v),r[o]=!0)}return kt.isArray(t)?t.forEach(p):p(t),this}}Lu.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);kt.reduceDescriptors(Lu.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});kt.freezeMethods(Lu);const Bi=Lu;function Jf(e,t){const n=this||Ld,r=t||n,c=Bi.from(r.headers);let p=r.data;return kt.forEach(e,function(o){p=o.call(n,p,c.normalize(),t?t.status:void 0)}),c.normalize(),p}function I0(e){return!!(e&&e.__CANCEL__)}function ro(e,t,n){pe.call(this,e==null?"canceled":e,pe.ERR_CANCELED,t,n),this.name="CanceledError"}kt.inherits(ro,pe,{__CANCEL__:!0});function D0(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new pe("Request failed with status code "+n.status,[pe.ERR_BAD_REQUEST,pe.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function v_(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function y_(e,t){e=e||10;const n=new Array(e),r=new Array(e);let c=0,p=0,v;return t=t!==void 0?t:1e3,function(i){const u=Date.now(),f=r[p];v||(v=u),n[c]=i,r[c]=u;let a=p,l=0;for(;a!==c;)l+=n[a++],a=a%e;if(c=(c+1)%e,c===p&&(p=(p+1)%e),u-v<t)return;const s=f&&u-f;return s?Math.round(l*1e3/s):void 0}}function b_(e,t){let n=0,r=1e3/t,c,p;const v=(u,f=Date.now())=>{n=f,c=null,p&&(clearTimeout(p),p=null),e.apply(null,u)};return[(...u)=>{const f=Date.now(),a=f-n;a>=r?v(u,f):(c=u,p||(p=setTimeout(()=>{p=null,v(c)},r-a)))},()=>c&&v(c)]}const iu=(e,t,n=3)=>{let r=0;const c=y_(50,250);return b_(p=>{const v=p.loaded,o=p.lengthComputable?p.total:void 0,i=v-r,u=c(i),f=v<=o;r=v;const a={loaded:v,total:o,progress:o?v/o:void 0,bytes:i,rate:u||void 0,estimated:u&&o&&f?(o-v)/u:void 0,event:p,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(a)},n)},Ng=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Fg=e=>(...t)=>kt.asap(()=>e(...t)),w_=Mn.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Mn.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Mn.origin),Mn.navigator&&/(msie|trident)/i.test(Mn.navigator.userAgent)):()=>!0,__=Mn.hasStandardBrowserEnv?{write(e,t,n,r,c,p){const v=[e+"="+encodeURIComponent(t)];kt.isNumber(n)&&v.push("expires="+new Date(n).toGMTString()),kt.isString(r)&&v.push("path="+r),kt.isString(c)&&v.push("domain="+c),p===!0&&v.push("secure"),document.cookie=v.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function x_(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function S_(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function M0(e,t,n){let r=!x_(t);return e&&(r||n==!1)?S_(e,t):t}const Ig=e=>e instanceof Bi?{...e}:e;function Xs(e,t){t=t||{};const n={};function r(u,f,a,l){return kt.isPlainObject(u)&&kt.isPlainObject(f)?kt.merge.call({caseless:l},u,f):kt.isPlainObject(f)?kt.merge({},f):kt.isArray(f)?f.slice():f}function c(u,f,a,l){if(kt.isUndefined(f)){if(!kt.isUndefined(u))return r(void 0,u,a,l)}else return r(u,f,a,l)}function p(u,f){if(!kt.isUndefined(f))return r(void 0,f)}function v(u,f){if(kt.isUndefined(f)){if(!kt.isUndefined(u))return r(void 0,u)}else return r(void 0,f)}function o(u,f,a){if(a in t)return r(u,f);if(a in e)return r(void 0,u)}const i={url:p,method:p,data:p,baseURL:v,transformRequest:v,transformResponse:v,paramsSerializer:v,timeout:v,timeoutMessage:v,withCredentials:v,withXSRFToken:v,adapter:v,responseType:v,xsrfCookieName:v,xsrfHeaderName:v,onUploadProgress:v,onDownloadProgress:v,decompress:v,maxContentLength:v,maxBodyLength:v,beforeRedirect:v,transport:v,httpAgent:v,httpsAgent:v,cancelToken:v,socketPath:v,responseEncoding:v,validateStatus:o,headers:(u,f,a)=>c(Ig(u),Ig(f),a,!0)};return kt.forEach(Object.keys(Object.assign({},e,t)),function(f){const a=i[f]||c,l=a(e[f],t[f],f);kt.isUndefined(l)&&a!==o||(n[f]=l)}),n}const R0=e=>{const t=Xs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:c,xsrfCookieName:p,headers:v,auth:o}=t;t.headers=v=Bi.from(v),t.url=E0(M0(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&v.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let i;if(kt.isFormData(n)){if(Mn.hasStandardBrowserEnv||Mn.hasStandardBrowserWebWorkerEnv)v.setContentType(void 0);else if((i=v.getContentType())!==!1){const[u,...f]=i?i.split(";").map(a=>a.trim()).filter(Boolean):[];v.setContentType([u||"multipart/form-data",...f].join("; "))}}if(Mn.hasStandardBrowserEnv&&(r&&kt.isFunction(r)&&(r=r(t)),r||r!==!1&&w_(t.url))){const u=c&&p&&__.read(p);u&&v.set(c,u)}return t},C_=typeof XMLHttpRequest<"u",A_=C_&&function(e){return new Promise(function(n,r){const c=R0(e);let p=c.data;const v=Bi.from(c.headers).normalize();let{responseType:o,onUploadProgress:i,onDownloadProgress:u}=c,f,a,l,s,h;function g(){s&&s(),h&&h(),c.cancelToken&&c.cancelToken.unsubscribe(f),c.signal&&c.signal.removeEventListener("abort",f)}let d=new XMLHttpRequest;d.open(c.method.toUpperCase(),c.url,!0),d.timeout=c.timeout;function m(){if(!d)return;const _=Bi.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),A={data:!o||o==="text"||o==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:_,config:e,request:d};D0(function(E){n(E),g()},function(E){r(E),g()},A),d=null}"onloadend"in d?d.onloadend=m:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(m)},d.onabort=function(){!d||(r(new pe("Request aborted",pe.ECONNABORTED,e,d)),d=null)},d.onerror=function(){r(new pe("Network Error",pe.ERR_NETWORK,e,d)),d=null},d.ontimeout=function(){let x=c.timeout?"timeout of "+c.timeout+"ms exceeded":"timeout exceeded";const A=c.transitional||N0;c.timeoutErrorMessage&&(x=c.timeoutErrorMessage),r(new pe(x,A.clarifyTimeoutError?pe.ETIMEDOUT:pe.ECONNABORTED,e,d)),d=null},p===void 0&&v.setContentType(null),"setRequestHeader"in d&&kt.forEach(v.toJSON(),function(x,A){d.setRequestHeader(A,x)}),kt.isUndefined(c.withCredentials)||(d.withCredentials=!!c.withCredentials),o&&o!=="json"&&(d.responseType=c.responseType),u&&([l,h]=iu(u,!0),d.addEventListener("progress",l)),i&&d.upload&&([a,s]=iu(i),d.upload.addEventListener("progress",a),d.upload.addEventListener("loadend",s)),(c.cancelToken||c.signal)&&(f=_=>{!d||(r(!_||_.type?new ro(null,e,d):_),d.abort(),d=null)},c.cancelToken&&c.cancelToken.subscribe(f),c.signal&&(c.signal.aborted?f():c.signal.addEventListener("abort",f)));const b=v_(c.url);if(b&&Mn.protocols.indexOf(b)===-1){r(new pe("Unsupported protocol "+b+":",pe.ERR_BAD_REQUEST,e));return}d.send(p||null)})},T_=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,c;const p=function(u){if(!c){c=!0,o();const f=u instanceof Error?u:this.reason;r.abort(f instanceof pe?f:new ro(f instanceof Error?f.message:f))}};let v=t&&setTimeout(()=>{v=null,p(new pe(`timeout ${t} of ms exceeded`,pe.ETIMEDOUT))},t);const o=()=>{e&&(v&&clearTimeout(v),v=null,e.forEach(u=>{u.unsubscribe?u.unsubscribe(p):u.removeEventListener("abort",p)}),e=null)};e.forEach(u=>u.addEventListener("abort",p));const{signal:i}=r;return i.unsubscribe=()=>kt.asap(o),i}},P_=T_,O_=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,c;for(;r<n;)c=r+t,yield e.slice(r,c),r=c},L_=async function*(e,t){for await(const n of k_(e))yield*O_(n,t)},k_=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},Dg=(e,t,n,r)=>{const c=L_(e,t);let p=0,v,o=i=>{v||(v=!0,r&&r(i))};return new ReadableStream({async pull(i){try{const{done:u,value:f}=await c.next();if(u){o(),i.close();return}let a=f.byteLength;if(n){let l=p+=a;n(l)}i.enqueue(new Uint8Array(f))}catch(u){throw o(u),u}},cancel(i){return o(i),c.return()}},{highWaterMark:2})},ku=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",j0=ku&&typeof ReadableStream=="function",E_=ku&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),B0=(e,...t)=>{try{return!!e(...t)}catch{return!1}},N_=j0&&B0(()=>{let e=!1;const t=new Request(Mn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),Mg=64*1024,Nh=j0&&B0(()=>kt.isReadableStream(new Response("").body)),ru={stream:Nh&&(e=>e.body)};ku&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!ru[t]&&(ru[t]=kt.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new pe(`Response type '${t}' is not supported`,pe.ERR_NOT_SUPPORT,r)})})})(new Response);const F_=async e=>{if(e==null)return 0;if(kt.isBlob(e))return e.size;if(kt.isSpecCompliantForm(e))return(await new Request(Mn.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(kt.isArrayBufferView(e)||kt.isArrayBuffer(e))return e.byteLength;if(kt.isURLSearchParams(e)&&(e=e+""),kt.isString(e))return(await E_(e)).byteLength},I_=async(e,t)=>{const n=kt.toFiniteNumber(e.getContentLength());return n==null?F_(t):n},D_=ku&&(async e=>{let{url:t,method:n,data:r,signal:c,cancelToken:p,timeout:v,onDownloadProgress:o,onUploadProgress:i,responseType:u,headers:f,withCredentials:a="same-origin",fetchOptions:l}=R0(e);u=u?(u+"").toLowerCase():"text";let s=P_([c,p&&p.toAbortSignal()],v),h;const g=s&&s.unsubscribe&&(()=>{s.unsubscribe()});let d;try{if(i&&N_&&n!=="get"&&n!=="head"&&(d=await I_(f,r))!==0){let A=new Request(t,{method:"POST",body:r,duplex:"half"}),L;if(kt.isFormData(r)&&(L=A.headers.get("content-type"))&&f.setContentType(L),A.body){const[E,F]=Ng(d,iu(Fg(i)));r=Dg(A.body,Mg,E,F)}}kt.isString(a)||(a=a?"include":"omit");const m="credentials"in Request.prototype;h=new Request(t,{...l,signal:s,method:n.toUpperCase(),headers:f.normalize().toJSON(),body:r,duplex:"half",credentials:m?a:void 0});let b=await fetch(h);const _=Nh&&(u==="stream"||u==="response");if(Nh&&(o||_&&g)){const A={};["status","statusText","headers"].forEach(Y=>{A[Y]=b[Y]});const L=kt.toFiniteNumber(b.headers.get("content-length")),[E,F]=o&&Ng(L,iu(Fg(o),!0))||[];b=new Response(Dg(b.body,Mg,E,()=>{F&&F(),g&&g()}),A)}u=u||"text";let x=await ru[kt.findKey(ru,u)||"text"](b,e);return!_&&g&&g(),await new Promise((A,L)=>{D0(A,L,{data:x,headers:Bi.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:h})})}catch(m){throw g&&g(),m&&m.name==="TypeError"&&/fetch/i.test(m.message)?Object.assign(new pe("Network Error",pe.ERR_NETWORK,e,h),{cause:m.cause||m}):pe.from(m,m&&m.code,e,h)}}),Fh={http:Gw,xhr:A_,fetch:D_};kt.forEach(Fh,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const Rg=e=>`- ${e}`,M_=e=>kt.isFunction(e)||e===null||e===!1,U0={getAdapter:e=>{e=kt.isArray(e)?e:[e];const{length:t}=e;let n,r;const c={};for(let p=0;p<t;p++){n=e[p];let v;if(r=n,!M_(n)&&(r=Fh[(v=String(n)).toLowerCase()],r===void 0))throw new pe(`Unknown adapter '${v}'`);if(r)break;c[v||"#"+p]=r}if(!r){const p=Object.entries(c).map(([o,i])=>`adapter ${o} `+(i===!1?"is not supported by the environment":"is not available in the build"));let v=t?p.length>1?`since :
`+p.map(Rg).join(`
`):" "+Rg(p[0]):"as no adapter specified";throw new pe("There is no suitable adapter to dispatch the request "+v,"ERR_NOT_SUPPORT")}return r},adapters:Fh};function Qf(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ro(null,e)}function jg(e){return Qf(e),e.headers=Bi.from(e.headers),e.data=Jf.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),U0.getAdapter(e.adapter||Ld.adapter)(e).then(function(r){return Qf(e),r.data=Jf.call(e,e.transformResponse,r),r.headers=Bi.from(r.headers),r},function(r){return I0(r)||(Qf(e),r&&r.response&&(r.response.data=Jf.call(e,e.transformResponse,r.response),r.response.headers=Bi.from(r.response.headers))),Promise.reject(r)})}const z0="1.8.4",Eu={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Eu[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const Bg={};Eu.transitional=function(t,n,r){function c(p,v){return"[Axios v"+z0+"] Transitional option '"+p+"'"+v+(r?". "+r:"")}return(p,v,o)=>{if(t===!1)throw new pe(c(v," has been removed"+(n?" in "+n:"")),pe.ERR_DEPRECATED);return n&&!Bg[v]&&(Bg[v]=!0,console.warn(c(v," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(p,v,o):!0}};Eu.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function R_(e,t,n){if(typeof e!="object")throw new pe("options must be an object",pe.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let c=r.length;for(;c-- >0;){const p=r[c],v=t[p];if(v){const o=e[p],i=o===void 0||v(o,p,e);if(i!==!0)throw new pe("option "+p+" must be "+i,pe.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new pe("Unknown option "+p,pe.ERR_BAD_OPTION)}}const qc={assertOptions:R_,validators:Eu},nr=qc.validators;class su{constructor(t){this.defaults=t,this.interceptors={request:new kg,response:new kg}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let c={};Error.captureStackTrace?Error.captureStackTrace(c):c=new Error;const p=c.stack?c.stack.replace(/^.+\n/,""):"";try{r.stack?p&&!String(r.stack).endsWith(p.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+p):r.stack=p}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Xs(this.defaults,n);const{transitional:r,paramsSerializer:c,headers:p}=n;r!==void 0&&qc.assertOptions(r,{silentJSONParsing:nr.transitional(nr.boolean),forcedJSONParsing:nr.transitional(nr.boolean),clarifyTimeoutError:nr.transitional(nr.boolean)},!1),c!=null&&(kt.isFunction(c)?n.paramsSerializer={serialize:c}:qc.assertOptions(c,{encode:nr.function,serialize:nr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),qc.assertOptions(n,{baseUrl:nr.spelling("baseURL"),withXsrfToken:nr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let v=p&&kt.merge(p.common,p[n.method]);p&&kt.forEach(["delete","get","head","post","put","patch","common"],h=>{delete p[h]}),n.headers=Bi.concat(v,p);const o=[];let i=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(i=i&&g.synchronous,o.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let f,a=0,l;if(!i){const h=[jg.bind(this),void 0];for(h.unshift.apply(h,o),h.push.apply(h,u),l=h.length,f=Promise.resolve(n);a<l;)f=f.then(h[a++],h[a++]);return f}l=o.length;let s=n;for(a=0;a<l;){const h=o[a++],g=o[a++];try{s=h(s)}catch(d){g.call(this,d);break}}try{f=jg.call(this,s)}catch(h){return Promise.reject(h)}for(a=0,l=u.length;a<l;)f=f.then(u[a++],u[a++]);return f}getUri(t){t=Xs(this.defaults,t);const n=M0(t.baseURL,t.url,t.allowAbsoluteUrls);return E0(n,t.params,t.paramsSerializer)}}kt.forEach(["delete","get","head","options"],function(t){su.prototype[t]=function(n,r){return this.request(Xs(r||{},{method:t,url:n,data:(r||{}).data}))}});kt.forEach(["post","put","patch"],function(t){function n(r){return function(p,v,o){return this.request(Xs(o||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:p,data:v}))}}su.prototype[t]=n(),su.prototype[t+"Form"]=n(!0)});const Hc=su;class kd{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(p){n=p});const r=this;this.promise.then(c=>{if(!r._listeners)return;let p=r._listeners.length;for(;p-- >0;)r._listeners[p](c);r._listeners=null}),this.promise.then=c=>{let p;const v=new Promise(o=>{r.subscribe(o),p=o}).then(c);return v.cancel=function(){r.unsubscribe(p)},v},t(function(p,v,o){r.reason||(r.reason=new ro(p,v,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new kd(function(c){t=c}),cancel:t}}}const j_=kd;function B_(e){return function(n){return e.apply(null,n)}}function U_(e){return kt.isObject(e)&&e.isAxiosError===!0}const Ih={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ih).forEach(([e,t])=>{Ih[t]=e});const z_=Ih;function q0(e){const t=new Hc(e),n=w0(Hc.prototype.request,t);return kt.extend(n,Hc.prototype,t,{allOwnKeys:!0}),kt.extend(n,t,null,{allOwnKeys:!0}),n.create=function(c){return q0(Xs(e,c))},n}const hn=q0(Ld);hn.Axios=Hc;hn.CanceledError=ro;hn.CancelToken=j_;hn.isCancel=I0;hn.VERSION=z0;hn.toFormData=Ou;hn.AxiosError=pe;hn.Cancel=hn.CanceledError;hn.all=function(t){return Promise.all(t)};hn.spread=B_;hn.isAxiosError=U_;hn.mergeConfig=Xs;hn.AxiosHeaders=Bi;hn.formToJSON=e=>F0(kt.isHTMLForm(e)?new FormData(e):e);hn.getAdapter=U0.getAdapter;hn.HttpStatusCode=z_;hn.default=hn;const dr=hn,Ed="https://auto-signature-app-v7-4.fly.dev",H0=e=>dr.post(`${Ed}/image/`,e),q_=()=>dr.get(`${Ed}/image/`),H_=(e,t,n)=>dr.delete(`${Ed}/image/${e}/hash/${t}/image-str/${n}`);const Wn=(e,t)=>{const n=e.__vccOpts||e;for(const[r,c]of t)n[r]=c;return n},W_={name:"CanvasModule",components:{VueDrawingCanvas:cw},props:{isSignSelf:{type:Boolean,default:!1}},emits:["page-loading"],data(){return{initialImage:[{type:"dash",from:{x:262,y:154},coordinates:[],color:"#000000",width:5,fill:!1}],x:0,y:0,image:"",eraser:!1,disabled:!1,fillShape:!1,line:5,color:"#000000",strokeType:"dash",lineCap:"square",lineJoin:"round",backgroundColor:"transparent",backgroundImage:null,watermark:null,additionalImages:[],isFile:!1}},mounted(){this.init()},methods:{init(){this.initialImage=[{type:"dash",from:{x:262,y:154},coordinates:[],color:"#000000",width:5,fill:!1}]},async setImage(e){let t=window.URL;console.log(e.target.files[0]),this.backgroundImage=t.createObjectURL(e.target.files[0]),await this.$refs.VueCanvasDrawing.redraw()},async setWatermarkImage(e){let t=window.URL;this.watermark={type:"Image",source:t.createObjectURL(e.target.files[0]),x:0,y:0,imageStyle:{width:600,height:400}},await this.$refs.VueCanvasDrawing.redraw(),this.isFile=!0},getCoordinate(e){let t=this.$refs.VueCanvasDrawing.getCoordinates(e);this.x=t.x,this.y=t.y},getStrokes(){const e=this.dataURItoBlob(this.image),t=new FormData;t.append("image",e,"image"+Math.round(Math.random()*1e3)),H0(t).then(n=>{Zt.emit("page-loading",!0),n.data.status==!0&&(this.$emit("sign"),Zt.emit("page-loading",!1))}).catch(n=>{alert(n.message),Zt.emit("page-loading",!1)})},removeSavedStrokes(){this.$refs.VueCanvasDrawing.reset()},getColor(e){this.color=e},dataURItoBlob(e){console.log(e);var t;e.split(",")[0].indexOf("base64")>=0?t=atob(e.split(",")[1]):t=unescape(e.split(",")[1]),e.split(",")[0].split(":")[1].split(";")[0];for(var n=new Uint8Array(t.length),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return new Blob([n],{type:"image/png"})}}},V_={class:"flex flex-col items-center"},Y_={class:"source px-2"},X_={class:"bg-white rounded-3xl max-w-xs md:max-w-none overflow-hidden"},G_={class:"p-2"},K_={class:"p-2"},$_={class:"output"},J_={key:0,style:{width:"600px",height:"400px"},class:"bg-white round"},Q_=["src"],Z_={key:1,style:{width:"600px",height:"400px"},class:"bg-white round"};function tx(e,t,n,r,c,p){const v=un("vue-drawing-canvas");return ae(),ge("div",V_,[ar(Pt("div",Y_,[t[7]||(t[7]=Pt("div",{class:"signTitle"},"\u5EFA\u7ACB\u7C3D\u540D",-1)),Pt("div",X_,[ye(v,{ref:"VueCanvasDrawing",image:c.image,"onUpdate:image":t[0]||(t[0]=o=>c.image=o),width:400,height:400,"stroke-type":c.strokeType,"line-cap":c.lineCap,"line-join":c.lineJoin,"fill-shape":c.fillShape,eraser:c.eraser,lineWidth:c.line,color:c.color,"background-color":c.backgroundColor,"background-image":c.backgroundImage,watermark:c.watermark,"initial-image":c.initialImage,saveAs:"png",styles:{"border-radius":"26px"},lock:c.disabled,"additional-images":c.additionalImages},null,8,["image","stroke-type","line-cap","line-join","fill-shape","eraser","lineWidth","color","background-color","background-image","watermark","initial-image","lock","additional-images"])])],512),[[Xp,n.isSignSelf]]),Pt("div",{class:cn(["flex items-center justify-between mb-6 w-full",{invisible:!n.isSignSelf}])},[Pt("div",G_,[Pt("button",{type:"button",onClick:t[1]||(t[1]=Ws(o=>p.removeSavedStrokes(),["prevent"])),class:"py-3 px-3 w-[80px] rounded-lg border-2",style:{background:"#FFFFFF"}}," clear ")]),Pt("div",null,[Pt("a",{class:"h-8 w-8 rounded-full inline-block bg-black m-2 relative",onClick:t[2]||(t[2]=o=>p.getColor("#000000"))},[Pt("div",{class:cn(["h-7 w-7 rounded-full inline-block bg-black absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":c.color==="#000000"}])},null,2)]),Pt("a",{class:"h-8 w-8 rounded-full inline-block bg-blue-700 m-2 relative",onClick:t[3]||(t[3]=o=>p.getColor("#0014C7"))},[Pt("div",{class:cn(["h-7 w-7 rounded-full inline-block absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":c.color==="#0014C7"}])},null,2)]),Pt("a",{class:"h-8 w-8 rounded-full inline-block bg-red-700 m-2 relative",onClick:t[4]||(t[4]=o=>p.getColor("#CA0000"))},[Pt("div",{class:cn(["h-7 w-7 rounded-full inline-block bg-red-700 absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2",{"border-2 border-white":c.color==="#CA0000"}])},null,2)])]),Pt("div",K_,[Pt("button",{type:"button",onClick:t[5]||(t[5]=Ws(o=>p.getStrokes(),["prevent"])),class:"py-3 px-3 w-[80px] rounded-lg border-2",style:{background:"#FFFFFF"}}," save ")])],2),ar(Pt("div",$_,[c.isFile?(ae(),ge("div",J_,[Pt("img",{src:c.image,style:{"border-radius":"26px"}},null,8,Q_)])):(ae(),ge("div",Z_,[t[8]||(t[8]=Pt("label",{for:"file-upload",class:"custom-file-upload w-full flex items-center justify-center"},[Pt("span",null,"\u8ACB\u9078\u64C7\u6A94\u6848")],-1)),Pt("input",{type:"file",onChange:t[6]||(t[6]=o=>p.setWatermarkImage(o)),accept:"image/*",id:"file-upload"},null,32)]))],512),[[Xp,!n.isSignSelf]])])}const ex=Wn(W_,[["render",tx],["__scopeId","data-v-49e6be06"]]),Xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAASCAYAAABWzo5XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAG7SURBVHgBlVRLUsJAEJ0egrLSeIN4A7wBH91DibL0CPx0LVkrRG+gS0ss2CsmN4Aj5AZmI1oVMmN3PhhSSRV5VSk6PUPn9Zt+AyyB6bChlvaZqiiKxlIgJTjfK9duDmdOPA9R8H7XqhQKcIthhe2GpRBCP71+m20KfdyfNzjnU1qUUj5j2hFC2mn/BpAqAGj4dPBV8zxZPbuZWAotcu4zsQHcaq2/TTkLptF4krJohl1YgAkVE1/IpFcfTB5YDsxHrS4yM5DAEXfdokZJLGSz3ACf/V6RH3LqOSgEWy2R+Oa43dm0gjHl4nsiHVc//FjJ+hbnrCyZMEzjMvyQGHJe6GFope7PKkR6Ybs6PsPw0euDl0wNMwsFrLhMi3MVohOJmETM5qN2N2t/pkZCsCWS2IwEFsYh9ZaZhRC2lB5SF1p8gaaVxYRNm7HgxAGLgIOt/YbHzlWWE2SVIHJt32uf4wsTf1SySLW3m0Xoljg8KC4wdGr91xNfIzSejp4x0SoL1OKRpjw5oBHQlxpOFRn3Cl81vAGaPrtoQ3ADkAGhzHaCtDyP6aGW/4UikInJf5F1kliv13apxJykBH9Vu9l1rta4XgAAAABJRU5ErkJggg==",Ug="/SIGN/assets/icon_add_new_sign_n.733bf537.svg",zg="/SIGN/assets/icon_add_new_img_n.363439d2.svg",nx={name:"selectSign",components:{CanvasDraw:ex},props:["showSignModal"],setup(e,t){const n=Qt([]),r=Qt(!0),c=Qt(""),p=Qt([]);eo(()=>{v()});const v=()=>{q_().then(b=>{if(b.data.status==!0){const _=b.data.data;_.length>0?(n.value=[],_.forEach(x=>{g(x.imageUrl,x._id,x.imageDeleteHash)})):n.value=[]}}).catch(b=>{alert(b.message)})},o=(b,_,x)=>{let L=x.split("/")[3];H_(b,_,L).then(E=>{E.data.status==!0&&(alert(E.data.data),v())}).catch(E=>{alert(E.message)})},i=()=>{t.emit("closeWarning")},u=Qt("");Zt.on("addCanvas",b=>{u.value=b});const f=Qt(""),a=b=>{f.value=b,fabric.Image.fromURL(f.value,_=>{_.top=100,_.left=100,_.scaleX=.5,_.scaleY=.5,u.value.add(_)}),i()},l=Qt(null),s=Qt(!0),h=()=>{l.value!=null,s.value=!0,v()},g=(b,_,x)=>{const A=new Image;A.crossOrigin="anonymous",A.onload=()=>{const L=document.createElement("canvas"),E=L.getContext("2d");L.height=A.naturalHeight,L.width=A.naturalWidth,E.drawImage(A,0,0);const F=L.toDataURL();c.value=F,n.value.push({id:_,url:c.value,hash:String(x),imageUrl:String(b)}),p.value=[...n.value]},A.src=b},d=Qt("");return{signArr:n,closeWarning:i,selectedSign:a,init:v,isSelectMode:s,isSignSelf:r,getStroke:f,signStatus:l,getSign:h,getCanvas:u,getUrl:c,getBase64FromUrl:g,deleteImageBtn:o,uploadImageBtn:()=>{let b=new FormData;b.append("image",d.value.files[0]),d.value.files[0].size>0&&H0(b).then(_=>{_.data.status==!0&&(alert(_.data.data),v())}).catch(_=>{alert(_.message)})},fileElement:d,getSignData:p}}},ix={key:0,class:"draw_modal w-full left-0 top-0 fixed"},rx={key:0,class:"card-inner absolute text-xl pop-container-choose w-full z-50"},sx={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},ax={class:"px-4 py-6 flex flex-col justify-center w-full"},ox={class:"selected-modal overflow-auto flex items-center justify-center flex-wrap"},lx=["onClick"],cx=["src"],ux=["onClick"],fx={class:"flex justify-center mt-4"},hx={key:1,class:"card-inner absolute text-xl pop-container-choose w-full z-50"},dx={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},px={class:"px-4 py-6 flex flex-col justify-center w-full"},gx={class:"flex justify-center mt-4 bg-white rounded"},mx={key:2,class:"card-inner absolute text-xl w-[500px] z-50 pop-container max-[768px]:w-[343px]"},vx={class:"bg rounded-3xl overflow-hidden shadow-lg w-full"},yx={class:"index_Sign flex flex-col items-center w-full py-4 px-2"};function bx(e,t,n,r,c,p){const v=un("CanvasDraw");return n.showSignModal==!0?(ae(),ge("div",ix,[r.signArr.length>0?(ae(),ge("div",rx,[Pt("div",{class:"relative mt-3",onClick:t[0]||(t[0]=(...o)=>r.closeWarning&&r.closeWarning(...o))},t[8]||(t[8]=[Pt("img",{class:"absolute right-0 top-0 mr-4 mt-3 close_square",src:Xo},null,-1)])),Pt("div",sx,[Pt("div",ax,[t[13]||(t[13]=Pt("div",{class:"font-bold text-lg mb-8 whitespace-nowrap text-center proj-text-primary"},"\u9078\u64C7\u7C3D\u540D",-1)),Pt("div",ox,[(ae(!0),ge(wn,null,yu(r.signArr,(o,i)=>(ae(),ge("div",{class:"mb-2 flex justify-center",key:i},[Pt("div",{class:"h-auto bg-white w-4/5 rounded-3xl py-2",onClick:u=>r.selectedSign(o.url)},[Pt("img",{src:o.url,class:"sign mx-auto object-contain w-36 h-20",alt:"",referrerpolicy:"no-referrer"},null,8,cx)],8,lx),Pt("span",{onClick:u=>r.deleteImageBtn(o.id,o.hash,o.imageUrl)},t[9]||(t[9]=[Pt("img",{class:"mr-4 mt-2",src:Xo},null,-1)]),8,ux)]))),128))]),Pt("label",{class:"flex justify-center proj-text-primary block mt-4 font-bold text-lg whitespace-nowrap",onClick:t[1]||(t[1]=o=>r.isSelectMode=!1)},t[10]||(t[10]=[Pt("img",{src:Ug},null,-1),Pt("a",{class:"text-[#8C5D19] font-[700] text-[14px] ml-1"},"\u5EFA\u7ACB\u7C3D\u540D",-1)])),Pt("label",fx,[t[11]||(t[11]=Pt("img",{src:zg},null,-1)),t[12]||(t[12]=Pt("a",{class:"text-[#8C5D19] font-[700] text-[14px] ml-1"},"\u4E0A\u50B3\u7C3D\u540D\u5716\u6A94",-1)),Pt("input",{class:"form-control hidden",ref:"fileElement",type:"file",accept:"image/*",onChange:t[2]||(t[2]=o=>r.uploadImageBtn())},null,544)])])])])):gn("",!0),r.signArr.length==0?(ae(),ge("div",hx,[Pt("div",{class:"relative mt-3",onClick:t[3]||(t[3]=(...o)=>r.closeWarning&&r.closeWarning(...o))},t[14]||(t[14]=[Pt("img",{class:"absolute right-0 top-0 mr-4 mt-3 close_square",src:Xo},null,-1)])),Pt("div",dx,[Pt("div",px,[t[18]||(t[18]=Pt("div",{class:"font-bold text-lg mb-8 whitespace-nowrap text-center"},"\u76EE\u524D\u9084\u6C92\u6709\u7C3D\u540D\u5594~",-1)),t[19]||(t[19]=Pt("div",{class:"text-sm"},"\u8ACB\u5275\u5EFA\u65B0\u7684\u7C3D\u540D\u6A94\uFF0C\u53EF\u4E0A\u50B3\u5716\u7247\u6216\u7DDA\u4E0A\u7C3D\u540D",-1)),Pt("label",{class:"flex justify-center proj-text-primary block mt-4 whitespace-nowrap bg-white rounded",onClick:t[4]||(t[4]=o=>r.isSelectMode=!1)},t[15]||(t[15]=[Pt("img",{src:Ug},null,-1),Pt("a",{class:"text-[#8C5D19] font-[700] text-[14px] ml-1"},"\u5EFA\u7ACB\u7C3D\u540D",-1)])),Pt("label",gx,[t[16]||(t[16]=Pt("img",{src:zg},null,-1)),t[17]||(t[17]=Pt("a",{class:"text-[#8C5D19] font-[700] text-[14px] ml-1"},"\u4E0A\u50B3\u7C3D\u540D\u5716\u6A94",-1)),Pt("input",{class:"form-control hidden",ref:"fileElement",type:"file",accept:"image/*",onChange:t[5]||(t[5]=o=>r.uploadImageBtn())},null,544)])])])])):gn("",!0),r.isSelectMode?gn("",!0):(ae(),ge("div",mx,[Pt("div",vx,[Pt("div",{class:"relative mt-3",onClick:t[6]||(t[6]=o=>r.isSelectMode=!0)},t[20]||(t[20]=[Pt("img",{class:"absolute right-0 top-0 mr-4",src:Xo},null,-1)])),Pt("div",yx,[ye(v,{isSignSelf:r.isSignSelf,onCloseWarning:r.closeWarning,onGetStroke:r.getStroke,onSign:t[7]||(t[7]=o=>r.getSign())},null,8,["isSignSelf","onCloseWarning","onGetStroke"])])])]))])):gn("",!0)}const wx=Wn(nx,[["render",bx]]),_x={name:"addText",props:{showModal:{type:Boolean,default:!1}},setup(e,{emit:t}){const n=Qt("");return{text:n,addText:p=>{p=n.value,Zt.emit("saveText",p),t("hideTextModal")},closeWarning:()=>{n.value="",t("hideTextModal")}}}},xx={key:0,class:"w-full left-0 top-0 fixed h-screen",style:{background:"rgba(140, 93, 25, 0.3)"}},Sx={class:"text__container"},Cx={class:"text__container__content"};function Ax(e,t,n,r,c,p){return n.showModal?(ae(),ge("div",xx,[Pt("div",Sx,[Pt("div",{class:"text__container__header mt-3",onClick:t[0]||(t[0]=(...v)=>r.closeWarning&&r.closeWarning(...v))},t[3]||(t[3]=[Pt("img",{src:Xo},null,-1)])),Pt("div",Cx,[ar(Pt("textarea",{"onUpdate:modelValue":t[1]||(t[1]=v=>r.text=v),class:"textInput"},null,512),[[_d,r.text]])]),Pt("div",{class:"text__container__button",onClick:t[2]||(t[2]=v=>r.addText(e.val))},"\u65B0\u589E\u6587\u5B57")])])):gn("",!0)}const Tx=Wn(_x,[["render",Ax]]);function Px(e,t){return ae(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[Pt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Ox(e,t){return ae(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor","aria-hidden":"true","data-slot":"icon"},[Pt("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"})])}function Lx(e,t){return ae(),ge("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[Pt("path",{d:"M6.28 5.22a.75.75 0 0 0-1.06 1.06L8.94 10l-3.72 3.72a.75.75 0 1 0 1.06 1.06L10 11.06l3.72 3.72a.75.75 0 1 0 1.06-1.06L11.06 10l3.72-3.72a.75.75 0 0 0-1.06-1.06L10 8.94 6.28 5.22Z"})])}const kx={name:"alertMessage",components:{CheckCircleIcon:Px,XMarkIcon:Lx,XCircleIcon:Ox},props:["showAlert","textContent","uploadStatus"]},Ex={key:0},Nx={"aria-live":"assertive",class:"pointer-events-none fixed inset-0 flex items-end px-4 py-6 sm:items-start sm:p-6"},Fx={class:"flex w-full flex-col items-center space-y-4 sm:items-end"},Ix={class:"pointer-events-auto w-full max-w-sm overflow-hidden rounded-lg bg-white shadow-lg ring-1 ring-black ring-opacity-5"},Dx={class:"p-4"},Mx={class:"flex items-start"},Rx={class:"flex-shrink-0"},jx={class:"ml-3 w-0 flex-1 pt-0.5"},Bx={class:"text-sm font-medium text-gray-900"},Ux={class:"ml-4 flex flex-shrink-0"};function zx(e,t,n,r,c,p){const v=un("CheckCircleIcon"),o=un("XCircleIcon"),i=un("XMarkIcon");return n.showAlert?(ae(),ge("div",Ex,[Pt("div",Nx,[Pt("div",Fx,[ye(Fy,{"enter-active-class":"transform ease-out duration-300 transition","enter-from-class":"translate-y-2 opacity-0 sm:translate-y-0 sm:translate-x-2","enter-to-class":"translate-y-0 opacity-100 sm:translate-x-0","leave-active-class":"transition ease-in duration-100","leave-from-class":"opacity-100","leave-to-class":"opacity-0"},{default:is(()=>[Pt("div",Ix,[Pt("div",Dx,[Pt("div",Mx,[Pt("div",Rx,[n.uploadStatus?(ae(),fl(v,{key:0,class:"h-6 w-6 text-[#DEAF7B]","aria-hidden":"true"})):gn("",!0),n.uploadStatus==!1?(ae(),fl(o,{key:1,class:"h-6 w-6 text-rose-600","aria-hidden":"true"})):gn("",!0)]),Pt("div",jx,[Pt("p",Bx,us(n.textContent),1)]),Pt("div",Ux,[Pt("button",{type:"button",onClick:t[0]||(t[0]=u=>n.showAlert=!1),class:"inline-flex rounded-md bg-white text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2"},[t[1]||(t[1]=Pt("span",{class:"sr-only"},"Close",-1)),ye(i,{class:"h-5 w-5","aria-hidden":"true"})])])])])])]),_:1})])])])):gn("",!0)}const qx=Wn(kx,[["render",zx]]),so="https://auto-signature-app-v7-4.fly.dev",Hx=e=>dr.post(`${so}/file`,e),qg=(e,t)=>dr.patch(`${so}/file/${e}/signInfo`,t),Wx=(e,t)=>dr.patch(`${so}/file/${e}/fileInfo`,t),Hg=(e,t)=>dr.get(`${so}/file?from=${e}&count=${t}`),Vx=e=>dr.get(`${so}/file/${e}`),Yx=(e,t)=>dr.delete(`${so}/file/${e}/filename/${t}`),Xx=e=>dr.get(`${e}`,{responseType:"blob"});/*!
  * vue-router v4.5.0
  * (c) 2024 Eduardo San Martin Morote
  * @license MIT
  */const Fa=typeof document<"u";function W0(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function Gx(e){return e.__esModule||e[Symbol.toStringTag]==="Module"||e.default&&W0(e.default)}const Pe=Object.assign;function Zf(e,t){const n={};for(const r in t){const c=t[r];n[r]=qi(c)?c.map(e):e(c)}return n}const el=()=>{},qi=Array.isArray,V0=/#/g,Kx=/&/g,$x=/\//g,Jx=/=/g,Qx=/\?/g,Y0=/\+/g,Zx=/%5B/g,tS=/%5D/g,X0=/%5E/g,eS=/%60/g,G0=/%7B/g,nS=/%7C/g,K0=/%7D/g,iS=/%20/g;function Nd(e){return encodeURI(""+e).replace(nS,"|").replace(Zx,"[").replace(tS,"]")}function rS(e){return Nd(e).replace(G0,"{").replace(K0,"}").replace(X0,"^")}function Dh(e){return Nd(e).replace(Y0,"%2B").replace(iS,"+").replace(V0,"%23").replace(Kx,"%26").replace(eS,"`").replace(G0,"{").replace(K0,"}").replace(X0,"^")}function sS(e){return Dh(e).replace(Jx,"%3D")}function aS(e){return Nd(e).replace(V0,"%23").replace(Qx,"%3F")}function oS(e){return e==null?"":aS(e).replace($x,"%2F")}function yl(e){try{return decodeURIComponent(""+e)}catch{}return""+e}const lS=/\/$/,cS=e=>e.replace(lS,"");function th(e,t,n="/"){let r,c={},p="",v="";const o=t.indexOf("#");let i=t.indexOf("?");return o<i&&o>=0&&(i=-1),i>-1&&(r=t.slice(0,i),p=t.slice(i+1,o>-1?o:t.length),c=e(p)),o>-1&&(r=r||t.slice(0,o),v=t.slice(o,t.length)),r=dS(r!=null?r:t,n),{fullPath:r+(p&&"?")+p+v,path:r,query:c,hash:yl(v)}}function uS(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function Wg(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function fS(e,t,n){const r=t.matched.length-1,c=n.matched.length-1;return r>-1&&r===c&&$a(t.matched[r],n.matched[c])&&$0(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function $a(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function $0(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!hS(e[n],t[n]))return!1;return!0}function hS(e,t){return qi(e)?Vg(e,t):qi(t)?Vg(t,e):e===t}function Vg(e,t){return qi(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function dS(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),c=r[r.length-1];(c===".."||c===".")&&r.push("");let p=n.length-1,v,o;for(v=0;v<r.length;v++)if(o=r[v],o!==".")if(o==="..")p>1&&p--;else break;return n.slice(0,p).join("/")+"/"+r.slice(v).join("/")}const ts={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var bl;(function(e){e.pop="pop",e.push="push"})(bl||(bl={}));var nl;(function(e){e.back="back",e.forward="forward",e.unknown=""})(nl||(nl={}));function pS(e){if(!e)if(Fa){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),cS(e)}const gS=/^[^#]+#/;function mS(e,t){return e.replace(gS,"#")+t}function vS(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Nu=()=>({left:window.scrollX,top:window.scrollY});function yS(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),c=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!c)return;t=vS(c,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.scrollX,t.top!=null?t.top:window.scrollY)}function Yg(e,t){return(history.state?history.state.position-t:-1)+e}const Mh=new Map;function bS(e,t){Mh.set(e,t)}function wS(e){const t=Mh.get(e);return Mh.delete(e),t}let _S=()=>location.protocol+"//"+location.host;function J0(e,t){const{pathname:n,search:r,hash:c}=t,p=e.indexOf("#");if(p>-1){let o=c.includes(e.slice(p))?e.slice(p).length:1,i=c.slice(o);return i[0]!=="/"&&(i="/"+i),Wg(i,"")}return Wg(n,e)+r+c}function xS(e,t,n,r){let c=[],p=[],v=null;const o=({state:l})=>{const s=J0(e,location),h=n.value,g=t.value;let d=0;if(l){if(n.value=s,t.value=l,v&&v===h){v=null;return}d=g?l.position-g.position:0}else r(s);c.forEach(m=>{m(n.value,h,{delta:d,type:bl.pop,direction:d?d>0?nl.forward:nl.back:nl.unknown})})};function i(){v=n.value}function u(l){c.push(l);const s=()=>{const h=c.indexOf(l);h>-1&&c.splice(h,1)};return p.push(s),s}function f(){const{history:l}=window;!l.state||l.replaceState(Pe({},l.state,{scroll:Nu()}),"")}function a(){for(const l of p)l();p=[],window.removeEventListener("popstate",o),window.removeEventListener("beforeunload",f)}return window.addEventListener("popstate",o),window.addEventListener("beforeunload",f,{passive:!0}),{pauseListeners:i,listen:u,destroy:a}}function Xg(e,t,n,r=!1,c=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:c?Nu():null}}function SS(e){const{history:t,location:n}=window,r={value:J0(e,n)},c={value:t.state};c.value||p(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function p(i,u,f){const a=e.indexOf("#"),l=a>-1?(n.host&&document.querySelector("base")?e:e.slice(a))+i:_S()+e+i;try{t[f?"replaceState":"pushState"](u,"",l),c.value=u}catch(s){console.error(s),n[f?"replace":"assign"](l)}}function v(i,u){const f=Pe({},t.state,Xg(c.value.back,i,c.value.forward,!0),u,{position:c.value.position});p(i,f,!0),r.value=i}function o(i,u){const f=Pe({},c.value,t.state,{forward:i,scroll:Nu()});p(f.current,f,!0);const a=Pe({},Xg(r.value,i,null),{position:f.position+1},u);p(i,a,!1),r.value=i}return{location:r,state:c,push:o,replace:v}}function CS(e){e=pS(e);const t=SS(e),n=xS(e,t.state,t.location,t.replace);function r(p,v=!0){v||n.pauseListeners(),history.go(p)}const c=Pe({location:"",base:e,go:r,createHref:mS.bind(null,e)},t,n);return Object.defineProperty(c,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(c,"state",{enumerable:!0,get:()=>t.state.value}),c}function AS(e){return e=location.host?e||location.pathname+location.search:"",e.includes("#")||(e+="#"),CS(e)}function TS(e){return typeof e=="string"||e&&typeof e=="object"}function Q0(e){return typeof e=="string"||typeof e=="symbol"}const Z0=Symbol("");var Gg;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(Gg||(Gg={}));function Ja(e,t){return Pe(new Error,{type:e,[Z0]:!0},t)}function Or(e,t){return e instanceof Error&&Z0 in e&&(t==null||!!(e.type&t))}const Kg="[^/]+?",PS={sensitive:!1,strict:!1,start:!0,end:!0},OS=/[.+*?^${}()[\]/\\]/g;function LS(e,t){const n=Pe({},PS,t),r=[];let c=n.start?"^":"";const p=[];for(const u of e){const f=u.length?[]:[90];n.strict&&!u.length&&(c+="/");for(let a=0;a<u.length;a++){const l=u[a];let s=40+(n.sensitive?.25:0);if(l.type===0)a||(c+="/"),c+=l.value.replace(OS,"\\$&"),s+=40;else if(l.type===1){const{value:h,repeatable:g,optional:d,regexp:m}=l;p.push({name:h,repeatable:g,optional:d});const b=m||Kg;if(b!==Kg){s+=10;try{new RegExp(`(${b})`)}catch(x){throw new Error(`Invalid custom RegExp for param "${h}" (${b}): `+x.message)}}let _=g?`((?:${b})(?:/(?:${b}))*)`:`(${b})`;a||(_=d&&u.length<2?`(?:/${_})`:"/"+_),d&&(_+="?"),c+=_,s+=20,d&&(s+=-8),g&&(s+=-20),b===".*"&&(s+=-50)}f.push(s)}r.push(f)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(c+="/?"),n.end?c+="$":n.strict&&!c.endsWith("/")&&(c+="(?:/|$)");const v=new RegExp(c,n.sensitive?"":"i");function o(u){const f=u.match(v),a={};if(!f)return null;for(let l=1;l<f.length;l++){const s=f[l]||"",h=p[l-1];a[h.name]=s&&h.repeatable?s.split("/"):s}return a}function i(u){let f="",a=!1;for(const l of e){(!a||!f.endsWith("/"))&&(f+="/"),a=!1;for(const s of l)if(s.type===0)f+=s.value;else if(s.type===1){const{value:h,repeatable:g,optional:d}=s,m=h in u?u[h]:"";if(qi(m)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const b=qi(m)?m.join("/"):m;if(!b)if(d)l.length<2&&(f.endsWith("/")?f=f.slice(0,-1):a=!0);else throw new Error(`Missing required param "${h}"`);f+=b}}return f||"/"}return{re:v,score:r,keys:p,parse:o,stringify:i}}function kS(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function t2(e,t){let n=0;const r=e.score,c=t.score;for(;n<r.length&&n<c.length;){const p=kS(r[n],c[n]);if(p)return p;n++}if(Math.abs(c.length-r.length)===1){if($g(r))return 1;if($g(c))return-1}return c.length-r.length}function $g(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const ES={type:0,value:""},NS=/[a-zA-Z0-9_]/;function FS(e){if(!e)return[[]];if(e==="/")return[[ES]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(s){throw new Error(`ERR (${n})/"${u}": ${s}`)}let n=0,r=n;const c=[];let p;function v(){p&&c.push(p),p=[]}let o=0,i,u="",f="";function a(){!u||(n===0?p.push({type:0,value:u}):n===1||n===2||n===3?(p.length>1&&(i==="*"||i==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),p.push({type:1,value:u,regexp:f,repeatable:i==="*"||i==="+",optional:i==="*"||i==="?"})):t("Invalid state to consume buffer"),u="")}function l(){u+=i}for(;o<e.length;){if(i=e[o++],i==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:i==="/"?(u&&a(),v()):i===":"?(a(),n=1):l();break;case 4:l(),n=r;break;case 1:i==="("?n=2:NS.test(i)?l():(a(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&o--);break;case 2:i===")"?f[f.length-1]=="\\"?f=f.slice(0,-1)+i:n=3:f+=i;break;case 3:a(),n=0,i!=="*"&&i!=="?"&&i!=="+"&&o--,f="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),a(),v(),c}function IS(e,t,n){const r=LS(FS(e.path),n),c=Pe(r,{record:e,parent:t,children:[],alias:[]});return t&&!c.record.aliasOf==!t.record.aliasOf&&t.children.push(c),c}function DS(e,t){const n=[],r=new Map;t=tm({strict:!1,end:!0,sensitive:!1},t);function c(a){return r.get(a)}function p(a,l,s){const h=!s,g=Qg(a);g.aliasOf=s&&s.record;const d=tm(t,a),m=[g];if("alias"in a){const x=typeof a.alias=="string"?[a.alias]:a.alias;for(const A of x)m.push(Qg(Pe({},g,{components:s?s.record.components:g.components,path:A,aliasOf:s?s.record:g})))}let b,_;for(const x of m){const{path:A}=x;if(l&&A[0]!=="/"){const L=l.record.path,E=L[L.length-1]==="/"?"":"/";x.path=l.record.path+(A&&E+A)}if(b=IS(x,l,d),s?s.alias.push(b):(_=_||b,_!==b&&_.alias.push(b),h&&a.name&&!Zg(b)&&v(a.name)),e2(b)&&i(b),g.children){const L=g.children;for(let E=0;E<L.length;E++)p(L[E],b,s&&s.children[E])}s=s||b}return _?()=>{v(_)}:el}function v(a){if(Q0(a)){const l=r.get(a);l&&(r.delete(a),n.splice(n.indexOf(l),1),l.children.forEach(v),l.alias.forEach(v))}else{const l=n.indexOf(a);l>-1&&(n.splice(l,1),a.record.name&&r.delete(a.record.name),a.children.forEach(v),a.alias.forEach(v))}}function o(){return n}function i(a){const l=jS(a,n);n.splice(l,0,a),a.record.name&&!Zg(a)&&r.set(a.record.name,a)}function u(a,l){let s,h={},g,d;if("name"in a&&a.name){if(s=r.get(a.name),!s)throw Ja(1,{location:a});d=s.record.name,h=Pe(Jg(l.params,s.keys.filter(_=>!_.optional).concat(s.parent?s.parent.keys.filter(_=>_.optional):[]).map(_=>_.name)),a.params&&Jg(a.params,s.keys.map(_=>_.name))),g=s.stringify(h)}else if(a.path!=null)g=a.path,s=n.find(_=>_.re.test(g)),s&&(h=s.parse(g),d=s.record.name);else{if(s=l.name?r.get(l.name):n.find(_=>_.re.test(l.path)),!s)throw Ja(1,{location:a,currentLocation:l});d=s.record.name,h=Pe({},l.params,a.params),g=s.stringify(h)}const m=[];let b=s;for(;b;)m.unshift(b.record),b=b.parent;return{name:d,path:g,params:h,matched:m,meta:RS(m)}}e.forEach(a=>p(a));function f(){n.length=0,r.clear()}return{addRoute:p,resolve:u,removeRoute:v,clearRoutes:f,getRoutes:o,getRecordMatcher:c}}function Jg(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function Qg(e){const t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:MS(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,"mods",{value:{}}),t}function MS(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="object"?n[r]:n;return t}function Zg(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function RS(e){return e.reduce((t,n)=>Pe(t,n.meta),{})}function tm(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function jS(e,t){let n=0,r=t.length;for(;n!==r;){const p=n+r>>1;t2(e,t[p])<0?r=p:n=p+1}const c=BS(e);return c&&(r=t.lastIndexOf(c,r-1)),r}function BS(e){let t=e;for(;t=t.parent;)if(e2(t)&&t2(e,t)===0)return t}function e2({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function US(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let c=0;c<r.length;++c){const p=r[c].replace(Y0," "),v=p.indexOf("="),o=yl(v<0?p:p.slice(0,v)),i=v<0?null:yl(p.slice(v+1));if(o in t){let u=t[o];qi(u)||(u=t[o]=[u]),u.push(i)}else t[o]=i}return t}function em(e){let t="";for(let n in e){const r=e[n];if(n=sS(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(qi(r)?r.map(p=>p&&Dh(p)):[r&&Dh(r)]).forEach(p=>{p!==void 0&&(t+=(t.length?"&":"")+n,p!=null&&(t+="="+p))})}return t}function zS(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=qi(r)?r.map(c=>c==null?null:""+c):r==null?r:""+r)}return t}const qS=Symbol(""),nm=Symbol(""),Fu=Symbol(""),Fd=Symbol(""),Rh=Symbol("");function Wo(){let e=[];function t(r){return e.push(r),()=>{const c=e.indexOf(r);c>-1&&e.splice(c,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function as(e,t,n,r,c,p=v=>v()){const v=r&&(r.enterCallbacks[c]=r.enterCallbacks[c]||[]);return()=>new Promise((o,i)=>{const u=l=>{l===!1?i(Ja(4,{from:n,to:t})):l instanceof Error?i(l):TS(l)?i(Ja(2,{from:t,to:l})):(v&&r.enterCallbacks[c]===v&&typeof l=="function"&&v.push(l),o())},f=p(()=>e.call(r&&r.instances[c],t,n,u));let a=Promise.resolve(f);e.length<3&&(a=a.then(u)),a.catch(l=>i(l))})}function eh(e,t,n,r,c=p=>p()){const p=[];for(const v of e)for(const o in v.components){let i=v.components[o];if(!(t!=="beforeRouteEnter"&&!v.instances[o]))if(W0(i)){const f=(i.__vccOpts||i)[t];f&&p.push(as(f,n,r,v,o,c))}else{let u=i();p.push(()=>u.then(f=>{if(!f)throw new Error(`Couldn't resolve component "${o}" at "${v.path}"`);const a=Gx(f)?f.default:f;v.mods[o]=f,v.components[o]=a;const s=(a.__vccOpts||a)[t];return s&&as(s,n,r,v,o,c)()}))}}return p}function im(e){const t=ji(Fu),n=ji(Fd),r=qe(()=>{const i=Ba(e.to);return t.resolve(i)}),c=qe(()=>{const{matched:i}=r.value,{length:u}=i,f=i[u-1],a=n.matched;if(!f||!a.length)return-1;const l=a.findIndex($a.bind(null,f));if(l>-1)return l;const s=rm(i[u-2]);return u>1&&rm(f)===s&&a[a.length-1].path!==s?a.findIndex($a.bind(null,i[u-2])):l}),p=qe(()=>c.value>-1&&XS(n.params,r.value.params)),v=qe(()=>c.value>-1&&c.value===n.matched.length-1&&$0(n.params,r.value.params));function o(i={}){if(YS(i)){const u=t[Ba(e.replace)?"replace":"push"](Ba(e.to)).catch(el);return e.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>u),u}return Promise.resolve()}return{route:r,href:qe(()=>r.value.href),isActive:p,isExactActive:v,navigate:o}}function HS(e){return e.length===1?e[0]:e}const WS=to({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:im,setup(e,{slots:t}){const n=pu(im(e)),{options:r}=ji(Fu),c=qe(()=>({[sm(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[sm(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const p=t.default&&HS(t.default(n));return e.custom?p:no("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:c.value},p)}}}),VS=WS;function YS(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function XS(e,t){for(const n in t){const r=t[n],c=e[n];if(typeof r=="string"){if(r!==c)return!1}else if(!qi(c)||c.length!==r.length||r.some((p,v)=>p!==c[v]))return!1}return!0}function rm(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const sm=(e,t,n)=>e!=null?e:t!=null?t:n,GS=to({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=ji(Rh),c=qe(()=>e.route||r.value),p=ji(nm,0),v=qe(()=>{let u=Ba(p);const{matched:f}=c.value;let a;for(;(a=f[u])&&!a.components;)u++;return u}),o=qe(()=>c.value.matched[v.value]);Nc(nm,qe(()=>v.value+1)),Nc(qS,o),Nc(Rh,c);const i=Qt();return ur(()=>[i.value,o.value,e.name],([u,f,a],[l,s,h])=>{f&&(f.instances[a]=u,s&&s!==f&&u&&u===l&&(f.leaveGuards.size||(f.leaveGuards=s.leaveGuards),f.updateGuards.size||(f.updateGuards=s.updateGuards))),u&&f&&(!s||!$a(f,s)||!l)&&(f.enterCallbacks[a]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=c.value,f=e.name,a=o.value,l=a&&a.components[f];if(!l)return am(n.default,{Component:l,route:u});const s=a.props[f],h=s?s===!0?u.params:typeof s=="function"?s(u):s:null,d=no(l,Pe({},h,t,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(a.instances[f]=null)},ref:i}));return am(n.default,{Component:d,route:u})||d}}});function am(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const KS=GS;function $S(e){const t=DS(e.routes,e),n=e.parseQuery||US,r=e.stringifyQuery||em,c=e.history,p=Wo(),v=Wo(),o=Wo(),i=l5(ts);let u=ts;Fa&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const f=Zf.bind(null,B=>""+B),a=Zf.bind(null,oS),l=Zf.bind(null,yl);function s(B,J){let G,lt;return Q0(B)?(G=t.getRecordMatcher(B),lt=J):lt=B,t.addRoute(lt,G)}function h(B){const J=t.getRecordMatcher(B);J&&t.removeRoute(J)}function g(){return t.getRoutes().map(B=>B.record)}function d(B){return!!t.getRecordMatcher(B)}function m(B,J){if(J=Pe({},J||i.value),typeof B=="string"){const R=th(n,B,J.path),H=t.resolve({path:R.path},J),I=c.createHref(R.fullPath);return Pe(R,H,{params:l(H.params),hash:yl(R.hash),redirectedFrom:void 0,href:I})}let G;if(B.path!=null)G=Pe({},B,{path:th(n,B.path,J.path).path});else{const R=Pe({},B.params);for(const H in R)R[H]==null&&delete R[H];G=Pe({},B,{params:a(R)}),J.params=a(J.params)}const lt=t.resolve(G,J),dt=B.hash||"";lt.params=f(l(lt.params));const xt=uS(r,Pe({},B,{hash:rS(dt),path:lt.path})),N=c.createHref(xt);return Pe({fullPath:xt,hash:dt,query:r===em?zS(B.query):B.query||{}},lt,{redirectedFrom:void 0,href:N})}function b(B){return typeof B=="string"?th(n,B,i.value.path):Pe({},B)}function _(B,J){if(u!==B)return Ja(8,{from:J,to:B})}function x(B){return E(B)}function A(B){return x(Pe(b(B),{replace:!0}))}function L(B){const J=B.matched[B.matched.length-1];if(J&&J.redirect){const{redirect:G}=J;let lt=typeof G=="function"?G(B):G;return typeof lt=="string"&&(lt=lt.includes("?")||lt.includes("#")?lt=b(lt):{path:lt},lt.params={}),Pe({query:B.query,hash:B.hash,params:lt.path!=null?{}:B.params},lt)}}function E(B,J){const G=u=m(B),lt=i.value,dt=B.state,xt=B.force,N=B.replace===!0,R=L(G);if(R)return E(Pe(b(R),{state:typeof R=="object"?Pe({},dt,R.state):dt,force:xt,replace:N}),J||G);const H=G;H.redirectedFrom=J;let I;return!xt&&fS(r,lt,G)&&(I=Ja(16,{to:H,from:lt}),nt(lt,lt,!0,!1)),(I?Promise.resolve(I):et(H,lt)).catch(it=>Or(it)?Or(it,2)?it:$(it):ct(it,H,lt)).then(it=>{if(it){if(Or(it,2))return E(Pe({replace:N},b(it.to),{state:typeof it.to=="object"?Pe({},dt,it.to.state):dt,force:xt}),J||H)}else it=M(H,lt,!0,N,dt);return j(H,lt,it),it})}function F(B,J){const G=_(B,J);return G?Promise.reject(G):Promise.resolve()}function Y(B){const J=k.values().next().value;return J&&typeof J.runWithContext=="function"?J.runWithContext(B):B()}function et(B,J){let G;const[lt,dt,xt]=JS(B,J);G=eh(lt.reverse(),"beforeRouteLeave",B,J);for(const R of lt)R.leaveGuards.forEach(H=>{G.push(as(H,B,J))});const N=F.bind(null,B,J);return G.push(N),W(G).then(()=>{G=[];for(const R of p.list())G.push(as(R,B,J));return G.push(N),W(G)}).then(()=>{G=eh(dt,"beforeRouteUpdate",B,J);for(const R of dt)R.updateGuards.forEach(H=>{G.push(as(H,B,J))});return G.push(N),W(G)}).then(()=>{G=[];for(const R of xt)if(R.beforeEnter)if(qi(R.beforeEnter))for(const H of R.beforeEnter)G.push(as(H,B,J));else G.push(as(R.beforeEnter,B,J));return G.push(N),W(G)}).then(()=>(B.matched.forEach(R=>R.enterCallbacks={}),G=eh(xt,"beforeRouteEnter",B,J,Y),G.push(N),W(G))).then(()=>{G=[];for(const R of v.list())G.push(as(R,B,J));return G.push(N),W(G)}).catch(R=>Or(R,8)?R:Promise.reject(R))}function j(B,J,G){o.list().forEach(lt=>Y(()=>lt(B,J,G)))}function M(B,J,G,lt,dt){const xt=_(B,J);if(xt)return xt;const N=J===ts,R=Fa?history.state:{};G&&(lt||N?c.replace(B.fullPath,Pe({scroll:N&&R&&R.scroll},dt)):c.push(B.fullPath,dt)),i.value=B,nt(B,J,G,N),$()}let tt;function Z(){tt||(tt=c.listen((B,J,G)=>{if(!O.listening)return;const lt=m(B),dt=L(lt);if(dt){E(Pe(dt,{replace:!0,force:!0}),lt).catch(el);return}u=lt;const xt=i.value;Fa&&bS(Yg(xt.fullPath,G.delta),Nu()),et(lt,xt).catch(N=>Or(N,12)?N:Or(N,2)?(E(Pe(b(N.to),{force:!0}),lt).then(R=>{Or(R,20)&&!G.delta&&G.type===bl.pop&&c.go(-1,!1)}).catch(el),Promise.reject()):(G.delta&&c.go(-G.delta,!1),ct(N,lt,xt))).then(N=>{N=N||M(lt,xt,!1),N&&(G.delta&&!Or(N,8)?c.go(-G.delta,!1):G.type===bl.pop&&Or(N,20)&&c.go(-1,!1)),j(lt,xt,N)}).catch(el)}))}let ft=Wo(),ht=Wo(),pt;function ct(B,J,G){$(B);const lt=ht.list();return lt.length?lt.forEach(dt=>dt(B,J,G)):console.error(B),Promise.reject(B)}function D(){return pt&&i.value!==ts?Promise.resolve():new Promise((B,J)=>{ft.add([B,J])})}function $(B){return pt||(pt=!B,Z(),ft.list().forEach(([J,G])=>B?G(B):J()),ft.reset()),B}function nt(B,J,G,lt){const{scrollBehavior:dt}=e;if(!Fa||!dt)return Promise.resolve();const xt=!G&&wS(Yg(B.fullPath,0))||(lt||!G)&&history.state&&history.state.scroll||null;return gd().then(()=>dt(B,J,xt)).then(N=>N&&yS(N)).catch(N=>ct(N,B,J))}const T=B=>c.go(B);let q;const k=new Set,O={currentRoute:i,listening:!0,addRoute:s,removeRoute:h,clearRoutes:t.clearRoutes,hasRoute:d,getRoutes:g,resolve:m,options:e,push:x,replace:A,go:T,back:()=>T(-1),forward:()=>T(1),beforeEach:p.add,beforeResolve:v.add,afterEach:o.add,onError:ht.add,isReady:D,install(B){const J=this;B.component("RouterLink",VS),B.component("RouterView",KS),B.config.globalProperties.$router=J,Object.defineProperty(B.config.globalProperties,"$route",{enumerable:!0,get:()=>Ba(i)}),Fa&&!q&&i.value===ts&&(q=!0,x(c.location).catch(dt=>{}));const G={};for(const dt in ts)Object.defineProperty(G,dt,{get:()=>i.value[dt],enumerable:!0});B.provide(Fu,J),B.provide(Fd,a1(G)),B.provide(Rh,i);const lt=B.unmount;k.add(B),B.unmount=function(){k.delete(B),k.size<1&&(u=ts,tt&&tt(),tt=null,i.value=ts,q=!1,pt=!1),lt()}}};function W(B){return B.reduce((J,G)=>J.then(()=>Y(G)),Promise.resolve())}return O}function JS(e,t){const n=[],r=[],c=[],p=Math.max(t.matched.length,e.matched.length);for(let v=0;v<p;v++){const o=t.matched[v];o&&(e.matched.find(u=>$a(u,o))?r.push(o):n.push(o));const i=e.matched[v];i&&(t.matched.find(u=>$a(u,i))||c.push(i))}return[n,r,c]}function n2(){return ji(Fu)}function QS(e){return ji(Fd)}var ri=null;const ZS={name:"pdfShow",components:{SelectSign:wx,AddText:Tx,AlertMessage:qx},setup(e,t){Zt.on("fileUpload",m=>{g(m)});const n=Qt("");Zt.on("usedFile",m=>{n.value=m,n.value!==""&&g(m)}),pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.mjs",ri=new Rs.fabric.Canvas("canvas");const r=Qt(!1),c=Qt(""),p=Qt(""),v=Qt(!1),o=Qt(""),i=Qt(!1),u=Qt(!1),f=n2(),a=Qt("");Zt.on("fileName",m=>{c.value=m}),Zt.on("signTitle",m=>{p.value=m}),Zt.on("isFileChange",m=>{r.value=m}),Zt.on("isFileNameChange",m=>{v.value=m}),Zt.on("fileId",m=>{o.value=m});const l=function(){return new Promise(function(m,b){setTimeout(()=>{m(f.push("/"))},2e3)})};Zt.on("saveDocument",m=>{const b=new ie,_=ri.toDataURL("image/png"),x=b.internal.pageSize.width,A=b.internal.pageSize.height;b.addImage(_,"png",0,0,x,A);const L=new Blob([b.output("blob")],{type:"application/pdf"}),E=new FormData;E.append("file",L,c.value),E.append("fileName",c.value),Zt.emit("page-loading",!0);const F=()=>{Wx(o.value,E).then(et=>{et.data.status&&(Zt.emit("page-loading",!1),i.value=!0,a.value=et.data.data,u.value=!0,l())}).catch(et=>{a.value=et.message,u.value=!1})},Y=et=>{let j={title:p.value};m=="complete"&&(j.isSigned=!0),qg(o.value,j).then(M=>{M.data.status==!0&&(et&&(Zt.emit("page-loading",!1),i.value=!0,a.value=M.data.data,l()),u.value=!0)}).catch(M=>{a.value=M.message,u.value=!1})};o.value==""?Hx(E).then(et=>{if(et.data.status==!0){let j=et.data.data.id,M={title:p.value};m=="complete"&&(M.isSigned=!0),qg(j,M).then(tt=>{i.value=!0,tt.data.status==!0&&(Zt.emit("page-loading",!1),a.value=tt.data.data,u.value=!0,l())}).catch(tt=>{Zt.emit("page-loading",!1),i.value=!0,a.value=tt.message,u.value=!1})}}).catch(et=>{Zt.emit("page-loading",!1),i.value=!0,a.value=et.message,u.value=!1}):v.value&&m!=="complete"&&!r.value?Y(!0):r.value&&m!=="complete"&&!v.value?F():(r.value&&v.value&&m!=="complete"||m=="complete")&&(Y(!1),F())});const s=Qt(!1),h=Qt(!1),g=m=>{const b="data:application/pdf;base64,";pdfjsLib.GlobalWorkerOptions.workerSrc="https://mozilla.github.io/pdf.js/build/pdf.worker.mjs";const _=M=>new Promise((tt,Z)=>{const ft=new FileReader;ft.addEventListener("load",()=>tt(ft.result)),ft.addEventListener("error",Z),ft.readAsDataURL(M)}),x=async(M,tt)=>{let Z="";M=await _(M),Z=atob(M.substring(b.length));const ht=await(await pdfjsLib.getDocument({data:Z}).promise).getPage(tt!=null?tt:1),pt=ht.getViewport({scale:window.devicePixelRatio}),ct=document.createElement("canvas"),D=ct.getContext("2d");ct.height=pt.height,ct.width=pt.width;const $={canvasContext:D,viewport:pt};return ht.render($).promise.then(()=>ct)},A=async M=>{const tt=1/window.devicePixelRatio;return new Rs.fabric.Image(M,{id:"renderPDF",scaleX:tt,scaleY:tt})};ri=new Rs.fabric.Canvas("canvas"),(async M=>{ri.requestRenderAll();const tt=await x(m,M),Z=await A(tt);ri.setWidth(Z.width/window.devicePixelRatio),ri.setHeight(Z.height/window.devicePixelRatio),ri.setBackgroundImage(Z,ri.renderAll.bind(ri))})(1),document.querySelector(".signBtn").addEventListener("click",()=>{Zt.emit("addCanvas",ri),s.value=!0});const F=document.querySelector(".dateBtn");let Y=new Date;const et=Y.getFullYear()+"/"+(Y.getMonth()+1)+"/"+Y.getDate();F.addEventListener("click",()=>{var M=new Rs.fabric.Text(et,tt=>{tt.top=10,tt.left=10,tt.scaleX=.5,tt.scaleY=.5});ri.add(M)}),document.querySelector(".textBtn").addEventListener("click",()=>{h.value=!0})};Zt.on("saveText",m=>{var b=new Rs.fabric.Text(m,_=>{_.top=10,_.left=10,_.scaleX=.5,_.scaleY=.5});ri.add(b)});const d=m=>{Rs.fabric.Image.fromURL(m,b=>{b.top=100,b.left=100,b.scaleX=.5,b.scaleY=.5,ri.add(b)})};return vd(()=>{Zt.off("saveDocument"),Zt.off("usedFile"),Zt.off("fileName"),Zt.off("signTitle"),Zt.off("saveText")}),{pdfInit:g,selectedSign:d,showText:h,getsignTitle:p,getFile:n,isFileNameChange:v,getFileId:o,showSignModal:s,isFileChange:r,isshowAlert:i,alertText:a,uploadStatus:u}}},tC={class:"container_pdf h-screen relative overflow-x-hidden"},eC={type:"file",class:"form-control hidden pdf_upload",ref:"upload-file"};function nC(e,t,n,r,c,p){const v=un("add-text"),o=un("SelectSign"),i=un("AlertMessage");return ae(),ge("div",tC,[t[2]||(t[2]=Pt("div",{class:"styledCreate__WrapperRight-sc-1i4fuzv-10 cKAFxH"},[Pt("div",{id:"viewer",tabindex:"10",scale:"1",class:"styled__Wrapper-sc-cpx59f-1 gKmbon overflow-x-hidden"},[Pt("div",{class:"react-pdf__Document"},[Pt("div",{id:"pageContainer1",class:"styled__WrapperPage-sc-cpx59f-2 cFGXRm page"},[Pt("div",{class:"react-pdf__Page","data-page-number":"1",style:{position:"relative"}},[Pt("canvas",{id:"canvas",class:"react-pdf__Page__canvas block select-none"})])])])])],-1)),Pt("input",eC,null,512),ye(v,{showModal:r.showText,onHideTextModal:t[0]||(t[0]=u=>r.showText=!1),onSaveText:e.inputText},null,8,["showModal","onSaveText"]),ye(o,{showSignModal:r.showSignModal,onCloseWarning:t[1]||(t[1]=u=>r.showSignModal=!1),onSelectedSign:r.selectedSign},null,8,["showSignModal","onSelectedSign"]),ye(i,{"show-alert":r.isshowAlert,"text-content":r.alertText,uploadStatus:r.uploadStatus},null,8,["show-alert","text-content","uploadStatus"])])}const om=Wn(ZS,[["render",nC],["__scopeId","data-v-b6aa1b9e"]]),iC="/SIGN/assets/finish.e29c9295.svg",rC="/SIGN/assets/sign.c511d13f.svg",sC="/SIGN/assets/upload.e6fb2d53.svg",aC={props:{arrStatus:{type:Array,default:[!0,!1,!1]}},setup(e){const t=qe(()=>[{img:sC,text:"\u4E0A\u50B3\u7C3D\u7F72\u6A94\u6848",upload_status:e.arrStatus[0]},{img:rC,text:"\u9032\u884C\u7C3D\u7F72",upload_status:e.arrStatus[1]},{img:iC,text:"\u7C3D\u7F72\u5B8C\u6210",upload_status:e.arrStatus[2]}]);return{props:e,progressData:t}}},oC={class:"progress"},lC={class:"progress__content"},cC=["src"],uC={class:"progress__content__item__text"};function fC(e,t,n,r,c,p){return ae(),ge("div",oC,[Pt("ul",lC,[(ae(!0),ge(wn,null,yu(r.progressData,(v,o)=>(ae(),ge("li",{key:o,class:cn(["progress__content__item",{"progress__content__item--alreadyDo":v.upload_status=="alreadyDo","progress__content__item--nowDo":v.upload_status=="nowDo","progress__content__item--willDo":v.upload_status=="willDo"}])},[Pt("img",{src:v.img,alt:"progress"},null,8,cC),Pt("div",uC,us(v.text),1)],2))),128))])])}const hC=Wn(aC,[["render",fC]]);const dC={name:"sty-button.vue",props:{tipText:{type:String,default(){return""}}}},pC={class:"jastips"},gC=["innerHTML"];function mC(e,t,n,r,c,p){return ae(),ge("a",pC,[A1(e.$slots,"default",{},void 0,!0),Pt("div",{innerHTML:n.tipText},null,8,gC)])}const vC=Wn(dC,[["render",mC],["__scopeId","data-v-4ff77b4f"]]);const yC={props:{buttonText:{type:String,default:""},textPosition:{type:String,default:""},otherClass:{type:String,default:""}}},bC={class:"btn flex items-center cursor-pointer relative rounded"},wC={class:"flex justify-center items-center px-4 py-3"};function _C(e,t,n,r,c,p){return ae(),ge("div",null,[Pt("div",bC,[Pt("div",wC,[A1(e.$slots,"image"),Pt("a",{class:cn(["block",[n.textPosition,n.otherClass]])},us(n.buttonText),3)])])])}const xC=Wn(yC,[["render",_C]]),SC="/SIGN/assets/sign_logo.6e58668e.svg",lm="/SIGN/assets/icon_arrows_left_n.a1111fe2.svg",CC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAZQSURBVHgB7ZxPTFxFHMd/tLTYFi02QCQFhdAeBEmFSGMTTfdijDViPHDSpE281R7l5KG7V+vR9GasiafixRqb6AkOhgYa0VSwEQirYIossYCsQMHifOYx22VZ6L5lWKZlPsm67Hu7M/vmO7+/b23RyspKVEQuiscVYnvE4xxeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHKRYLLK8+K8khnv130/XNMoTT1VIvpixiksOScWxVtlNWBNlYTYh/Z1R/Wx4/vXz8kxDRMIyMdglv353OfUacZvbo1sS+VHCmiijPZ3qv0Vq8S7q3c2iDnV9IWXVjfp1riwvJtXnrkhpRa00tX2oRb517ZIej7F3A9ZEmR4fUAtZp0WA2pfb5ZdvLsnojc5QO3xhJqFd1/HIWfW5Sv0orz+px98tWBOFxVuYndQLWlxyUJJTcX28quF0KEu5l5zW7isxfFMLzHgIUlxSKrsFa6LUtJzRbqbvyw4twlwiLtXNZ1KWkzPKqIhD4/3f6jHmEqNamKa2c7Jb2BuNRiPqOSJb5OCRoyrjapDZiWFZuf+fHD3xmtS/8q7kA9nWgcMV8nf8ZykpLZeGNy7IkdoXJSzj/dclefdPOaCseE/xvjXniFv3l5fkkPreuY41MzEke4v3y/5DZbKNdFtNibGKZ1vf1sG5RllJLuCa5lUcyUyhsZYlZSEcC21tEmSDLLyeo2Ewdby8vlW7VhZ5YrBbpkYepNtYOLEsEyzWjNXU1qFi53Opc8Zd28SqKGEhoyJ+GF54q8NaTUJ6DmRxUyO9OgkB5psa6dMC8OC1+TtbQsJ5IwjgojNhAx2PnLMmzo6JYgThgohHvI6rTM2GKIyFpTB2WXWD3P7+srYQxmaBsTwsgl2OeAiXmW5zbrTnqrYo4D2ZCYuJd8xl01p2RBQjCBeJ+6o71a536cLslNigqvG0Xih2r8iKmiOiXVD8xlW9iKTYzM1Ck4zMJX5f44buDHTJcPcVfQx4L24r3ZKCAndAn6NItknBe19GEOqY1vc+FgrOns8+0C6lvP4lsQGWwM5fXpyTsR+va/fFnLgwhEIg5uS78F4WPH2nY1FBfdSqrY2CFotKDPfp81iP6TggiO1OQ0EtJV0QrAMQgovk4s2xrcJ4iEHdBCww4rN4/0zG1XO5Fmx6fDAV07Aa49bY/bR1jFBkgnQsKIZ5H6ICgiCcbQomCr48UxBiiBHEpgtgoRAF12Ri1J2B7tR5RAqs5qx2n5zTGWPLg4wx3XKqm9/UVhLUTXH9eVpACLQdFEQULjjTGhCE3WdbEMAiTr3/qXJRF5TrurnmHHMZ14PLNODu0t0Q8YRAjmC4PxNfAMHo66WDW0xPlbdCQUS5Oxb0rQohSDq4L6yGBwIYEThuMrP04wZEyxQiHeO+0sEd2qIgolCk4afJavDjuIztFsSAlTJn+i2F4PikOi7rjgPZG0IFvbekFgFLylbE9nfGrDdLCyIKF8YDC+HC8r3PEhbmYEFZNOYlBuCiOB6IFXS2M2sQ3vvq+c/131hNNsvYTgoiCiknLqzi2EnrLYnNME1SBGD3m51u4gqi1KggXt2SW0uoUFgVhYv8o/dr7V9Z/KpVa2B3VjVGQo1FzMGF0Ejcp8YK0//CNRGgsUxjAbgZMj+yMTM2DKkicUx1pBnfFLHZ4POFwpoopIzk8aZSvs1OHBvMK26QPpOtMc695IxekDB9MdJhPm9cJWAZuNBb1z7RoiEQG4WNNNrzlU7Xg5Q4uyhBF2C9lW+WEORLka3/O5j7KMuL87pKD1LGYGFPvPORanUfznmcJbVwP63uanZuUE3HVgu63L+miSOZmMCeaRHEjWx1B0nC/Mzkhj8Eedj5PIhZsxR2S3A/PthN7GpE+eu3H0LfDoYnK2v1s+nehg22G7m7jb7LRoUgaTOPjefZ/Hw+WL0djJ9mh3LhFFcsaJ3a8WF/OIFLwO8zjklJ87mn8qhizX0FPzGKpfpNYO8nRpXrKu7HmFiR7X9xAmtZWkhuOf1FZNMJKHQqvcPErNcptrqm+aTRjwv+t8QO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VBvCgO4kVxEC+Kg3hRHMSL4iBeFAfxojiIF8VB/gcNSTkaPl7/bQAAAABJRU5ErkJggg==",AC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATASURBVHgB7ZtBTBNLGMc/Sl99aY0PePYFHxA0glGJiZho5CQXNdEznkw08aTx7FU4e/Ci3kw08cbRaKIexJNGjBgjaERiDajEoiBKRajF+c8ym1oo7G6n9jP7/ZINY7es7fz2++abmaVqYWGhm4jOksCFnggJ7BApDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDBEpDIlSGcl+z6hjRh9eiFTHKBL9i6JrEuqIU1ixLiWXnafP4y9penxYt4MCMWuTzfRP/RYtKkxYlYKIeD90T//8e12S4nX/05p4re5gL+R+zGmR3zOTNDudpqmxIfqafkMbtneGKnKsSvn45onuWHQipPjH6Xj8LiJkLjOlJPdReuShvmZYsDbQ487OfHpHdc07AwpZSixeQ+vqW/W1cYQFa1K+TX/QPxO1DWQTRAyY+fSWwoLVSIklaqwPyrgerpud81bB2eJrOkXvB/t0BQkmRvop/aqffgdWx5RItXch+ILJlt2e3huNxd3O8cPzW5c8v7e18/gvxQQ+X+pBL9U2tenXh/uu6NfxmUcHbtLY45tLrtG46xA1tR+iUrEmBZ3mdSyZGhukZ9fPUXvXWappbFv1/ZFojHKZz+SXcVUkeGVTR5cr5fX9Xh0ZYLjvqn7dmWtVadH4nrMqXTvzqYQ7F8vO2onmsk4eubD1wKmi517cXhpNTime0u0JVfnlA9Eb93bpdsu+Y7ShrVOnueWuE5RQSEHHFWO5zkQEI1qQvtBGZAz09uhzHScu6nPAmUsNugJtEQoppWBkgML0DGmpB2SdikoJMngHAXdzUFAAVKtC49W9K0vO1asJbU3jdp3u/Ixfq1ERKWuTG9Vd95+uaJy2nclmMfLvdr9Mjg4VXeJBJbZ+s1NB/vFSULEgV6OzBnq7Vbu7rGLqV1iiWa0zzXiBqC5cwxt9fEOXzrOLE2dbVCx9QUK+mN1Hz5Vt0XHbweLV13JS0Mlmu2HbwZO/DPT5ApC2iIbINhUdU4wYVDOcVoHvXz7ttgtTH/5t5lamMpsYeeROLm1Q8eoLX2qlO7kSmHSHktekVaQxjH9IYSalGTkoBGxiTQrWqLBsXw6QSkqJJL8DPW6SMbWUgtTWqJZNIANtDOqY+d89f0S9tonKhTUpQdenvJD7Me9rXa0QvyUxIgHpCBVi067DOlrG1eYd5iUmSrArivaXD6nFscUe9qSosM5MvtM7hzZXinG9uZkpPR8ISseJC0XP5Y8fBiybgNbOY276QvSYogDrYo6s9dR/7Yz7e14XWFejytZfByP/YpcQnVfrYZHRK7gb06oTguxmmghZadHTVFOIisL/F2lrOZzy2EmnEDSvFiKTLXtsFSs91iIFHYYDD0wk6hr0rmGpQDS2mLHXH2Qe42UFulCGoZgQkN/5ZvJoE6vVV1J9QDw48fbpHbcj8eAE0hkeH/ICBnU8OIGtZUhBWvy3uZ3ChFUp6MCGHft1tHxR4Y+ODQpEIg1ij14eMSoRdCDGFRzO5k9GV0+5rLdy2WwcycN45br4YgcL/pBniRkiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhgiUhjyExG/4OqwrkDSAAAAAElFTkSuQmCC",TC="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGUAAAA8CAYAAAB//XTwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAU6SURBVHgB7ZpNbBNHFMcfxjjBDsFJ48hpEiVVmqp1FKlBTVVOuIe2Eki5padKReqp9FroseHansutUitxS0+VqFS4JKcgIhEESkAERBCBWDGQDxIDJjjM/y0b+WPXWdtjM+D3k1aOvdn1en4z772d2T3b29tjRPQrCaZw2keCcYgUAxEpBiJSDESkGIhIMRCRYiAixUBEioGIFAMRKQYiUgxEpBiISDEQkWIgIsVA/FRFtp6n1LbJmxd8ewPk8+8jf0NIbUGqV7RLyWy9oLXETVpPzPPf5QIxTZEeOhj9iEXVE1qlYEQszU3ya2NzhIKt71NDsIUb2AuZl2kW+Ty1Qs/Wk7S6OEcbybvUEYvX1cjRKuXR3SvcsGhESCkdq+FxLEZIOrWqJE9Q8vYlPme9oC3Ro2enHj+g1p5PyxRSSCAYpuZoP58bW72gTcrT9WV+DbV0kk4wYsDm4/tUL2gLX+jJgVDYMSmjCkMY2lhecD0+3B2jSN/nBbkD58N5t9LeKrhirC7O0sq9OWpR3xXuGqBSwfHJW9P0weFvq5rjtOYU317nKml+4i9KKCmNze383i6T7fcA+xNdkzQ0WvgImj8QZLGVggZdnPlPNe6A+p7SpSzNTvJ14lo++eYEVQttUnChbrkEPaxNjYLBkZ933s+Mn1Y/7MedHnv9/zP8uRM+f4AyqTWqlMiHwyxlI7nA1+vW25dmJ+jG+TOu5+EOpLZ8Pv76BHUMxKlSqnrzmPNFNSxpr/37O5fS7tcSoumzpwo+D3fFckYARrKXosUqRJZJFzWR4uUOHfv9DU2kA4yCYo3ktu/Zeq6AaOyIyh+jtBsY5Ym5t0zK0OjYrlL648e15A3r+6y8hLw19edP6q89dPiHPwquAfvQy7Eve0TsPxhRQuJ0oL2Xw6xbWAW9X4xy4WAfp4MajRRvoUt3iMMIReMij9y7fC6n1yNvQAhyWn6Iwmd2rkNxkF2QgPyRhu+Iary5rVlOeVN0HzrGSRlikIQhADIWLo7z/o6BI0WPz6+ycB5UkxDeH/9eqwybd37qHhIgBqEMBQC4MzXOYkrt4TgOQpoivTT83W9VEQLe+ZECuoaOchhCKYyqC68ISW5JHI1vjyQncLyVq3JBfvFSGOxGXUhBqBkcOamEnOQGBRDlVu4iYTvd8dulr1up/FYl+jcNGhNla3Z1tzhzjvyNQcfZZ7ewZo8gr6VyuWiTgjkqTNu7gZg+ffaXnM8Q4+17k2I/FMeWU5mhlLWnRgB6OJLz/MTf3ONv4P5C7Y+qZG/S0oA2KV7mp9r6Psv6n1jOvmJDP/Pyheu8mhPo0Qm12GaXrghf3YeOqpB1jOW29Q1zj4cwiMN2SyXwaOxLlpYNwh3yEXh4e5pqgT4p6oenVh7wyqHTTLFVQh6nUsH50purPAXilX0qLEFIvoxskJQRoiDkztQ//P8H2nsKzoVKa2Z8bKcz4ZyYQ6sm2qSEWjt5XR7r8y1lTIu7kVqx1lH2593AFQMSkKjRoMVAsrbzh53AnRgcOUVP15aV7BCft9rzeNqk4AdigxgIwqphpSBBY4kZa/2lrmbuJiSfxiLSMUpLGamVorX6iqhYjQcn7l+9sNOQeHAC4QyPD3kBSR0PTmBpGVIQLt7rGaJ6QqsUNGDn4Fc8Wp6oBImGLReIRBjEGr08YlQhaEB7uFsrjCmunjJbaU/HW9P88jBe9U7+uoGF0pBniQ1EpBiISDEQkWIgIsVARIqBiBQDESkGIlIMRKQYiEgxEJFiICLFQESKgYgUAxEpBvIKYokRfcH/ZV4AAAAASUVORK5CYII=",cm="/SIGN/assets/icon_arrows_right_n.b840e693.svg";const PC={components:{tooltipLink:vC,Button:xC},setup(e,t){const n=Qt(""),r=Qt(""),c=Qt(""),p=Qt("home"),v=Qt('<ol class="text-left"><li>1.\u6A94\u6848\u5132\u5B58\u8349\u7A3F\u5F8C\u53EF\u518D\u66F4\u63DB\u6A94\u6848\u53CA\u6A94\u540D</li><li>2.\u9700\u66F4\u63DB\u6A94\u6848\u624D\u53EF\u4EE5\u66F4\u6539\u300C\u7C3D\u540D\u64CB\u300D</li></ol>'),o=()=>{t.emit("nextStep")},i=()=>{t.emit("prevPage")},u=()=>{t.emit("saveDraft")};return Zt.on("headerStatus",f=>{r.value=f}),Zt.on("fileReview",f=>{c.value=f}),{signUrl:n,nextStep:o,prevPage:i,headerStatus:r,fileReview:c,passStatus:p,saveDraft:u,tooltipText:v}}},OC={class:"bg-white text-black"},LC={key:0,class:"flex items-center justify-center relative h-[66px]"},kC={key:1,class:"container_tab flex justify-between items-center p-2.5"},EC={class:"flex flex-wrap"},NC={class:"flex max-[594px]:mb-3"};function FC(e,t,n,r,c,p){const v=un("Button"),o=un("router-link"),i=un("tooltip-link");return ae(),ge("div",OC,[r.headerStatus=="homePage"?(ae(),ge("div",LC,t[0]||(t[0]=[Pt("div",{class:"absolute left-0 ml-5 py-3"},[Pt("img",{src:SC})],-1)]))):gn("",!0),r.headerStatus=="fileUpload"?(ae(),ge("div",kC,[ye(v,{buttonText:"Previous",class:cn(r.fileReview?"":"hidden"),textPosition:"ml-5",otherClass:"max-[594px]:hidden",onClick:r.prevPage},{image:is(()=>t[1]||(t[1]=[Pt("img",{class:"left-2 absolute max-[594px]:left-1",src:lm},null,-1)])),_:1},8,["class","onClick"]),ye(o,{to:"/",class:cn(["",r.fileReview?"hidden":""])},{default:is(()=>[ye(v,{buttonText:"Cancel",class:cn(r.fileReview?"hidden":""),textPosition:"ml-5"},{image:is(()=>t[2]||(t[2]=[Pt("img",{class:"left-2 absolute",src:lm},null,-1)])),_:1},8,["class"])]),_:1},8,["class"]),Pt("div",{class:cn(["flex justify-between",r.fileReview?"":"hidden"])},t[3]||(t[3]=[gy('<a class="signBtn flex flex-col items-center w-20 cursor-pointer" data-v-9925dc63><img src="'+CC+'" data-v-9925dc63></a><a class="dateBtn flex flex-col items-center w-20 cursor-pointer" data-v-9925dc63><img src="'+AC+'" data-v-9925dc63></a><a class="textBtn flex flex-col items-center w-20 cursor-pointer" data-v-9925dc63><img src="'+TC+'" data-v-9925dc63></a>',3)]),2),Pt("div",EC,[Pt("div",NC,[ye(i,{"tip-text":r.tooltipText},{default:is(()=>[ye(v,{buttonText:"Draft",textPosition:"mr-6",class:cn(["max-[560px]:m-0 mr-3",r.fileReview?"":"hidden"]),onClick:r.saveDraft},{image:is(()=>t[4]||(t[4]=[Pt("img",{class:"right-4 top-2 absolute",src:cm},null,-1)])),_:1},8,["class","onClick"])]),_:1},8,["tip-text"])]),ye(v,{buttonText:r.fileReview?"Save":"Next",textPosition:"mr-6",onClick:r.nextStep},{image:is(()=>t[5]||(t[5]=[Pt("img",{class:"right-4 top-2 absolute",src:cm},null,-1)])),_:1},8,["buttonText","onClick"])])])):gn("",!0)])}const i2=Wn(PC,[["render",FC],["__scopeId","data-v-9925dc63"]]),IC={props:{showConfirmModal:{type:Boolean,default:!1}},setup(e,{emit:t}){return{allowSave:()=>{Zt.emit("saveDocument","complete"),t("hideConfirmModal"),Zt.emit("nowPage","fileUpload")},notAllowSave:()=>{t("hideConfirmModal")}}}},DC={key:0,class:"w-full left-0 top-0 fixed h-screen",style:{background:"rgba(140, 93, 25, 0.3)"}},MC={class:"confirm__container"},RC={class:"flex flex-col confirm__container__group"};function jC(e,t,n,r,c,p){return n.showConfirmModal?(ae(),ge("div",DC,[Pt("div",MC,[t[2]||(t[2]=Pt("div",{class:"confirm__container__title"},"\u78BA\u5B9A\u8981\u9001\u51FA\u55CE?",-1)),Pt("div",RC,[Pt("div",{class:"confirm__container__group__button",onClickOnce:t[0]||(t[0]=v=>r.allowSave())},"\u78BA\u5B9A",32),Pt("div",{class:"confirm__container__group__button",onClick:t[1]||(t[1]=v=>r.notAllowSave())},"\u518D\u6AA2\u67E5\u4E00\u4E0B~")])])])):gn("",!0)}const BC=Wn(IC,[["render",jC]]);const UC={name:"fileUpload",components:{FileReview:om,ProgressLine:hC,Header:i2,SaveConfirm:BC},emits:["page-loading"],setup(e,t){const n=Qt(""),r=Qt(""),c=Qt(""),p=Qt(["nowDo","willDo","willDo"]),v=Qt(1),o=Qt(1),i=Qt(!1),u=Qt(!1),f=Qt(""),a=Qt(""),l=Qt(""),s=Qt(""),h=Qt(""),g=QS(),d=Qt("");window.location.href.indexOf("uploadNewFile")>-1||(d.value=g.params.id,Zt.emit("page-loading",!0),Vx(d.value).then(Y=>{Y.data.status==!0&&(n.value=Y.data.data.fileName,a.value=Y.data.data.signTitle,h.value=Y.data.data._id,Zt.emit("fileId",h.value),n.value!==""&&(r.value=1,v.value=2,i.value=!0,om.value=""),Xx(Y.data.data.fileLocation).then(et=>{s.value=new File([et.data],n.value,{type:"application/pdf"}),Zt.emit("usedFile",s.value),Zt.emit("fileName",n.value)}))}).catch(Y=>{alert(Y.message)}),Zt.emit("page-loading",!1));const m=Y=>{r.value=f.value.files.length||Y.length;var et;if(r.value){if(Y){if(n.value=Y[0].name,a.value=Y[0].name,et=Y[0],et.size>=200*1024*1024){alert("\u4E0D\u53EF\u8D85\u904E200mb"),r.value=0;return}Zt.emit("fileUpload",et),Zt.emit("fileName",n.value)}else{if(et=f.value.files[0],et.size>=200*1024*1024){alert("\u4E0D\u53EF\u8D85\u904E200mb"),r.value=0;return}n.value=f.value.files[0].name,a.value=f.value.files[0].name,Zt.emit("fileUpload",f.value.files[0]),Zt.emit("fileName",n.value)}i.value=!0,v.value=2}else v.value=1,i.value=!0};ur(a,(Y,et)=>{let j=Y!=et;Zt.emit("isFileNameChange",j),Zt.emit("signTitle",Y)}),ur(n,(Y,et)=>{if(et!==""){let j=Y!=et;Zt.emit("isFileChange",j)}else Zt.emit("isFileChange",!1)});const b=()=>{i.value&&c.value==""?(c.value=1,p.value=["alreadyDo","nowDo","willDo"],Zt.emit("fileReview",!0)):i.value&&c.value==1?u.value=!0:alert("\u8ACB\u5148\u4E0A\u50B3\u6A94\u6848")},_=()=>{p.value=["nowDo","willDo","willDo"],c.value="",u.value=!1,f.value="",Zt.emit("fileReview",!1)},x=()=>{Zt.emit("saveDocument","draft")},A=()=>{u.value=!1},L=Y=>{Y.preventDefault()},E=Y=>{Y.preventDefault()},F=Y=>{Y.preventDefault();const et=Y.dataTransfer.files;if(!(et.length<1)){if(et.size>=2e6){alert("\u4E0D\u53EF\u8D85\u904E2mb");return}m(et)}};return eo(()=>{Zt.emit("page-loading",!1),Zt.emit("headerStatus","fileUpload")}),{uploadFile:m,nextStep:b,prevPage:_,dragleave:L,ondragover:E,ondrop:F,filename:n,status:r,isFileReview:c,arrStatus:p,step:v,pageCount:o,fileExist:i,showConfirmModal:u,fileElement:f,hideConfirmModal:A,signfileName:a,getData:l,saveDraft:x,usedFile:s,fileId:d}}},zC={class:"container_sign"},qC={class:"flex justify-center pt-10 pb-10"},HC={class:"border rounded-md border-dashed flex justify-center items-center flex-col upload_inner"},WC={class:"break-all text-black"},VC={key:0,class:"mb-2 upload mt-1"},YC={key:1,class:"mb-2 reupload mt-1"},XC={key:2};function GC(e,t,n,r,c,p){const v=un("Header"),o=un("ProgressLine"),i=un("FileReview"),u=un("SaveConfirm");return ae(),ge("div",null,[ye(v,{onNextStep:r.nextStep,onPrevPage:r.prevPage,onSaveDraft:r.saveDraft},null,8,["onNextStep","onPrevPage","onSaveDraft"]),Pt("div",zC,[Pt("div",qC,[ye(o,{arrStatus:r.arrStatus},null,8,["arrStatus"])]),Pt("div",{class:cn([r.isFileReview==""?"":"hidden","flex justify-center"])},[Pt("div",{class:"upload_content rounded-md flex items-center justify-center my-4 flex-col",onDrop:t[3]||(t[3]=(...f)=>r.ondrop&&r.ondrop(...f)),onDragleave:t[4]||(t[4]=(...f)=>r.dragleave&&r.dragleave(...f)),onDragover:t[5]||(t[5]=(...f)=>r.ondragover&&r.ondragover(...f))},[Pt("div",HC,[Pt("div",WC,us(r.status==1?r.filename:""),1),r.status==0?(ae(),ge("label",VC,[Pt("input",{class:"form-control hidden",type:"file",ref:"fileElement",accept:"application/pdf",onChange:t[0]||(t[0]=f=>r.uploadFile())},null,544)])):gn("",!0),r.status==1?(ae(),ge("label",YC,[Pt("input",{class:"form-control hidden",ref:"fileElement",type:"file",accept:"application/pdf",onChange:t[1]||(t[1]=f=>r.uploadFile())},null,544)])):gn("",!0),r.status==0?(ae(),ge("div",XC,t[6]||(t[6]=[Pt("div",{class:"mb-2 font-bold text-black"}," \u6216\u76F4\u63A5\u62D6\u653E\u6A94\u6848\u9032\u4F86 ",-1),Pt("div",{class:"font-bold text-black"},"\u6A94\u6848\u9650\u5236\u683C\u5F0F\uFF1Apdf\uFF0C\u5927\u5C0F200mb\u4EE5\u4E0B",-1)]))):gn("",!0)]),r.step==2&&r.status==1?(ae(),ge("div",{key:0,class:cn([r.isFileReview==""?"":"hidden","mt-8 upload_inner border rounded-md border-dashed flex justify-center items-center flex-col"])},[t[7]||(t[7]=Pt("p",{class:"text-left file_title text-black"},"\u6587\u4EF6\u547D\u540D",-1)),ar(Pt("input",{type:"text",class:"file_name bg-white file_name_input text-black","onUpdate:modelValue":t[2]||(t[2]=f=>r.signfileName=f)},null,512),[[_d,r.signfileName]])],2)):gn("",!0)],32)],2),Pt("div",{class:cn(r.isFileReview==""?"hidden":"")},[ye(i,{fileName:r.filename,fileElement:r.fileElement},null,8,["fileName","fileElement"])],2),ye(u,{showConfirmModal:r.showConfirmModal,onHideConfirmModal:r.hideConfirmModal},null,8,["showConfirmModal","onHideConfirmModal"])])])}const r2=Wn(UC,[["render",GC],["__scopeId","data-v-412dc484"]]),KC=Object.freeze(Object.defineProperty({__proto__:null,default:r2},Symbol.toStringTag,{value:"Module"})),$C={emits:["page-loading"],setup(){const e=Qt(!0),t=Qt(null);return Zt.on("page-loading",n=>{const r=document.querySelector("body");e.value=n,n?(t.value.classList.remove("d-none"),r.setAttribute("class","mh-100vh overflow-hidden")):setTimeout(()=>{t.value.classList.add("d-none"),r.setAttribute("class","")},500)}),eo(()=>{}),{isLoading:e,loading:t}}},JC={class:"loading__main",ref:"loading"},QC={class:"loading__main__sign"};function ZC(e,t,n,r,c,p){const v=un("font-awesome-icon");return ae(),ge("div",JC,[Pt("a",QC,[ye(v,{icon:"fa-solid fa-signature"})]),t[0]||(t[0]=Pt("span",null,"Loading",-1))],512)}const s2=Wn($C,[["render",ZC]]),t3={props:["pages","selected"],setup(e,{emit:t}){const{pages:n,selected:r}=f5(e),c=Qt(1);c.value=Number(r.value);const p=o=>{c.value=Number(o),t("getData",o)},v=o=>{c.value=o=="pre"?--c.value:++c.value,t("getData",c.value)};return ur(r,o=>{c.value=o}),{changePage:p,selectPage:c,pageBtn:v}}},e3={class:"flex justify-center item-center"},n3=["value"];function i3(e,t,n,r,c,p){return ae(),ge("div",e3,[r.selectPage>1?(ae(),ge("div",{key:0,class:"mr-2 text-[#be8e55] cursor-pointer",onClick:t[0]||(t[0]=Ws(v=>r.pageBtn("pre"),["prevent"]))},"\u524D\u4E00\u9801")):gn("",!0),t[4]||(t[4]=Pt("p",{class:"text-[#be8e55] mr-1"},"\u76EE\u524D\u9801\u6B21\u7B2C",-1)),ar(Pt("select",{class:"rounded bg-white text-black","onUpdate:modelValue":t[1]||(t[1]=v=>r.selectPage=v),onChange:t[2]||(t[2]=v=>r.changePage(v.target.value))},[(ae(!0),ge(wn,null,yu(n.pages,(v,o)=>(ae(),ge("option",{key:o,value:v},us(v),9,n3))),128))],544),[[Zy,r.selectPage]]),r.selectPage<n.pages?(ae(),ge("div",{key:1,class:"ml-2 text-[#be8e55] cursor-pointer",onClick:t[3]||(t[3]=Ws(v=>r.pageBtn("next"),["prevent"]))},"\u4E0B\u4E00\u9801")):gn("",!0)])}const r3=Wn(t3,[["render",i3]]),s3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAAYCAYAAAAPtVbGAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJUSURBVHgBvZa/b9NAFMffOzs/BCL1xog9dGCCjBVCxAO7KyFEJ9r/oBmYC1MHBvofFKagCil06sAQS6jKmGxIFCnHf+Clktvo7njn+IyjBvdErX4l/3q+dx/fvfN7B3ALwlXGs++DHmOMDucBoPRAoQfV3XApxW8pZbz+dCuuhPw8PXrsMhjSrZ+bOAESREiqEAqUX/a5ABE+3NjiVyA/xgO/Bc5I3wsQO247nQbdncrOy5pNDj2RtiMGzh716l0o0TUg1zRqQmMPQPoIIlgvfYWt8g/6OBsPYiWdSRNwl571AezvkGQPlDwO/gOwBMv81TEy9trYMshsNNSB9RVADDWIYjSlkzehKSwg87tzf/FScqhBSrEslvdVZ62AoBAZUQlcGejh28g72Y/862wFhAmur+fnl0EBuU6de43DVqsxMp2e7L/y1zqNCdkObPytIPRT9vVVg769f9FrtUS21BHnu1b+No3C/meO6IT63nHQAMKw/5Xb+FtBtNK0+vnGEB0DM0VCqGxE5RjVAmk2xQd91VP0/M2X2Exd7YEnQNfEwMSIbNs2/m5+4kp/KXP8VY10pzY2I1TM06nXZTL77xYjSdvZA+raUYNwkfohuXPJC0gQbiaUUxKG7BHUIeY+ozPv5qWiiAlN1yeFEOm6AjeQ9kclIywl2wLCUByApBVDhevX6dG2yaC20u112c4LH6fF/s68Wyq/VHAo3WeN/NzEkep3VecKlafT+pKPhM3gycvpSojR2Zg2EjLfSORB/DdFJbQsk2wjwWgjsXF1I3Er+gOWn+oo5kPogAAAAABJRU5ErkJggg==",a3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAItSURBVHgB1VXNThpRFD73MoVFU0v3XYzpA4BLN43UtEm7qQtAd+C6C6WmTbpyWDVpU37eYLqrYlJ2TWp0WOnS4QE0+AasBeb6HRhwhBl0iMb4JUPm3rnnfOeenw+ixw4x7eNfYyU+90zL41hCCNJ5TyllY928uOg03n+rt2hWAquc3YazTbzG8bTh2nZNksM9IUQlVdgtUhgCjvr53BMLr0lEbXa76vfbL3sN75n/PzJJTWNykcPSFqKTShXqbT8CbXzDda4rRetvPtdMP6N3X2t8m/zBrzScC9y0b7Pgd1Z6F5wWjhypKS5v+Tv3Ynlrr4JACmwDMsPvzChF/76v6bFY7wRpqacKtXUKgcNS2oSrj0jV/HiqRjeIRntLNChelUKi1yOTbR2HO+46rlIkHO6ONqK3KSTcJmhLKRKBBIJk4qoVZ4KN2umBBPcFD4E6d4doViQVqWYgAdqN0xPf/5leopDgwWNbUtIOJJCya9KgUDkKiUiENga2nUYgAfcvilTFHOStUvbWJFZpdYNt2BY+WuPfJ7TosJQ5ob5USEzzTmW682wOea9osaf0+pP5wu/MBIFVXom72gLJIBNDVHW1ZwSuE6eSI5datPVy4YMe0aLG/GKmeCPBEKwtEDLOrSvXNCQZyTWnBXpknB7vGILENp4Jkql/OFZ5TXccSAimHMb9KVVKtPDb5Kbw6s40kjsDk5wd76rToz+bw707neRXi6sGin4/0T8YLgEWpNqOCI1WTQAAAABJRU5ErkJggg==",o3="/SIGN/assets/Vector_close.ec6bf8fd.svg",l3="/SIGN/assets/to_upload.1f6792e1.svg",c3="/SIGN/assets/icon_more_n.9ced6737.svg",u3="/SIGN/assets/icon_download_n.e3a05511.svg",f3="/SIGN/assets/icon_delete_n.91cb8edd.svg";const h3={name:"homePage",emits:["page-loading"],components:{Header:i2,Pagination:r3},setup(){const e=Qt(""),t=Qt(""),n=Qt(""),r=Qt(!1),c=Qt([]),p=Qt("homePage");Zt.on("nowPage",A=>{p.value=A}),Zt.emit("status","homePage"),Hg(0,10).then(A=>{if(A.data.status==!0){e.value=A.data.data.data,t.value=A.data.data.size;let L=Math.ceil(t.value/10),E="",F="",Y=[];for(let et=1;et<=L;et++)E=et>1?(et-1)*10:0,F=10*et,Y.push(v(E,F));Promise.all(Y).then(et=>{c.value=[].concat.apply([],et),f.value=c.value.slice(0,10)})}}).catch(A=>{alert(A.message)});const v=(A,L)=>new Promise((E,F)=>{setTimeout(()=>{Hg(A,L).then(Y=>{Y.data.status==!0&&(E(Y.data.data.data),e.value=Y.data.data.data,t.value=Y.data.data.size)}).catch(Y=>{alert(Y.message)})},1e3)}),o=Qt(!1),i=Qt(!1),u=Qt(1),f=Qt("");ur([o,i],A=>{let L=A[0],E=A[1];L&&!E?(f.value=c.value.filter(F=>F.isSigned==!1),t.value=f.value.length):E&&!L?(f.value=c.value.filter(F=>F.isSigned==!0),t.value=f.value.length):(f.value=c.value,t.value=f.value.length),u.value=Number(1)});const a=(A,L)=>{Yx(A,L).then(E=>{if(E.data.status==!0){alert(E.data.data);const F=c.value.findIndex(j=>j._id==A);c.value.splice(F,1);let Y=u.value>1?(u.value-1)*10:0,et=10*u.value;f.value=c.value.slice(Y,et),t.value--,f.value.length==0&&(f.value=c.value.slice(Y-10,et-10),u.value--)}}).catch(E=>{alert(E.message)}),g()},l=qe(()=>Math.ceil(t.value/10)),s=Qt(-1),h=A=>{s.value=A},g=()=>{s.value=-1},d=A=>{let L=A>1?(A-1)*10:0,E=10*A;f.value=c.value.slice(L,E),u.value=Number(A)},m=n2(),b=A=>{m.push(`/fileUpload/${A}`)},_=()=>{Zt.emit("status","fileUpload"),m.push("/fileUpload/uploadNewFile")};ur(n,A=>{f.value=c.value.filter(L=>L.signTitle.toLowerCase().includes(A.toLowerCase()))});const x=()=>{n.value=""};return eo(()=>{Zt.emit("page-loading",!1),Zt.emit("headerStatus","homePage")}),{files:e,goFileUpload:_,nowPage:p,fileLength:t,keyword:n,filterFile:f,searchClear:x,openFileOption:h,getIndex:s,hideOption:g,deleteFileBtn:a,getFileDetails:b,doneCheck:i,undoneCheck:o,selected:u,pages:l,getFiles:v,check_select:r,filterProduct:d}}},d3={class:"container_home p-3"},p3={class:"flex justify-between search_line items-center"},g3={class:"search_file flex flex-row items-center"},m3={class:"flex item-center"},v3={class:"search_input m-4 relative w-full"},y3={class:"search_type bg-white flex w-9/12 ml-4 rounded-lg text-[#BE8E55] h-12 max-[768px]:hidden"},b3={class:"m-3 flex justify-center items-center"},w3={class:"m-3 flex justify-center items-center"},_3={class:"m-3"},x3={class:"hidden max-[768px]:inline-block relative ml-4"},S3={class:"m-3 flex justify-center items-center"},C3={class:"m-3 flex justify-center items-center"},A3={class:"upload_file z-0"},T3={class:"flex fileEnvelop_outter"},P3=["onClick"],O3=["onClick"],L3={class:"absolute top-10 z-[50] text-[10px] w-32 flex justify-center pr-5 flex-wrap"},k3={key:0,class:"absolute bottom-0 left-2 bg-white w-3/5 rounded"},E3={class:"text-[#BE8E55] flex cursor-pointer hover:bg-[#EFE3D4] p-1"},N3=["href"],F3=["onClick"],I3={key:0,class:"flex justify-center item-center"};function D3(e,t,n,r,c,p){const v=un("Header"),o=un("Pagination");return ae(),ge("div",{class:"container_outter",onClick:t[8]||(t[8]=(...i)=>r.hideOption&&r.hideOption(...i))},[ye(v),Pt("div",d3,[Pt("div",p3,[Pt("div",g3,[Pt("form",m3,[Pt("div",v3,[ar(Pt("input",{type:"text",class:"bg-white m-3 rounded-lg block w-full text-sm text-gray-900 border border-gray-300 h-12 pl-3 focus:ring-blue-500 focus:border-blue-500 dark:bg-white dark:placeholder-gray-400 dark:text-black dark:focus:ring-blue-500 dark:focus:border-blue-500 z-[50]",placeholder:"Search here...","onUpdate:modelValue":t[0]||(t[0]=i=>r.keyword=i)},null,512),[[_d,r.keyword]]),Pt("div",{class:"absolute right-3.5 bottom-3.5 cursor-pointer mb-2 mr-3",onClick:t[1]||(t[1]=i=>r.searchClear())},t[9]||(t[9]=[Pt("img",{class:"mr-4",src:s3},null,-1)])),t[10]||(t[10]=Pt("div",{class:"absolute right-3.5 bottom-3.5 cursor-pointer mb-2 border-l-4"},[Pt("img",{src:a3})],-1))])]),Pt("div",y3,[Pt("label",b3,[ar(Pt("input",{class:"selector",type:"checkbox","onUpdate:modelValue":t[2]||(t[2]=i=>r.undoneCheck=i)},null,512),[[Cc,r.undoneCheck]]),t[11]||(t[11]=Yo("\u672A\u5B8C\u6210"))]),Pt("label",w3,[ar(Pt("input",{class:"selector",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=i=>r.doneCheck=i)},null,512),[[Cc,r.doneCheck]]),t[12]||(t[12]=Yo("\u5DF2\u5B8C\u6210"))]),Pt("label",_3,"\u5171"+us(r.fileLength)+"\u7B46",1)]),Pt("div",x3,[Pt("div",{class:cn(["select_to_open flex justify-center items-center",r.check_select==!0?"active":""]),onClick:t[4]||(t[4]=Ws(i=>r.check_select=!r.check_select,["stop"]))},t[13]||(t[13]=[Pt("img",{src:o3},null,-1)]),2),Pt("div",{class:cn(["check_select_item absolute w-24 bg-white text-black rounded z-[60] hidden",r.check_select==!0?"active":""])},[Pt("label",S3,[ar(Pt("input",{class:"selector",type:"checkbox","onUpdate:modelValue":t[5]||(t[5]=i=>r.undoneCheck=i)},null,512),[[Cc,r.undoneCheck]]),t[14]||(t[14]=Yo("\u672A\u5B8C\u6210"))]),Pt("label",C3,[ar(Pt("input",{class:"selector",type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=i=>r.doneCheck=i)},null,512),[[Cc,r.doneCheck]]),t[15]||(t[15]=Yo("\u5DF2\u5B8C\u6210"))])],2)])]),Pt("div",A3,[Pt("img",{class:"upload_img",src:l3,onClick:t[7]||(t[7]=i=>r.goFileUpload())})])]),Pt("ul",T3,[(ae(!0),ge(wn,null,yu(r.filterFile,(i,u)=>(ae(),ge("li",{class:cn(["m-2 flex justify-center relative cursor-pointer",i.isSigned==!0?"fileEnvelop_isSigned":"fileEnvelop"]),key:u,onClick:f=>r.getFileDetails(i._id)},[Pt("div",{class:"fileEnvelop_option absolute right-0 bottom-0 z-[55] h-12",onClick:Ws(f=>r.openFileOption(u),["stop"])},t[16]||(t[16]=[Pt("img",{src:c3},null,-1)]),8,O3),Pt("div",L3,us(i.signTitle),1),r.getIndex==u?(ae(),ge("div",k3,[Pt("ul",null,[Pt("li",E3,[Pt("a",{class:"flex",href:i.fileLocation,target:"blank"},t[17]||(t[17]=[Pt("img",{class:"mx-2",src:u3},null,-1),Pt("a",{class:"hover:text-[#BE8E55]"},"\u4E0B\u8F09\u6A94\u6848",-1)]),8,N3)]),Pt("li",{class:"text-[#BE8E55] flex cursor-pointer hover:bg-[#EFE3D4] p-1",onClick:Ws(f=>r.deleteFileBtn(i._id,i.fileName),["stop"])},t[18]||(t[18]=[Pt("img",{class:"mx-2",src:f3},null,-1),Pt("a",{class:"hover:text-[#BE8E55]"},"\u53D6\u6D88\u7C3D\u7F72",-1)]),8,F3)])])):gn("",!0)],10,P3))),128))]),r.pages>1?(ae(),ge("div",I3,[ye(o,{pages:r.pages,selected:r.selected,onGetData:r.filterProduct},null,8,["pages","selected","onGetData"])])):gn("",!0)])])}const a2=Wn(h3,[["render",D3],["__scopeId","data-v-d6f0abae"]]),M3=Object.freeze(Object.defineProperty({__proto__:null,default:a2},Symbol.toStringTag,{value:"Module"}));const R3={components:{FileUpload:r2,PageLoading:s2,HomePage:a2},setup(){}};function j3(e,t,n,r,c,p){const v=un("router-view"),o=un("PageLoading");return ae(),ge(wn,null,[ye(v),ye(o)],64)}const B3=Wn(R3,[["render",j3]]),U3=[{path:"/",name:"homePage",component:()=>Ha(()=>Promise.resolve().then(()=>M3),void 0),meta:{activeMenuName:"homePage"}},{path:"/fileUpload/:id",name:"fileUpload",component:()=>Ha(()=>Promise.resolve().then(()=>KC),void 0),meta:{activeMenuName:"fileUpload"}},{path:"/:pathMatch(.*)*",name:"404",component:()=>Ha(()=>import("./ErrorPage.8e674dc1.js"),[]),meta:{activeMenuName:"errorPage"}}],z3=$S({history:AS(),linkExactActiveClass:"active",routes:U3});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */function q3(e,t,n){return(t=W3(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function um(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function qt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?um(Object(n),!0).forEach(function(r){q3(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):um(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function H3(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W3(e){var t=H3(e,"string");return typeof t=="symbol"?t:t+""}const fm=()=>{};let Id={},o2={},l2=null,c2={mark:fm,measure:fm};try{typeof window<"u"&&(Id=window),typeof document<"u"&&(o2=document),typeof MutationObserver<"u"&&(l2=MutationObserver),typeof performance<"u"&&(c2=performance)}catch{}const{userAgent:hm=""}=Id.navigator||{},ps=Id,ze=o2,dm=l2,Lc=c2;ps.document;const Mr=!!ze.documentElement&&!!ze.head&&typeof ze.addEventListener=="function"&&typeof ze.createElement=="function",u2=~hm.indexOf("MSIE")||~hm.indexOf("Trident/");var V3=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,Y3=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,f2={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},X3={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},h2=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],Rn="classic",Iu="duotone",G3="sharp",K3="sharp-duotone",d2=[Rn,Iu,G3,K3],$3={classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}},J3={"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}},Q3=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Z3={classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}},t4=["fak","fa-kit","fakd","fa-kit-duotone"],pm={kit:{fak:"kit","fa-kit":"kit"},"kit-duotone":{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"}},e4=["kit"],n4={kit:{"fa-kit":"fak"},"kit-duotone":{"fa-kit-duotone":"fakd"}},i4=["fak","fakd"],r4={kit:{fak:"fa-kit"},"kit-duotone":{fakd:"fa-kit-duotone"}},gm={kit:{kit:"fak"},"kit-duotone":{"kit-duotone":"fakd"}},kc={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},s4=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],a4=["fak","fa-kit","fakd","fa-kit-duotone"],o4={"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}},l4={classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}},c4={classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]},jh={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},u4=["fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],Bh=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt",...s4,...u4],f4=["solid","regular","light","thin","duotone","brands"],p2=[1,2,3,4,5,6,7,8,9,10],h4=p2.concat([11,12,13,14,15,16,17,18,19,20]),d4=[...Object.keys(c4),...f4,"2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",kc.GROUP,kc.SWAP_OPACITY,kc.PRIMARY,kc.SECONDARY].concat(p2.map(e=>"".concat(e,"x"))).concat(h4.map(e=>"w-".concat(e))),p4={"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}};const Fr="___FONT_AWESOME___",Uh=16,g2="fa",m2="svg-inline--fa",Gs="data-fa-i2svg",zh="data-fa-pseudo-element",g4="data-fa-pseudo-element-pending",Dd="data-prefix",Md="data-icon",mm="fontawesome-i2svg",m4="async",v4=["HTML","HEAD","STYLE","SCRIPT"],v2=(()=>{try{return!0}catch{return!1}})();function Ol(e){return new Proxy(e,{get(t,n){return n in t?t[n]:t[Rn]}})}const y2=qt({},f2);y2[Rn]=qt(qt(qt(qt({},{"fa-duotone":"duotone"}),f2[Rn]),pm.kit),pm["kit-duotone"]);const y4=Ol(y2),qh=qt({},Z3);qh[Rn]=qt(qt(qt(qt({},{duotone:"fad"}),qh[Rn]),gm.kit),gm["kit-duotone"]);const vm=Ol(qh),Hh=qt({},jh);Hh[Rn]=qt(qt({},Hh[Rn]),r4.kit);const Rd=Ol(Hh),Wh=qt({},l4);Wh[Rn]=qt(qt({},Wh[Rn]),n4.kit);Ol(Wh);const b4=V3,b2="fa-layers-text",w4=Y3,_4=qt({},$3);Ol(_4);const x4=["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"],nh=X3,S4=[...e4,...d4],il=ps.FontAwesomeConfig||{};function C4(e){var t=ze.querySelector("script["+e+"]");if(t)return t.getAttribute(e)}function A4(e){return e===""?!0:e==="false"?!1:e==="true"?!0:e}ze&&typeof ze.querySelector=="function"&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(t=>{let[n,r]=t;const c=A4(C4(n));c!=null&&(il[r]=c)});const w2={styleDefault:"solid",familyDefault:Rn,cssPrefix:g2,replacementClass:m2,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};il.familyPrefix&&(il.cssPrefix=il.familyPrefix);const Qa=qt(qt({},w2),il);Qa.autoReplaceSvg||(Qa.observeMutations=!1);const $t={};Object.keys(w2).forEach(e=>{Object.defineProperty($t,e,{enumerable:!0,set:function(t){Qa[e]=t,rl.forEach(n=>n($t))},get:function(){return Qa[e]}})});Object.defineProperty($t,"familyPrefix",{enumerable:!0,set:function(e){Qa.cssPrefix=e,rl.forEach(t=>t($t))},get:function(){return Qa.cssPrefix}});ps.FontAwesomeConfig=$t;const rl=[];function T4(e){return rl.push(e),()=>{rl.splice(rl.indexOf(e),1)}}const es=Uh,lr={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function P4(e){if(!e||!Mr)return;const t=ze.createElement("style");t.setAttribute("type","text/css"),t.innerHTML=e;const n=ze.head.childNodes;let r=null;for(let c=n.length-1;c>-1;c--){const p=n[c],v=(p.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(v)>-1&&(r=p)}return ze.head.insertBefore(t,r),e}const O4="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function wl(){let e=12,t="";for(;e-- >0;)t+=O4[Math.random()*62|0];return t}function ao(e){const t=[];for(let n=(e||[]).length>>>0;n--;)t[n]=e[n];return t}function jd(e){return e.classList?ao(e.classList):(e.getAttribute("class")||"").split(" ").filter(t=>t)}function _2(e){return"".concat(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function L4(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,'="').concat(_2(e[n]),'" '),"").trim()}function Du(e){return Object.keys(e||{}).reduce((t,n)=>t+"".concat(n,": ").concat(e[n].trim(),";"),"")}function Bd(e){return e.size!==lr.size||e.x!==lr.x||e.y!==lr.y||e.rotate!==lr.rotate||e.flipX||e.flipY}function k4(e){let{transform:t,containerWidth:n,iconWidth:r}=e;const c={transform:"translate(".concat(n/2," 256)")},p="translate(".concat(t.x*32,", ").concat(t.y*32,") "),v="scale(".concat(t.size/16*(t.flipX?-1:1),", ").concat(t.size/16*(t.flipY?-1:1),") "),o="rotate(".concat(t.rotate," 0 0)"),i={transform:"".concat(p," ").concat(v," ").concat(o)},u={transform:"translate(".concat(r/2*-1," -256)")};return{outer:c,inner:i,path:u}}function E4(e){let{transform:t,width:n=Uh,height:r=Uh,startCentered:c=!1}=e,p="";return c&&u2?p+="translate(".concat(t.x/es-n/2,"em, ").concat(t.y/es-r/2,"em) "):c?p+="translate(calc(-50% + ".concat(t.x/es,"em), calc(-50% + ").concat(t.y/es,"em)) "):p+="translate(".concat(t.x/es,"em, ").concat(t.y/es,"em) "),p+="scale(".concat(t.size/es*(t.flipX?-1:1),", ").concat(t.size/es*(t.flipY?-1:1),") "),p+="rotate(".concat(t.rotate,"deg) "),p}var N4=`:root, :host {
  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";
  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";
  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";
  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";
  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";
  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";
  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";
  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";
  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";
  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";
}

svg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {
  overflow: visible;
  box-sizing: content-box;
}

.svg-inline--fa {
  display: var(--fa-display, inline-block);
  height: 1em;
  overflow: visible;
  vertical-align: -0.125em;
}
.svg-inline--fa.fa-2xs {
  vertical-align: 0.1em;
}
.svg-inline--fa.fa-xs {
  vertical-align: 0em;
}
.svg-inline--fa.fa-sm {
  vertical-align: -0.0714285705em;
}
.svg-inline--fa.fa-lg {
  vertical-align: -0.2em;
}
.svg-inline--fa.fa-xl {
  vertical-align: -0.25em;
}
.svg-inline--fa.fa-2xl {
  vertical-align: -0.3125em;
}
.svg-inline--fa.fa-pull-left {
  margin-right: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-pull-right {
  margin-left: var(--fa-pull-margin, 0.3em);
  width: auto;
}
.svg-inline--fa.fa-li {
  width: var(--fa-li-width, 2em);
  top: 0.25em;
}
.svg-inline--fa.fa-fw {
  width: var(--fa-fw-width, 1.25em);
}

.fa-layers svg.svg-inline--fa {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
}

.fa-layers-counter, .fa-layers-text {
  display: inline-block;
  position: absolute;
  text-align: center;
}

.fa-layers {
  display: inline-block;
  height: 1em;
  position: relative;
  text-align: center;
  vertical-align: -0.125em;
  width: 1em;
}
.fa-layers svg.svg-inline--fa {
  transform-origin: center center;
}

.fa-layers-text {
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  transform-origin: center center;
}

.fa-layers-counter {
  background-color: var(--fa-counter-background-color, #ff253a);
  border-radius: var(--fa-counter-border-radius, 1em);
  box-sizing: border-box;
  color: var(--fa-inverse, #fff);
  line-height: var(--fa-counter-line-height, 1);
  max-width: var(--fa-counter-max-width, 5em);
  min-width: var(--fa-counter-min-width, 1.5em);
  overflow: hidden;
  padding: var(--fa-counter-padding, 0.25em 0.5em);
  right: var(--fa-right, 0);
  text-overflow: ellipsis;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-counter-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-bottom-right {
  bottom: var(--fa-bottom, 0);
  right: var(--fa-right, 0);
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom right;
}

.fa-layers-bottom-left {
  bottom: var(--fa-bottom, 0);
  left: var(--fa-left, 0);
  right: auto;
  top: auto;
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: bottom left;
}

.fa-layers-top-right {
  top: var(--fa-top, 0);
  right: var(--fa-right, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top right;
}

.fa-layers-top-left {
  left: var(--fa-left, 0);
  right: auto;
  top: var(--fa-top, 0);
  transform: scale(var(--fa-layers-scale, 0.25));
  transform-origin: top left;
}

.fa-1x {
  font-size: 1em;
}

.fa-2x {
  font-size: 2em;
}

.fa-3x {
  font-size: 3em;
}

.fa-4x {
  font-size: 4em;
}

.fa-5x {
  font-size: 5em;
}

.fa-6x {
  font-size: 6em;
}

.fa-7x {
  font-size: 7em;
}

.fa-8x {
  font-size: 8em;
}

.fa-9x {
  font-size: 9em;
}

.fa-10x {
  font-size: 10em;
}

.fa-2xs {
  font-size: 0.625em;
  line-height: 0.1em;
  vertical-align: 0.225em;
}

.fa-xs {
  font-size: 0.75em;
  line-height: 0.0833333337em;
  vertical-align: 0.125em;
}

.fa-sm {
  font-size: 0.875em;
  line-height: 0.0714285718em;
  vertical-align: 0.0535714295em;
}

.fa-lg {
  font-size: 1.25em;
  line-height: 0.05em;
  vertical-align: -0.075em;
}

.fa-xl {
  font-size: 1.5em;
  line-height: 0.0416666682em;
  vertical-align: -0.125em;
}

.fa-2xl {
  font-size: 2em;
  line-height: 0.03125em;
  vertical-align: -0.1875em;
}

.fa-fw {
  text-align: center;
  width: 1.25em;
}

.fa-ul {
  list-style-type: none;
  margin-left: var(--fa-li-margin, 2.5em);
  padding-left: 0;
}
.fa-ul > li {
  position: relative;
}

.fa-li {
  left: calc(-1 * var(--fa-li-width, 2em));
  position: absolute;
  text-align: center;
  width: var(--fa-li-width, 2em);
  line-height: inherit;
}

.fa-border {
  border-color: var(--fa-border-color, #eee);
  border-radius: var(--fa-border-radius, 0.1em);
  border-style: var(--fa-border-style, solid);
  border-width: var(--fa-border-width, 0.08em);
  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);
}

.fa-pull-left {
  float: left;
  margin-right: var(--fa-pull-margin, 0.3em);
}

.fa-pull-right {
  float: right;
  margin-left: var(--fa-pull-margin, 0.3em);
}

.fa-beat {
  animation-name: fa-beat;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-bounce {
  animation-name: fa-bounce;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));
}

.fa-fade {
  animation-name: fa-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-beat-fade {
  animation-name: fa-beat-fade;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));
}

.fa-flip {
  animation-name: fa-flip;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, ease-in-out);
}

.fa-shake {
  animation-name: fa-shake;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin {
  animation-name: fa-spin;
  animation-delay: var(--fa-animation-delay, 0s);
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 2s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, linear);
}

.fa-spin-reverse {
  --fa-animation-direction: reverse;
}

.fa-pulse,
.fa-spin-pulse {
  animation-name: fa-spin;
  animation-direction: var(--fa-animation-direction, normal);
  animation-duration: var(--fa-animation-duration, 1s);
  animation-iteration-count: var(--fa-animation-iteration-count, infinite);
  animation-timing-function: var(--fa-animation-timing, steps(8));
}

@media (prefers-reduced-motion: reduce) {
  .fa-beat,
.fa-bounce,
.fa-fade,
.fa-beat-fade,
.fa-flip,
.fa-pulse,
.fa-shake,
.fa-spin,
.fa-spin-pulse {
    animation-delay: -1ms;
    animation-duration: 1ms;
    animation-iteration-count: 1;
    transition-delay: 0s;
    transition-duration: 0s;
  }
}
@keyframes fa-beat {
  0%, 90% {
    transform: scale(1);
  }
  45% {
    transform: scale(var(--fa-beat-scale, 1.25));
  }
}
@keyframes fa-bounce {
  0% {
    transform: scale(1, 1) translateY(0);
  }
  10% {
    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);
  }
  30% {
    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));
  }
  50% {
    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);
  }
  57% {
    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));
  }
  64% {
    transform: scale(1, 1) translateY(0);
  }
  100% {
    transform: scale(1, 1) translateY(0);
  }
}
@keyframes fa-fade {
  50% {
    opacity: var(--fa-fade-opacity, 0.4);
  }
}
@keyframes fa-beat-fade {
  0%, 100% {
    opacity: var(--fa-beat-fade-opacity, 0.4);
    transform: scale(1);
  }
  50% {
    opacity: 1;
    transform: scale(var(--fa-beat-fade-scale, 1.125));
  }
}
@keyframes fa-flip {
  50% {
    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));
  }
}
@keyframes fa-shake {
  0% {
    transform: rotate(-15deg);
  }
  4% {
    transform: rotate(15deg);
  }
  8%, 24% {
    transform: rotate(-18deg);
  }
  12%, 28% {
    transform: rotate(18deg);
  }
  16% {
    transform: rotate(-22deg);
  }
  20% {
    transform: rotate(22deg);
  }
  32% {
    transform: rotate(-12deg);
  }
  36% {
    transform: rotate(12deg);
  }
  40%, 100% {
    transform: rotate(0deg);
  }
}
@keyframes fa-spin {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}
.fa-rotate-90 {
  transform: rotate(90deg);
}

.fa-rotate-180 {
  transform: rotate(180deg);
}

.fa-rotate-270 {
  transform: rotate(270deg);
}

.fa-flip-horizontal {
  transform: scale(-1, 1);
}

.fa-flip-vertical {
  transform: scale(1, -1);
}

.fa-flip-both,
.fa-flip-horizontal.fa-flip-vertical {
  transform: scale(-1, -1);
}

.fa-rotate-by {
  transform: rotate(var(--fa-rotate-angle, 0));
}

.fa-stack {
  display: inline-block;
  vertical-align: middle;
  height: 2em;
  position: relative;
  width: 2.5em;
}

.fa-stack-1x,
.fa-stack-2x {
  bottom: 0;
  left: 0;
  margin: auto;
  position: absolute;
  right: 0;
  top: 0;
  z-index: var(--fa-stack-z-index, auto);
}

.svg-inline--fa.fa-stack-1x {
  height: 1em;
  width: 1.25em;
}
.svg-inline--fa.fa-stack-2x {
  height: 2em;
  width: 2.5em;
}

.fa-inverse {
  color: var(--fa-inverse, #fff);
}

.sr-only,
.fa-sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.sr-only-focusable:not(:focus),
.fa-sr-only-focusable:not(:focus) {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.svg-inline--fa .fa-primary {
  fill: var(--fa-primary-color, currentColor);
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa .fa-secondary {
  fill: var(--fa-secondary-color, currentColor);
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-primary {
  opacity: var(--fa-secondary-opacity, 0.4);
}

.svg-inline--fa.fa-swap-opacity .fa-secondary {
  opacity: var(--fa-primary-opacity, 1);
}

.svg-inline--fa mask .fa-primary,
.svg-inline--fa mask .fa-secondary {
  fill: black;
}`;function x2(){const e=g2,t=m2,n=$t.cssPrefix,r=$t.replacementClass;let c=N4;if(n!==e||r!==t){const p=new RegExp("\\.".concat(e,"\\-"),"g"),v=new RegExp("\\--".concat(e,"\\-"),"g"),o=new RegExp("\\.".concat(t),"g");c=c.replace(p,".".concat(n,"-")).replace(v,"--".concat(n,"-")).replace(o,".".concat(r))}return c}let ym=!1;function ih(){$t.autoAddCss&&!ym&&(P4(x2()),ym=!0)}var F4={mixout(){return{dom:{css:x2,insertCss:ih}}},hooks(){return{beforeDOMElementCreation(){ih()},beforeI2svg(){ih()}}}};const Ir=ps||{};Ir[Fr]||(Ir[Fr]={});Ir[Fr].styles||(Ir[Fr].styles={});Ir[Fr].hooks||(Ir[Fr].hooks={});Ir[Fr].shims||(Ir[Fr].shims=[]);var cr=Ir[Fr];const S2=[],C2=function(){ze.removeEventListener("DOMContentLoaded",C2),au=1,S2.map(e=>e())};let au=!1;Mr&&(au=(ze.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(ze.readyState),au||ze.addEventListener("DOMContentLoaded",C2));function I4(e){!Mr||(au?setTimeout(e,0):S2.push(e))}function Ll(e){const{tag:t,attributes:n={},children:r=[]}=e;return typeof e=="string"?_2(e):"<".concat(t," ").concat(L4(n),">").concat(r.map(Ll).join(""),"</").concat(t,">")}function bm(e,t,n){if(e&&e[t]&&e[t][n])return{prefix:t,iconName:n,icon:e[t][n]}}var D4=function(t,n){return function(r,c,p,v){return t.call(n,r,c,p,v)}},rh=function(t,n,r,c){var p=Object.keys(t),v=p.length,o=c!==void 0?D4(n,c):n,i,u,f;for(r===void 0?(i=1,f=t[p[0]]):(i=0,f=r);i<v;i++)u=p[i],f=o(f,t[u],u,t);return f};function M4(e){const t=[];let n=0;const r=e.length;for(;n<r;){const c=e.charCodeAt(n++);if(c>=55296&&c<=56319&&n<r){const p=e.charCodeAt(n++);(p&64512)==56320?t.push(((c&1023)<<10)+(p&1023)+65536):(t.push(c),n--)}else t.push(c)}return t}function Vh(e){const t=M4(e);return t.length===1?t[0].toString(16):null}function R4(e,t){const n=e.length;let r=e.charCodeAt(t),c;return r>=55296&&r<=56319&&n>t+1&&(c=e.charCodeAt(t+1),c>=56320&&c<=57343)?(r-55296)*1024+c-56320+65536:r}function wm(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t},{})}function Yh(e,t){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const{skipHooks:r=!1}=n,c=wm(t);typeof cr.hooks.addPack=="function"&&!r?cr.hooks.addPack(e,wm(t)):cr.styles[e]=qt(qt({},cr.styles[e]||{}),c),e==="fas"&&Yh("fa",t)}const{styles:_l,shims:j4}=cr,A2=Object.keys(Rd),B4=A2.reduce((e,t)=>(e[t]=Object.keys(Rd[t]),e),{});let Ud=null,T2={},P2={},O2={},L2={},k2={};function U4(e){return~S4.indexOf(e)}function z4(e,t){const n=t.split("-"),r=n[0],c=n.slice(1).join("-");return r===e&&c!==""&&!U4(c)?c:null}const E2=()=>{const e=r=>rh(_l,(c,p,v)=>(c[v]=rh(p,r,{}),c),{});T2=e((r,c,p)=>(c[3]&&(r[c[3]]=p),c[2]&&c[2].filter(o=>typeof o=="number").forEach(o=>{r[o.toString(16)]=p}),r)),P2=e((r,c,p)=>(r[p]=p,c[2]&&c[2].filter(o=>typeof o=="string").forEach(o=>{r[o]=p}),r)),k2=e((r,c,p)=>{const v=c[2];return r[p]=p,v.forEach(o=>{r[o]=p}),r});const t="far"in _l||$t.autoFetchSvg,n=rh(j4,(r,c)=>{const p=c[0];let v=c[1];const o=c[2];return v==="far"&&!t&&(v="fas"),typeof p=="string"&&(r.names[p]={prefix:v,iconName:o}),typeof p=="number"&&(r.unicodes[p.toString(16)]={prefix:v,iconName:o}),r},{names:{},unicodes:{}});O2=n.names,L2=n.unicodes,Ud=Mu($t.styleDefault,{family:$t.familyDefault})};T4(e=>{Ud=Mu(e.styleDefault,{family:$t.familyDefault})});E2();function zd(e,t){return(T2[e]||{})[t]}function q4(e,t){return(P2[e]||{})[t]}function qs(e,t){return(k2[e]||{})[t]}function N2(e){return O2[e]||{prefix:null,iconName:null}}function H4(e){const t=L2[e],n=zd("fas",e);return t||(n?{prefix:"fas",iconName:n}:null)||{prefix:null,iconName:null}}function gs(){return Ud}const F2=()=>({prefix:null,iconName:null,rest:[]});function W4(e){let t=Rn;const n=A2.reduce((r,c)=>(r[c]="".concat($t.cssPrefix,"-").concat(c),r),{});return d2.forEach(r=>{(e.includes(n[r])||e.some(c=>B4[r].includes(c)))&&(t=r)}),t}function Mu(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{family:n=Rn}=t,r=y4[n][e];if(n===Iu&&!e)return"fad";const c=vm[n][e]||vm[n][r],p=e in cr.styles?e:null;return c||p||null}function V4(e){let t=[],n=null;return e.forEach(r=>{const c=z4($t.cssPrefix,r);c?n=c:r&&t.push(r)}),{iconName:n,rest:t}}function _m(e){return e.sort().filter((t,n,r)=>r.indexOf(t)===n)}function Ru(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{skipLookups:n=!1}=t;let r=null;const c=Bh.concat(a4),p=_m(e.filter(a=>c.includes(a))),v=_m(e.filter(a=>!Bh.includes(a))),o=p.filter(a=>(r=a,!h2.includes(a))),[i=null]=o,u=W4(p),f=qt(qt({},V4(v)),{},{prefix:Mu(i,{family:u})});return qt(qt(qt({},f),K4({values:e,family:u,styles:_l,config:$t,canonical:f,givenPrefix:r})),Y4(n,r,f))}function Y4(e,t,n){let{prefix:r,iconName:c}=n;if(e||!r||!c)return{prefix:r,iconName:c};const p=t==="fa"?N2(c):{},v=qs(r,c);return c=p.iconName||v||c,r=p.prefix||r,r==="far"&&!_l.far&&_l.fas&&!$t.autoFetchSvg&&(r="fas"),{prefix:r,iconName:c}}const X4=d2.filter(e=>e!==Rn||e!==Iu),G4=Object.keys(jh).filter(e=>e!==Rn).map(e=>Object.keys(jh[e])).flat();function K4(e){const{values:t,family:n,canonical:r,givenPrefix:c="",styles:p={},config:v={}}=e,o=n===Iu,i=t.includes("fa-duotone")||t.includes("fad"),u=v.familyDefault==="duotone",f=r.prefix==="fad"||r.prefix==="fa-duotone";if(!o&&(i||u||f)&&(r.prefix="fad"),(t.includes("fa-brands")||t.includes("fab"))&&(r.prefix="fab"),!r.prefix&&X4.includes(n)&&(Object.keys(p).find(l=>G4.includes(l))||v.autoFetchSvg)){const l=Q3.get(n).defaultShortPrefixId;r.prefix=l,r.iconName=qs(r.prefix,r.iconName)||r.iconName}return(r.prefix==="fa"||c==="fa")&&(r.prefix=gs()||"fas"),r}class $4{constructor(){this.definitions={}}add(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];const c=n.reduce(this._pullDefinitions,{});Object.keys(c).forEach(p=>{this.definitions[p]=qt(qt({},this.definitions[p]||{}),c[p]),Yh(p,c[p]);const v=Rd[Rn][p];v&&Yh(v,c[p]),E2()})}reset(){this.definitions={}}_pullDefinitions(t,n){const r=n.prefix&&n.iconName&&n.icon?{0:n}:n;return Object.keys(r).map(c=>{const{prefix:p,iconName:v,icon:o}=r[c],i=o[2];t[p]||(t[p]={}),i.length>0&&i.forEach(u=>{typeof u=="string"&&(t[p][u]=o)}),t[p][v]=o}),t}}let xm=[],Da={};const Ga={},J4=Object.keys(Ga);function Q4(e,t){let{mixoutsTo:n}=t;return xm=e,Da={},Object.keys(Ga).forEach(r=>{J4.indexOf(r)===-1&&delete Ga[r]}),xm.forEach(r=>{const c=r.mixout?r.mixout():{};if(Object.keys(c).forEach(p=>{typeof c[p]=="function"&&(n[p]=c[p]),typeof c[p]=="object"&&Object.keys(c[p]).forEach(v=>{n[p]||(n[p]={}),n[p][v]=c[p][v]})}),r.hooks){const p=r.hooks();Object.keys(p).forEach(v=>{Da[v]||(Da[v]=[]),Da[v].push(p[v])})}r.provides&&r.provides(Ga)}),n}function Xh(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),c=2;c<n;c++)r[c-2]=arguments[c];return(Da[e]||[]).forEach(v=>{t=v.apply(null,[t,...r])}),t}function Ks(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];(Da[e]||[]).forEach(p=>{p.apply(null,n)})}function ms(){const e=arguments[0],t=Array.prototype.slice.call(arguments,1);return Ga[e]?Ga[e].apply(null,t):void 0}function Gh(e){e.prefix==="fa"&&(e.prefix="fas");let{iconName:t}=e;const n=e.prefix||gs();if(!!t)return t=qs(n,t)||t,bm(I2.definitions,n,t)||bm(cr.styles,n,t)}const I2=new $4,Z4=()=>{$t.autoReplaceSvg=!1,$t.observeMutations=!1,Ks("noAuto")},tA={i2svg:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return Mr?(Ks("beforeI2svg",e),ms("pseudoElements2svg",e),ms("i2svg",e)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t}=e;$t.autoReplaceSvg===!1&&($t.autoReplaceSvg=!0),$t.observeMutations=!0,I4(()=>{nA({autoReplaceSvgRoot:t}),Ks("watch",e)})}},eA={icon:e=>{if(e===null)return null;if(typeof e=="object"&&e.prefix&&e.iconName)return{prefix:e.prefix,iconName:qs(e.prefix,e.iconName)||e.iconName};if(Array.isArray(e)&&e.length===2){const t=e[1].indexOf("fa-")===0?e[1].slice(3):e[1],n=Mu(e[0]);return{prefix:n,iconName:qs(n,t)||t}}if(typeof e=="string"&&(e.indexOf("".concat($t.cssPrefix,"-"))>-1||e.match(b4))){const t=Ru(e.split(" "),{skipLookups:!0});return{prefix:t.prefix||gs(),iconName:qs(t.prefix,t.iconName)||t.iconName}}if(typeof e=="string"){const t=gs();return{prefix:t,iconName:qs(t,e)||e}}}},ui={noAuto:Z4,config:$t,dom:tA,parse:eA,library:I2,findIconDefinition:Gh,toHtml:Ll},nA=function(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const{autoReplaceSvgRoot:t=ze}=e;(Object.keys(cr.styles).length>0||$t.autoFetchSvg)&&Mr&&$t.autoReplaceSvg&&ui.dom.i2svg({node:t})};function ju(e,t){return Object.defineProperty(e,"abstract",{get:t}),Object.defineProperty(e,"html",{get:function(){return e.abstract.map(n=>Ll(n))}}),Object.defineProperty(e,"node",{get:function(){if(!Mr)return;const n=ze.createElement("div");return n.innerHTML=e.html,n.children}}),e}function iA(e){let{children:t,main:n,mask:r,attributes:c,styles:p,transform:v}=e;if(Bd(v)&&n.found&&!r.found){const{width:o,height:i}=n,u={x:o/i/2,y:.5};c.style=Du(qt(qt({},p),{},{"transform-origin":"".concat(u.x+v.x/16,"em ").concat(u.y+v.y/16,"em")}))}return[{tag:"svg",attributes:c,children:t}]}function rA(e){let{prefix:t,iconName:n,children:r,attributes:c,symbol:p}=e;const v=p===!0?"".concat(t,"-").concat($t.cssPrefix,"-").concat(n):p;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:qt(qt({},c),{},{id:v}),children:r}]}]}function qd(e){const{icons:{main:t,mask:n},prefix:r,iconName:c,transform:p,symbol:v,title:o,maskId:i,titleId:u,extra:f,watchable:a=!1}=e,{width:l,height:s}=n.found?n:t,h=i4.includes(r),g=[$t.replacementClass,c?"".concat($t.cssPrefix,"-").concat(c):""].filter(A=>f.classes.indexOf(A)===-1).filter(A=>A!==""||!!A).concat(f.classes).join(" ");let d={children:[],attributes:qt(qt({},f.attributes),{},{"data-prefix":r,"data-icon":c,class:g,role:f.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(l," ").concat(s)})};const m=h&&!~f.classes.indexOf("fa-fw")?{width:"".concat(l/s*16*.0625,"em")}:{};a&&(d.attributes[Gs]=""),o&&(d.children.push({tag:"title",attributes:{id:d.attributes["aria-labelledby"]||"title-".concat(u||wl())},children:[o]}),delete d.attributes.title);const b=qt(qt({},d),{},{prefix:r,iconName:c,main:t,mask:n,maskId:i,transform:p,symbol:v,styles:qt(qt({},m),f.styles)}),{children:_,attributes:x}=n.found&&t.found?ms("generateAbstractMask",b)||{children:[],attributes:{}}:ms("generateAbstractIcon",b)||{children:[],attributes:{}};return b.children=_,b.attributes=x,v?rA(b):iA(b)}function Sm(e){const{content:t,width:n,height:r,transform:c,title:p,extra:v,watchable:o=!1}=e,i=qt(qt(qt({},v.attributes),p?{title:p}:{}),{},{class:v.classes.join(" ")});o&&(i[Gs]="");const u=qt({},v.styles);Bd(c)&&(u.transform=E4({transform:c,startCentered:!0,width:n,height:r}),u["-webkit-transform"]=u.transform);const f=Du(u);f.length>0&&(i.style=f);const a=[];return a.push({tag:"span",attributes:i,children:[t]}),p&&a.push({tag:"span",attributes:{class:"sr-only"},children:[p]}),a}function sA(e){const{content:t,title:n,extra:r}=e,c=qt(qt(qt({},r.attributes),n?{title:n}:{}),{},{class:r.classes.join(" ")}),p=Du(r.styles);p.length>0&&(c.style=p);const v=[];return v.push({tag:"span",attributes:c,children:[t]}),n&&v.push({tag:"span",attributes:{class:"sr-only"},children:[n]}),v}const{styles:sh}=cr;function Kh(e){const t=e[0],n=e[1],[r]=e.slice(4);let c=null;return Array.isArray(r)?c={tag:"g",attributes:{class:"".concat($t.cssPrefix,"-").concat(nh.GROUP)},children:[{tag:"path",attributes:{class:"".concat($t.cssPrefix,"-").concat(nh.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat($t.cssPrefix,"-").concat(nh.PRIMARY),fill:"currentColor",d:r[1]}}]}:c={tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:t,height:n,icon:c}}const aA={found:!1,width:512,height:512};function oA(e,t){!v2&&!$t.showMissingIcons&&e&&console.error('Icon with name "'.concat(e,'" and prefix "').concat(t,'" is missing.'))}function $h(e,t){let n=t;return t==="fa"&&$t.styleDefault!==null&&(t=gs()),new Promise((r,c)=>{if(n==="fa"){const p=N2(e)||{};e=p.iconName||e,t=p.prefix||t}if(e&&t&&sh[t]&&sh[t][e]){const p=sh[t][e];return r(Kh(p))}oA(e,t),r(qt(qt({},aA),{},{icon:$t.showMissingIcons&&e?ms("missingIconAbstract")||{}:{}}))})}const Cm=()=>{},Jh=$t.measurePerformance&&Lc&&Lc.mark&&Lc.measure?Lc:{mark:Cm,measure:Cm},Go='FA "6.7.2"',lA=e=>(Jh.mark("".concat(Go," ").concat(e," begins")),()=>D2(e)),D2=e=>{Jh.mark("".concat(Go," ").concat(e," ends")),Jh.measure("".concat(Go," ").concat(e),"".concat(Go," ").concat(e," begins"),"".concat(Go," ").concat(e," ends"))};var Hd={begin:lA,end:D2};const Wc=()=>{};function Am(e){return typeof(e.getAttribute?e.getAttribute(Gs):null)=="string"}function cA(e){const t=e.getAttribute?e.getAttribute(Dd):null,n=e.getAttribute?e.getAttribute(Md):null;return t&&n}function uA(e){return e&&e.classList&&e.classList.contains&&e.classList.contains($t.replacementClass)}function fA(){return $t.autoReplaceSvg===!0?Vc.replace:Vc[$t.autoReplaceSvg]||Vc.replace}function hA(e){return ze.createElementNS("http://www.w3.org/2000/svg",e)}function dA(e){return ze.createElement(e)}function M2(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{ceFn:n=e.tag==="svg"?hA:dA}=t;if(typeof e=="string")return ze.createTextNode(e);const r=n(e.tag);return Object.keys(e.attributes||[]).forEach(function(p){r.setAttribute(p,e.attributes[p])}),(e.children||[]).forEach(function(p){r.appendChild(M2(p,{ceFn:n}))}),r}function pA(e){let t=" ".concat(e.outerHTML," ");return t="".concat(t,"Font Awesome fontawesome.com "),t}const Vc={replace:function(e){const t=e[0];if(t.parentNode)if(e[1].forEach(n=>{t.parentNode.insertBefore(M2(n),t)}),t.getAttribute(Gs)===null&&$t.keepOriginalSource){let n=ze.createComment(pA(t));t.parentNode.replaceChild(n,t)}else t.remove()},nest:function(e){const t=e[0],n=e[1];if(~jd(t).indexOf($t.replacementClass))return Vc.replace(e);const r=new RegExp("".concat($t.cssPrefix,"-.*"));if(delete n[0].attributes.id,n[0].attributes.class){const p=n[0].attributes.class.split(" ").reduce((v,o)=>(o===$t.replacementClass||o.match(r)?v.toSvg.push(o):v.toNode.push(o),v),{toNode:[],toSvg:[]});n[0].attributes.class=p.toSvg.join(" "),p.toNode.length===0?t.removeAttribute("class"):t.setAttribute("class",p.toNode.join(" "))}const c=n.map(p=>Ll(p)).join(`
`);t.setAttribute(Gs,""),t.innerHTML=c}};function Tm(e){e()}function R2(e,t){const n=typeof t=="function"?t:Wc;if(e.length===0)n();else{let r=Tm;$t.mutateApproach===m4&&(r=ps.requestAnimationFrame||Tm),r(()=>{const c=fA(),p=Hd.begin("mutate");e.map(c),p(),n()})}}let Wd=!1;function j2(){Wd=!0}function Qh(){Wd=!1}let ou=null;function Pm(e){if(!dm||!$t.observeMutations)return;const{treeCallback:t=Wc,nodeCallback:n=Wc,pseudoElementsCallback:r=Wc,observeMutationsRoot:c=ze}=e;ou=new dm(p=>{if(Wd)return;const v=gs();ao(p).forEach(o=>{if(o.type==="childList"&&o.addedNodes.length>0&&!Am(o.addedNodes[0])&&($t.searchPseudoElements&&r(o.target),t(o.target)),o.type==="attributes"&&o.target.parentNode&&$t.searchPseudoElements&&r(o.target.parentNode),o.type==="attributes"&&Am(o.target)&&~x4.indexOf(o.attributeName))if(o.attributeName==="class"&&cA(o.target)){const{prefix:i,iconName:u}=Ru(jd(o.target));o.target.setAttribute(Dd,i||v),u&&o.target.setAttribute(Md,u)}else uA(o.target)&&n(o.target)})}),Mr&&ou.observe(c,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function gA(){!ou||ou.disconnect()}function mA(e){const t=e.getAttribute("style");let n=[];return t&&(n=t.split(";").reduce((r,c)=>{const p=c.split(":"),v=p[0],o=p.slice(1);return v&&o.length>0&&(r[v]=o.join(":").trim()),r},{})),n}function vA(e){const t=e.getAttribute("data-prefix"),n=e.getAttribute("data-icon"),r=e.innerText!==void 0?e.innerText.trim():"";let c=Ru(jd(e));return c.prefix||(c.prefix=gs()),t&&n&&(c.prefix=t,c.iconName=n),c.iconName&&c.prefix||(c.prefix&&r.length>0&&(c.iconName=q4(c.prefix,e.innerText)||zd(c.prefix,Vh(e.innerText))),!c.iconName&&$t.autoFetchSvg&&e.firstChild&&e.firstChild.nodeType===Node.TEXT_NODE&&(c.iconName=e.firstChild.data)),c}function yA(e){const t=ao(e.attributes).reduce((c,p)=>(c.name!=="class"&&c.name!=="style"&&(c[p.name]=p.value),c),{}),n=e.getAttribute("title"),r=e.getAttribute("data-fa-title-id");return $t.autoA11y&&(n?t["aria-labelledby"]="".concat($t.replacementClass,"-title-").concat(r||wl()):(t["aria-hidden"]="true",t.focusable="false")),t}function bA(){return{iconName:null,title:null,titleId:null,prefix:null,transform:lr,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}function Om(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{styleParser:!0};const{iconName:n,prefix:r,rest:c}=vA(e),p=yA(e),v=Xh("parseNodeAttributes",{},e);let o=t.styleParser?mA(e):[];return qt({iconName:n,title:e.getAttribute("title"),titleId:e.getAttribute("data-fa-title-id"),prefix:r,transform:lr,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:c,styles:o,attributes:p}},v)}const{styles:wA}=cr;function B2(e){const t=$t.autoReplaceSvg==="nest"?Om(e,{styleParser:!1}):Om(e);return~t.extra.classes.indexOf(b2)?ms("generateLayersText",e,t):ms("generateSvgReplacementMutation",e,t)}function _A(){return[...t4,...Bh]}function Lm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(!Mr)return Promise.resolve();const n=ze.documentElement.classList,r=f=>n.add("".concat(mm,"-").concat(f)),c=f=>n.remove("".concat(mm,"-").concat(f)),p=$t.autoFetchSvg?_A():h2.concat(Object.keys(wA));p.includes("fa")||p.push("fa");const v=[".".concat(b2,":not([").concat(Gs,"])")].concat(p.map(f=>".".concat(f,":not([").concat(Gs,"])"))).join(", ");if(v.length===0)return Promise.resolve();let o=[];try{o=ao(e.querySelectorAll(v))}catch{}if(o.length>0)r("pending"),c("complete");else return Promise.resolve();const i=Hd.begin("onTree"),u=o.reduce((f,a)=>{try{const l=B2(a);l&&f.push(l)}catch(l){v2||l.name==="MissingIcon"&&console.error(l)}return f},[]);return new Promise((f,a)=>{Promise.all(u).then(l=>{R2(l,()=>{r("active"),r("complete"),c("pending"),typeof t=="function"&&t(),i(),f()})}).catch(l=>{i(),a(l)})})}function xA(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;B2(e).then(n=>{n&&R2([n],t)})}function SA(e){return function(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const r=(t||{}).icon?t:Gh(t||{});let{mask:c}=n;return c&&(c=(c||{}).icon?c:Gh(c||{})),e(r,qt(qt({},n),{},{mask:c}))}}const CA=function(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=lr,symbol:r=!1,mask:c=null,maskId:p=null,title:v=null,titleId:o=null,classes:i=[],attributes:u={},styles:f={}}=t;if(!e)return;const{prefix:a,iconName:l,icon:s}=e;return ju(qt({type:"icon"},e),()=>(Ks("beforeDOMElementCreation",{iconDefinition:e,params:t}),$t.autoA11y&&(v?u["aria-labelledby"]="".concat($t.replacementClass,"-title-").concat(o||wl()):(u["aria-hidden"]="true",u.focusable="false")),qd({icons:{main:Kh(s),mask:c?Kh(c.icon):{found:!1,width:null,height:null,icon:{}}},prefix:a,iconName:l,transform:qt(qt({},lr),n),symbol:r,title:v,maskId:p,titleId:o,extra:{attributes:u,styles:f,classes:i}})))};var AA={mixout(){return{icon:SA(CA)}},hooks(){return{mutationObserverCallbacks(e){return e.treeCallback=Lm,e.nodeCallback=xA,e}}},provides(e){e.i2svg=function(t){const{node:n=ze,callback:r=()=>{}}=t;return Lm(n,r)},e.generateSvgReplacementMutation=function(t,n){const{iconName:r,title:c,titleId:p,prefix:v,transform:o,symbol:i,mask:u,maskId:f,extra:a}=n;return new Promise((l,s)=>{Promise.all([$h(r,v),u.iconName?$h(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(h=>{let[g,d]=h;l([t,qd({icons:{main:g,mask:d},prefix:v,iconName:r,transform:o,symbol:i,maskId:f,title:c,titleId:p,extra:a,watchable:!0})])}).catch(s)})},e.generateAbstractIcon=function(t){let{children:n,attributes:r,main:c,transform:p,styles:v}=t;const o=Du(v);o.length>0&&(r.style=o);let i;return Bd(p)&&(i=ms("generateAbstractTransformGrouping",{main:c,transform:p,containerWidth:c.width,iconWidth:c.width})),n.push(i||c.icon),{children:n,attributes:r}}}},TA={mixout(){return{layer(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{classes:n=[]}=t;return ju({type:"layer"},()=>{Ks("beforeDOMElementCreation",{assembler:e,params:t});let r=[];return e(c=>{Array.isArray(c)?c.map(p=>{r=r.concat(p.abstract)}):r=r.concat(c.abstract)}),[{tag:"span",attributes:{class:["".concat($t.cssPrefix,"-layers"),...n].join(" ")},children:r}]})}}}},PA={mixout(){return{counter(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{title:n=null,classes:r=[],attributes:c={},styles:p={}}=t;return ju({type:"counter",content:e},()=>(Ks("beforeDOMElementCreation",{content:e,params:t}),sA({content:e.toString(),title:n,extra:{attributes:c,styles:p,classes:["".concat($t.cssPrefix,"-layers-counter"),...r]}})))}}}},OA={mixout(){return{text(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const{transform:n=lr,title:r=null,classes:c=[],attributes:p={},styles:v={}}=t;return ju({type:"text",content:e},()=>(Ks("beforeDOMElementCreation",{content:e,params:t}),Sm({content:e,transform:qt(qt({},lr),n),title:r,extra:{attributes:p,styles:v,classes:["".concat($t.cssPrefix,"-layers-text"),...c]}})))}}},provides(e){e.generateLayersText=function(t,n){const{title:r,transform:c,extra:p}=n;let v=null,o=null;if(u2){const i=parseInt(getComputedStyle(t).fontSize,10),u=t.getBoundingClientRect();v=u.width/i,o=u.height/i}return $t.autoA11y&&!r&&(p.attributes["aria-hidden"]="true"),Promise.resolve([t,Sm({content:t.innerHTML,width:v,height:o,transform:c,title:r,extra:p,watchable:!0})])}}};const LA=new RegExp('"',"ug"),km=[1105920,1112319],Em=qt(qt(qt(qt({},{FontAwesome:{normal:"fas",400:"fas"}}),J3),p4),o4),Zh=Object.keys(Em).reduce((e,t)=>(e[t.toLowerCase()]=Em[t],e),{}),kA=Object.keys(Zh).reduce((e,t)=>{const n=Zh[t];return e[t]=n[900]||[...Object.entries(n)][0][1],e},{});function EA(e){const t=e.replace(LA,""),n=R4(t,0),r=n>=km[0]&&n<=km[1],c=t.length===2?t[0]===t[1]:!1;return{value:Vh(c?t[0]:t),isSecondary:r||c}}function NA(e,t){const n=e.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(t),c=isNaN(r)?"normal":r;return(Zh[n]||{})[c]||kA[n]}function Nm(e,t){const n="".concat(g4).concat(t.replace(":","-"));return new Promise((r,c)=>{if(e.getAttribute(n)!==null)return r();const v=ao(e.children).filter(l=>l.getAttribute(zh)===t)[0],o=ps.getComputedStyle(e,t),i=o.getPropertyValue("font-family"),u=i.match(w4),f=o.getPropertyValue("font-weight"),a=o.getPropertyValue("content");if(v&&!u)return e.removeChild(v),r();if(u&&a!=="none"&&a!==""){const l=o.getPropertyValue("content");let s=NA(i,f);const{value:h,isSecondary:g}=EA(l),d=u[0].startsWith("FontAwesome");let m=zd(s,h),b=m;if(d){const _=H4(h);_.iconName&&_.prefix&&(m=_.iconName,s=_.prefix)}if(m&&!g&&(!v||v.getAttribute(Dd)!==s||v.getAttribute(Md)!==b)){e.setAttribute(n,b),v&&e.removeChild(v);const _=bA(),{extra:x}=_;x.attributes[zh]=t,$h(m,s).then(A=>{const L=qd(qt(qt({},_),{},{icons:{main:A,mask:F2()},prefix:s,iconName:b,extra:x,watchable:!0})),E=ze.createElementNS("http://www.w3.org/2000/svg","svg");t==="::before"?e.insertBefore(E,e.firstChild):e.appendChild(E),E.outerHTML=L.map(F=>Ll(F)).join(`
`),e.removeAttribute(n),r()}).catch(c)}else r()}else r()})}function FA(e){return Promise.all([Nm(e,"::before"),Nm(e,"::after")])}function IA(e){return e.parentNode!==document.head&&!~v4.indexOf(e.tagName.toUpperCase())&&!e.getAttribute(zh)&&(!e.parentNode||e.parentNode.tagName!=="svg")}function Fm(e){if(!!Mr)return new Promise((t,n)=>{const r=ao(e.querySelectorAll("*")).filter(IA).map(FA),c=Hd.begin("searchPseudoElements");j2(),Promise.all(r).then(()=>{c(),Qh(),t()}).catch(()=>{c(),Qh(),n()})})}var DA={hooks(){return{mutationObserverCallbacks(e){return e.pseudoElementsCallback=Fm,e}}},provides(e){e.pseudoElements2svg=function(t){const{node:n=ze}=t;$t.searchPseudoElements&&Fm(n)}}};let Im=!1;var MA={mixout(){return{dom:{unwatch(){j2(),Im=!0}}}},hooks(){return{bootstrap(){Pm(Xh("mutationObserverCallbacks",{}))},noAuto(){gA()},watch(e){const{observeMutationsRoot:t}=e;Im?Qh():Pm(Xh("mutationObserverCallbacks",{observeMutationsRoot:t}))}}}};const Dm=e=>{let t={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return e.toLowerCase().split(" ").reduce((n,r)=>{const c=r.toLowerCase().split("-"),p=c[0];let v=c.slice(1).join("-");if(p&&v==="h")return n.flipX=!0,n;if(p&&v==="v")return n.flipY=!0,n;if(v=parseFloat(v),isNaN(v))return n;switch(p){case"grow":n.size=n.size+v;break;case"shrink":n.size=n.size-v;break;case"left":n.x=n.x-v;break;case"right":n.x=n.x+v;break;case"up":n.y=n.y-v;break;case"down":n.y=n.y+v;break;case"rotate":n.rotate=n.rotate+v;break}return n},t)};var RA={mixout(){return{parse:{transform:e=>Dm(e)}}},hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-transform");return n&&(e.transform=Dm(n)),e}}},provides(e){e.generateAbstractTransformGrouping=function(t){let{main:n,transform:r,containerWidth:c,iconWidth:p}=t;const v={transform:"translate(".concat(c/2," 256)")},o="translate(".concat(r.x*32,", ").concat(r.y*32,") "),i="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),f={transform:"".concat(o," ").concat(i," ").concat(u)},a={transform:"translate(".concat(p/2*-1," -256)")},l={outer:v,inner:f,path:a};return{tag:"g",attributes:qt({},l.outer),children:[{tag:"g",attributes:qt({},l.inner),children:[{tag:n.icon.tag,children:n.icon.children,attributes:qt(qt({},n.icon.attributes),l.path)}]}]}}}};const ah={x:0,y:0,width:"100%",height:"100%"};function Mm(e){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return e.attributes&&(e.attributes.fill||t)&&(e.attributes.fill="black"),e}function jA(e){return e.tag==="g"?e.children:[e]}var BA={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-mask"),r=n?Ru(n.split(" ").map(c=>c.trim())):F2();return r.prefix||(r.prefix=gs()),e.mask=r,e.maskId=t.getAttribute("data-fa-mask-id"),e}}},provides(e){e.generateAbstractMask=function(t){let{children:n,attributes:r,main:c,mask:p,maskId:v,transform:o}=t;const{width:i,icon:u}=c,{width:f,icon:a}=p,l=k4({transform:o,containerWidth:f,iconWidth:i}),s={tag:"rect",attributes:qt(qt({},ah),{},{fill:"white"})},h=u.children?{children:u.children.map(Mm)}:{},g={tag:"g",attributes:qt({},l.inner),children:[Mm(qt({tag:u.tag,attributes:qt(qt({},u.attributes),l.path)},h))]},d={tag:"g",attributes:qt({},l.outer),children:[g]},m="mask-".concat(v||wl()),b="clip-".concat(v||wl()),_={tag:"mask",attributes:qt(qt({},ah),{},{id:m,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[s,d]},x={tag:"defs",children:[{tag:"clipPath",attributes:{id:b},children:jA(a)},_]};return n.push(x,{tag:"rect",attributes:qt({fill:"currentColor","clip-path":"url(#".concat(b,")"),mask:"url(#".concat(m,")")},ah)}),{children:n,attributes:r}}}},UA={provides(e){let t=!1;ps.matchMedia&&(t=ps.matchMedia("(prefers-reduced-motion: reduce)").matches),e.missingIconAbstract=function(){const n=[],r={fill:"currentColor"},c={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};n.push({tag:"path",attributes:qt(qt({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const p=qt(qt({},c),{},{attributeName:"opacity"}),v={tag:"circle",attributes:qt(qt({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return t||v.children.push({tag:"animate",attributes:qt(qt({},c),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:qt(qt({},p),{},{values:"1;0;1;1;0;1;"})}),n.push(v),n.push({tag:"path",attributes:qt(qt({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:t?[]:[{tag:"animate",attributes:qt(qt({},p),{},{values:"1;0;0;0;0;1;"})}]}),t||n.push({tag:"path",attributes:qt(qt({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:qt(qt({},p),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:n}}}},zA={hooks(){return{parseNodeAttributes(e,t){const n=t.getAttribute("data-fa-symbol"),r=n===null?!1:n===""?!0:n;return e.symbol=r,e}}}},qA=[F4,AA,TA,PA,OA,DA,MA,RA,BA,UA,zA];Q4(qA,{mixoutsTo:ui});ui.noAuto;const U2=ui.config,HA=ui.library;ui.dom;const lu=ui.parse;ui.findIconDefinition;ui.toHtml;const WA=ui.icon;ui.layer;const VA=ui.text;ui.counter;function Rm(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(c){return Object.getOwnPropertyDescriptor(e,c).enumerable})),n.push.apply(n,r)}return n}function Di(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Rm(Object(n),!0).forEach(function(r){Jn(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rm(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YA(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function XA(e){var t=YA(e,"string");return typeof t=="symbol"?t:t+""}function cu(e){return cu=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},cu(e)}function Jn(e,t,n){return t=XA(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function GA(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function KA(e,t){if(e==null)return{};var n=GA(e,t),r,c;if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(c=0;c<p.length;c++)r=p[c],!(t.indexOf(r)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,r)||(n[r]=e[r]))}return n}function td(e){return $A(e)||JA(e)||QA(e)||ZA()}function $A(e){if(Array.isArray(e))return ed(e)}function JA(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function QA(e,t){if(!!e){if(typeof e=="string")return ed(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ed(e,t)}}function ed(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ZA(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t6=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z2={exports:{}};(function(e){(function(t){var n=function(m,b,_){if(!u(b)||a(b)||l(b)||s(b)||i(b))return b;var x,A=0,L=0;if(f(b))for(x=[],L=b.length;A<L;A++)x.push(n(m,b[A],_));else{x={};for(var E in b)Object.prototype.hasOwnProperty.call(b,E)&&(x[m(E,_)]=n(m,b[E],_))}return x},r=function(m,b){b=b||{};var _=b.separator||"_",x=b.split||/(?=[A-Z])/;return m.split(x).join(_)},c=function(m){return h(m)?m:(m=m.replace(/[\-_\s]+(.)?/g,function(b,_){return _?_.toUpperCase():""}),m.substr(0,1).toLowerCase()+m.substr(1))},p=function(m){var b=c(m);return b.substr(0,1).toUpperCase()+b.substr(1)},v=function(m,b){return r(m,b).toLowerCase()},o=Object.prototype.toString,i=function(m){return typeof m=="function"},u=function(m){return m===Object(m)},f=function(m){return o.call(m)=="[object Array]"},a=function(m){return o.call(m)=="[object Date]"},l=function(m){return o.call(m)=="[object RegExp]"},s=function(m){return o.call(m)=="[object Boolean]"},h=function(m){return m=m-0,m===m},g=function(m,b){var _=b&&"process"in b?b.process:b;return typeof _!="function"?m:function(x,A){return _(x,m,A)}},d={camelize:c,decamelize:v,pascalize:p,depascalize:v,camelizeKeys:function(m,b){return n(g(c,b),m)},decamelizeKeys:function(m,b){return n(g(v,b),m,b)},pascalizeKeys:function(m,b){return n(g(p,b),m)},depascalizeKeys:function(){return this.decamelizeKeys.apply(this,arguments)}};e.exports?e.exports=d:t.humps=d})(t6)})(z2);var e6=z2.exports,n6=["class","style"];function i6(e){return e.split(";").map(function(t){return t.trim()}).filter(function(t){return t}).reduce(function(t,n){var r=n.indexOf(":"),c=e6.camelize(n.slice(0,r)),p=n.slice(r+1).trim();return t[c]=p,t},{})}function r6(e){return e.split(/\s+/).reduce(function(t,n){return t[n]=!0,t},{})}function Vd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof e=="string")return e;var r=(e.children||[]).map(function(i){return Vd(i)}),c=Object.keys(e.attributes||{}).reduce(function(i,u){var f=e.attributes[u];switch(u){case"class":i.class=r6(f);break;case"style":i.style=i6(f);break;default:i.attrs[u]=f}return i},{attrs:{},class:{},style:{}});n.class;var p=n.style,v=p===void 0?{}:p,o=KA(n,n6);return no(e.tag,Di(Di(Di({},t),{},{class:c.class,style:Di(Di({},c.style),v)},c.attrs),o),r)}var q2=!1;try{q2=!0}catch{}function s6(){if(!q2&&console&&typeof console.error=="function"){var e;(e=console).error.apply(e,arguments)}}function sl(e,t){return Array.isArray(t)&&t.length>0||!Array.isArray(t)&&t?Jn({},e,t):{}}function a6(e){var t,n=(t={"fa-spin":e.spin,"fa-pulse":e.pulse,"fa-fw":e.fixedWidth,"fa-border":e.border,"fa-li":e.listItem,"fa-inverse":e.inverse,"fa-flip":e.flip===!0,"fa-flip-horizontal":e.flip==="horizontal"||e.flip==="both","fa-flip-vertical":e.flip==="vertical"||e.flip==="both"},Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(Jn(t,"fa-".concat(e.size),e.size!==null),"fa-rotate-".concat(e.rotation),e.rotation!==null),"fa-pull-".concat(e.pull),e.pull!==null),"fa-swap-opacity",e.swapOpacity),"fa-bounce",e.bounce),"fa-shake",e.shake),"fa-beat",e.beat),"fa-fade",e.fade),"fa-beat-fade",e.beatFade),"fa-flash",e.flash),Jn(Jn(t,"fa-spin-pulse",e.spinPulse),"fa-spin-reverse",e.spinReverse));return Object.keys(n).map(function(r){return n[r]?r:null}).filter(function(r){return r})}function jm(e){if(e&&cu(e)==="object"&&e.prefix&&e.iconName&&e.icon)return e;if(lu.icon)return lu.icon(e);if(e===null)return null;if(cu(e)==="object"&&e.prefix&&e.iconName)return e;if(Array.isArray(e)&&e.length===2)return{prefix:e[0],iconName:e[1]};if(typeof e=="string")return{prefix:"fas",iconName:e}}var o6=to({name:"FontAwesomeIcon",props:{border:{type:Boolean,default:!1},fixedWidth:{type:Boolean,default:!1},flip:{type:[Boolean,String],default:!1,validator:function(t){return[!0,!1,"horizontal","vertical","both"].indexOf(t)>-1}},icon:{type:[Object,Array,String],required:!0},mask:{type:[Object,Array,String],default:null},maskId:{type:String,default:null},listItem:{type:Boolean,default:!1},pull:{type:String,default:null,validator:function(t){return["right","left"].indexOf(t)>-1}},pulse:{type:Boolean,default:!1},rotation:{type:[String,Number],default:null,validator:function(t){return[90,180,270].indexOf(Number.parseInt(t,10))>-1}},swapOpacity:{type:Boolean,default:!1},size:{type:String,default:null,validator:function(t){return["2xs","xs","sm","lg","xl","2xl","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"].indexOf(t)>-1}},spin:{type:Boolean,default:!1},transform:{type:[String,Object],default:null},symbol:{type:[Boolean,String],default:!1},title:{type:String,default:null},titleId:{type:String,default:null},inverse:{type:Boolean,default:!1},bounce:{type:Boolean,default:!1},shake:{type:Boolean,default:!1},beat:{type:Boolean,default:!1},fade:{type:Boolean,default:!1},beatFade:{type:Boolean,default:!1},flash:{type:Boolean,default:!1},spinPulse:{type:Boolean,default:!1},spinReverse:{type:Boolean,default:!1}},setup:function(t,n){var r=n.attrs,c=qe(function(){return jm(t.icon)}),p=qe(function(){return sl("classes",a6(t))}),v=qe(function(){return sl("transform",typeof t.transform=="string"?lu.transform(t.transform):t.transform)}),o=qe(function(){return sl("mask",jm(t.mask))}),i=qe(function(){return WA(c.value,Di(Di(Di(Di({},p.value),v.value),o.value),{},{symbol:t.symbol,title:t.title,titleId:t.titleId,maskId:t.maskId}))});ur(i,function(f){if(!f)return s6("Could not find one or more icon(s)",c.value,o.value)},{immediate:!0});var u=qe(function(){return i.value?Vd(i.value.abstract[0],{},r):null});return function(){return u.value}}});to({name:"FontAwesomeLayers",props:{fixedWidth:{type:Boolean,default:!1}},setup:function(t,n){var r=n.slots,c=U2.familyPrefix,p=qe(function(){return["".concat(c,"-layers")].concat(td(t.fixedWidth?["".concat(c,"-fw")]:[]))});return function(){return no("div",{class:p.value},r.default?r.default():[])}}});to({name:"FontAwesomeLayersText",props:{value:{type:[String,Number],default:""},transform:{type:[String,Object],default:null},counter:{type:Boolean,default:!1},position:{type:String,default:null,validator:function(t){return["bottom-left","bottom-right","top-left","top-right"].indexOf(t)>-1}}},setup:function(t,n){var r=n.attrs,c=U2.familyPrefix,p=qe(function(){return sl("classes",[].concat(td(t.counter?["".concat(c,"-layers-counter")]:[]),td(t.position?["".concat(c,"-layers-").concat(t.position)]:[])))}),v=qe(function(){return sl("transform",typeof t.transform=="string"?lu.transform(t.transform):t.transform)}),o=qe(function(){var u=VA(t.value.toString(),Di(Di({},v.value),p.value)),f=u.abstract;return t.counter&&(f[0].attributes.class=f[0].attributes.class.replace("fa-layers-text","")),f[0]}),i=qe(function(){return Vd(o.value,{},r)});return function(){return i.value}}});/*!
 * Font Awesome Free 6.7.2 by @fontawesome - https://fontawesome.com
 * License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * Copyright 2024 Fonticons, Inc.
 */const l6={prefix:"fas",iconName:"signature",icon:[640,512,[],"f5b7","M192 128c0-17.7 14.3-32 32-32s32 14.3 32 32l0 7.8c0 27.7-2.4 55.3-7.1 82.5l-84.4 25.3c-40.6 12.2-68.4 49.6-68.4 92l0 71.9c0 40 32.5 72.5 72.5 72.5c26 0 50-13.9 62.9-36.5l13.9-24.3c26.8-47 46.5-97.7 58.4-150.5l94.4-28.3-12.5 37.5c-3.3 9.8-1.6 20.5 4.4 28.8s15.7 13.3 26 13.3l128 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-83.6 0 18-53.9c3.8-11.3 .9-23.8-7.4-32.4s-20.7-11.8-32.2-8.4L316.4 198.1c2.4-20.7 3.6-41.4 3.6-62.3l0-7.8c0-53-43-96-96-96s-96 43-96 96l0 32c0 17.7 14.3 32 32 32s32-14.3 32-32l0-32zm-9.2 177l49-14.7c-10.4 33.8-24.5 66.4-42.1 97.2l-13.9 24.3c-1.5 2.6-4.3 4.3-7.4 4.3c-4.7 0-8.5-3.8-8.5-8.5l0-71.9c0-14.1 9.3-26.6 22.8-30.7zM24 368c-13.3 0-24 10.7-24 24s10.7 24 24 24l40.3 0c-.2-2.8-.3-5.6-.3-8.5L64 368l-40 0zm592 48c13.3 0 24-10.7 24-24s-10.7-24-24-24l-310.1 0c-6.7 16.3-14.2 32.3-22.3 48L616 416z"]};HA.add(l6);const Yd=rb(B3),H2=Q1();Yd.config.globalProperties.$emitter=H2;Yd.config.errorHandler=(e,t,n)=>{console.log("\u6709\u932F\u8AA4"),console.error(e,n)};Yd.component("font-awesome-icon",o6).component("PageLoding",s2).use(z3).provide("emitter",H2).mount("#app");export{Wn as _,Pt as a,ye as b,ge as c,Yo as d,c6 as e,Ee as f,ae as o,un as r,is as w};
